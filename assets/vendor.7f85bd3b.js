function Jc(r,o){return o.forEach(function(l){l&&typeof l!="string"&&!Array.isArray(l)&&Object.keys(l).forEach(function(f){if(f!=="default"&&!(f in r)){var d=Object.getOwnPropertyDescriptor(l,f);Object.defineProperty(r,f,d.get?d:{enumerable:!0,get:function(){return l[f]}})}})}),Object.freeze(r)}function Is(r,o){const l=Object.create(null),f=r.split(",");for(let d=0;d<f.length;d++)l[f[d]]=!0;return o?d=>!!l[d.toLowerCase()]:d=>!!l[d]}const $c="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",e1=Is($c);function $o(r){return!!r||r===""}function ys(r){if(ve(r)){const o={};for(let l=0;l<r.length;l++){const f=r[l],d=Dt(f)?r1(f):ys(f);if(d)for(const x in d)o[x]=d[x]}return o}else{if(Dt(r))return r;if(Ft(r))return r}}const t1=/;(?![^(]*\))/g,n1=/:(.+)/;function r1(r){const o={};return r.split(t1).forEach(l=>{if(l){const f=l.split(n1);f.length>1&&(o[f[0].trim()]=f[1].trim())}}),o}function Ts(r){let o="";if(Dt(r))o=r;else if(ve(r))for(let l=0;l<r.length;l++){const f=Ts(r[l]);f&&(o+=f+" ")}else if(Ft(r))for(const l in r)r[l]&&(o+=l+" ");return o.trim()}const nt={},Ir=[],hn=()=>{},i1=()=>!1,s1=/^on[^a-z]/,Ni=r=>s1.test(r),Ss=r=>r.startsWith("onUpdate:"),Mt=Object.assign,ea=(r,o)=>{const l=r.indexOf(o);l>-1&&r.splice(l,1)},o1=Object.prototype.hasOwnProperty,Ue=(r,o)=>o1.call(r,o),ve=Array.isArray,Jr=r=>Ri(r)==="[object Map]",a1=r=>Ri(r)==="[object Set]",Ne=r=>typeof r=="function",Dt=r=>typeof r=="string",_s=r=>typeof r=="symbol",Ft=r=>r!==null&&typeof r=="object",ta=r=>Ft(r)&&Ne(r.then)&&Ne(r.catch),l1=Object.prototype.toString,Ri=r=>l1.call(r),c1=r=>Ri(r).slice(8,-1),u1=r=>Ri(r)==="[object Object]",Os=r=>Dt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Mi=Is(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Di=r=>{const o=Object.create(null);return l=>o[l]||(o[l]=r(l))},f1=/-(\w)/g,yr=Di(r=>r.replace(f1,(o,l)=>l?l.toUpperCase():"")),h1=/\B([A-Z])/g,Tr=Di(r=>r.replace(h1,"-$1").toLowerCase()),na=Di(r=>r.charAt(0).toUpperCase()+r.slice(1)),Ns=Di(r=>r?`on${na(r)}`:""),$r=(r,o)=>!Object.is(r,o),Rs=(r,o)=>{for(let l=0;l<r.length;l++)r[l](o)},Bi=(r,o,l)=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!1,value:l})},d1=r=>{const o=parseFloat(r);return isNaN(o)?r:o};let ra;const g1=()=>ra||(ra=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let $n;const vi=[];class x1{constructor(o=!1){this.active=!0,this.effects=[],this.cleanups=[],!o&&$n&&(this.parent=$n,this.index=($n.scopes||($n.scopes=[])).push(this)-1)}run(o){if(this.active)try{return this.on(),o()}finally{this.off()}}on(){this.active&&(vi.push(this),$n=this)}off(){this.active&&(vi.pop(),$n=vi[vi.length-1])}stop(o){if(this.active){if(this.effects.forEach(l=>l.stop()),this.cleanups.forEach(l=>l()),this.scopes&&this.scopes.forEach(l=>l.stop(!0)),this.parent&&!o){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.active=!1}}}function w1(r,o){o=o||$n,o&&o.active&&o.effects.push(r)}const Ms=r=>{const o=new Set(r);return o.w=0,o.n=0,o},ia=r=>(r.w&Hn)>0,sa=r=>(r.n&Hn)>0,p1=({deps:r})=>{if(r.length)for(let o=0;o<r.length;o++)r[o].w|=Hn},A1=r=>{const{deps:o}=r;if(o.length){let l=0;for(let f=0;f<o.length;f++){const d=o[f];ia(d)&&!sa(d)?d.delete(r):o[l++]=d,d.w&=~Hn,d.n&=~Hn}o.length=l}},Ds=new WeakMap;let ei=0,Hn=1;const Bs=30,ti=[];let er;const tr=Symbol(""),vs=Symbol("");class Ps{constructor(o,l=null,f){this.fn=o,this.scheduler=l,this.active=!0,this.deps=[],w1(this,f)}run(){if(!this.active)return this.fn();if(!ti.includes(this))try{return ti.push(er=this),m1(),Hn=1<<++ei,ei<=Bs?p1(this):oa(this),this.fn()}finally{ei<=Bs&&A1(this),Hn=1<<--ei,nr(),ti.pop();const o=ti.length;er=o>0?ti[o-1]:void 0}}stop(){this.active&&(oa(this),this.onStop&&this.onStop(),this.active=!1)}}function oa(r){const{deps:o}=r;if(o.length){for(let l=0;l<o.length;l++)o[l].delete(r);o.length=0}}let Sr=!0;const Ls=[];function _r(){Ls.push(Sr),Sr=!1}function m1(){Ls.push(Sr),Sr=!0}function nr(){const r=Ls.pop();Sr=r===void 0?!0:r}function Qt(r,o,l){if(!aa())return;let f=Ds.get(r);f||Ds.set(r,f=new Map);let d=f.get(l);d||f.set(l,d=Ms()),la(d)}function aa(){return Sr&&er!==void 0}function la(r,o){let l=!1;ei<=Bs?sa(r)||(r.n|=Hn,l=!ia(r)):l=!r.has(er),l&&(r.add(er),er.deps.push(r))}function Nn(r,o,l,f,d,x){const m=Ds.get(r);if(!m)return;let b=[];if(o==="clear")b=[...m.values()];else if(l==="length"&&ve(r))m.forEach((I,y)=>{(y==="length"||y>=f)&&b.push(I)});else switch(l!==void 0&&b.push(m.get(l)),o){case"add":ve(r)?Os(l)&&b.push(m.get("length")):(b.push(m.get(tr)),Jr(r)&&b.push(m.get(vs)));break;case"delete":ve(r)||(b.push(m.get(tr)),Jr(r)&&b.push(m.get(vs)));break;case"set":Jr(r)&&b.push(m.get(tr));break}if(b.length===1)b[0]&&Fs(b[0]);else{const I=[];for(const y of b)y&&I.push(...y);Fs(Ms(I))}}function Fs(r,o){for(const l of ve(r)?r:[...r])(l!==er||l.allowRecurse)&&(l.scheduler?l.scheduler():l.run())}const C1=Is("__proto__,__v_isRef,__isVue"),ca=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(_s)),E1=ks(),b1=ks(!1,!0),I1=ks(!0),ua=y1();function y1(){const r={};return["includes","indexOf","lastIndexOf"].forEach(o=>{r[o]=function(...l){const f=He(this);for(let x=0,m=this.length;x<m;x++)Qt(f,"get",x+"");const d=f[o](...l);return d===-1||d===!1?f[o](...l.map(He)):d}}),["push","pop","shift","unshift","splice"].forEach(o=>{r[o]=function(...l){_r();const f=He(this)[o].apply(this,l);return nr(),f}}),r}function ks(r=!1,o=!1){return function(f,d,x){if(d==="__v_isReactive")return!r;if(d==="__v_isReadonly")return r;if(d==="__v_raw"&&x===(r?o?V1:ma:o?Aa:pa).get(f))return f;const m=ve(f);if(!r&&m&&Ue(ua,d))return Reflect.get(ua,d,x);const b=Reflect.get(f,d,x);return(_s(d)?ca.has(d):C1(d))||(r||Qt(f,"get",d),o)?b:zt(b)?!m||!Os(d)?b.value:b:Ft(b)?r?Ca(b):Hs(b):b}}const T1=fa(),S1=fa(!0);function fa(r=!1){return function(l,f,d,x){let m=l[f];if(!r&&(d=He(d),m=He(m),!ve(l)&&zt(m)&&!zt(d)))return m.value=d,!0;const b=ve(l)&&Os(f)?Number(f)<l.length:Ue(l,f),I=Reflect.set(l,f,d,x);return l===He(x)&&(b?$r(d,m)&&Nn(l,"set",f,d):Nn(l,"add",f,d)),I}}function _1(r,o){const l=Ue(r,o);r[o];const f=Reflect.deleteProperty(r,o);return f&&l&&Nn(r,"delete",o,void 0),f}function O1(r,o){const l=Reflect.has(r,o);return(!_s(o)||!ca.has(o))&&Qt(r,"has",o),l}function N1(r){return Qt(r,"iterate",ve(r)?"length":tr),Reflect.ownKeys(r)}const ha={get:E1,set:T1,deleteProperty:_1,has:O1,ownKeys:N1},R1={get:I1,set(r,o){return!0},deleteProperty(r,o){return!0}},M1=Mt({},ha,{get:b1,set:S1}),Us=r=>r,Pi=r=>Reflect.getPrototypeOf(r);function Li(r,o,l=!1,f=!1){r=r.__v_raw;const d=He(r),x=He(o);o!==x&&!l&&Qt(d,"get",o),!l&&Qt(d,"get",x);const{has:m}=Pi(d),b=f?Us:l?Xs:ni;if(m.call(d,o))return b(r.get(o));if(m.call(d,x))return b(r.get(x));r!==d&&r.get(o)}function Fi(r,o=!1){const l=this.__v_raw,f=He(l),d=He(r);return r!==d&&!o&&Qt(f,"has",r),!o&&Qt(f,"has",d),r===d?l.has(r):l.has(r)||l.has(d)}function ki(r,o=!1){return r=r.__v_raw,!o&&Qt(He(r),"iterate",tr),Reflect.get(r,"size",r)}function da(r){r=He(r);const o=He(this);return Pi(o).has.call(o,r)||(o.add(r),Nn(o,"add",r,r)),this}function ga(r,o){o=He(o);const l=He(this),{has:f,get:d}=Pi(l);let x=f.call(l,r);x||(r=He(r),x=f.call(l,r));const m=d.call(l,r);return l.set(r,o),x?$r(o,m)&&Nn(l,"set",r,o):Nn(l,"add",r,o),this}function xa(r){const o=He(this),{has:l,get:f}=Pi(o);let d=l.call(o,r);d||(r=He(r),d=l.call(o,r)),f&&f.call(o,r);const x=o.delete(r);return d&&Nn(o,"delete",r,void 0),x}function wa(){const r=He(this),o=r.size!==0,l=r.clear();return o&&Nn(r,"clear",void 0,void 0),l}function Ui(r,o){return function(f,d){const x=this,m=x.__v_raw,b=He(m),I=o?Us:r?Xs:ni;return!r&&Qt(b,"iterate",tr),m.forEach((y,N)=>f.call(d,I(y),I(N),x))}}function Vi(r,o,l){return function(...f){const d=this.__v_raw,x=He(d),m=Jr(x),b=r==="entries"||r===Symbol.iterator&&m,I=r==="keys"&&m,y=d[r](...f),N=l?Us:o?Xs:ni;return!o&&Qt(x,"iterate",I?vs:tr),{next(){const{value:G,done:U}=y.next();return U?{value:G,done:U}:{value:b?[N(G[0]),N(G[1])]:N(G),done:U}},[Symbol.iterator](){return this}}}}function Wn(r){return function(...o){return r==="delete"?!1:this}}function D1(){const r={get(x){return Li(this,x)},get size(){return ki(this)},has:Fi,add:da,set:ga,delete:xa,clear:wa,forEach:Ui(!1,!1)},o={get(x){return Li(this,x,!1,!0)},get size(){return ki(this)},has:Fi,add:da,set:ga,delete:xa,clear:wa,forEach:Ui(!1,!0)},l={get(x){return Li(this,x,!0)},get size(){return ki(this,!0)},has(x){return Fi.call(this,x,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Ui(!0,!1)},f={get(x){return Li(this,x,!0,!0)},get size(){return ki(this,!0)},has(x){return Fi.call(this,x,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(x=>{r[x]=Vi(x,!1,!1),l[x]=Vi(x,!0,!1),o[x]=Vi(x,!1,!0),f[x]=Vi(x,!0,!0)}),[r,l,o,f]}const[B1,v1,P1,L1]=D1();function Vs(r,o){const l=o?r?L1:P1:r?v1:B1;return(f,d,x)=>d==="__v_isReactive"?!r:d==="__v_isReadonly"?r:d==="__v_raw"?f:Reflect.get(Ue(l,d)&&d in f?l:f,d,x)}const F1={get:Vs(!1,!1)},k1={get:Vs(!1,!0)},U1={get:Vs(!0,!1)},pa=new WeakMap,Aa=new WeakMap,ma=new WeakMap,V1=new WeakMap;function H1(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function W1(r){return r.__v_skip||!Object.isExtensible(r)?0:H1(c1(r))}function Hs(r){return r&&r.__v_isReadonly?r:Ws(r,!1,ha,F1,pa)}function X1(r){return Ws(r,!1,M1,k1,Aa)}function Ca(r){return Ws(r,!0,R1,U1,ma)}function Ws(r,o,l,f,d){if(!Ft(r)||r.__v_raw&&!(o&&r.__v_isReactive))return r;const x=d.get(r);if(x)return x;const m=W1(r);if(m===0)return r;const b=new Proxy(r,m===2?f:l);return d.set(r,b),b}function Or(r){return Ea(r)?Or(r.__v_raw):!!(r&&r.__v_isReactive)}function Ea(r){return!!(r&&r.__v_isReadonly)}function ba(r){return Or(r)||Ea(r)}function He(r){const o=r&&r.__v_raw;return o?He(o):r}function Ia(r){return Bi(r,"__v_skip",!0),r}const ni=r=>Ft(r)?Hs(r):r,Xs=r=>Ft(r)?Ca(r):r;function ya(r){aa()&&(r=He(r),r.dep||(r.dep=Ms()),la(r.dep))}function Ta(r,o){r=He(r),r.dep&&Fs(r.dep)}function zt(r){return Boolean(r&&r.__v_isRef===!0)}function Bd(r){return G1(r,!1)}function G1(r,o){return zt(r)?r:new Y1(r,o)}class Y1{constructor(o,l){this._shallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?o:He(o),this._value=l?o:ni(o)}get value(){return ya(this),this._value}set value(o){o=this._shallow?o:He(o),$r(o,this._rawValue)&&(this._rawValue=o,this._value=this._shallow?o:ni(o),Ta(this))}}function z1(r){return zt(r)?r.value:r}const j1={get:(r,o,l)=>z1(Reflect.get(r,o,l)),set:(r,o,l,f)=>{const d=r[o];return zt(d)&&!zt(l)?(d.value=l,!0):Reflect.set(r,o,l,f)}};function Sa(r){return Or(r)?r:new Proxy(r,j1)}class Z1{constructor(o,l,f){this._setter=l,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Ps(o,()=>{this._dirty||(this._dirty=!0,Ta(this))}),this.__v_isReadonly=f}get value(){const o=He(this);return ya(o),o._dirty&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function K1(r,o){let l,f;const d=Ne(r);return d?(l=r,f=hn):(l=r.get,f=r.set),new Z1(l,f,d||!f)}Promise.resolve();function q1(r,o,...l){const f=r.vnode.props||nt;let d=l;const x=o.startsWith("update:"),m=x&&o.slice(7);if(m&&m in f){const N=`${m==="modelValue"?"model":m}Modifiers`,{number:G,trim:U}=f[N]||nt;U?d=l.map(oe=>oe.trim()):G&&(d=l.map(d1))}let b,I=f[b=Ns(o)]||f[b=Ns(yr(o))];!I&&x&&(I=f[b=Ns(Tr(o))]),I&&on(I,r,6,d);const y=f[b+"Once"];if(y){if(!r.emitted)r.emitted={};else if(r.emitted[b])return;r.emitted[b]=!0,on(y,r,6,d)}}function _a(r,o,l=!1){const f=o.emitsCache,d=f.get(r);if(d!==void 0)return d;const x=r.emits;let m={},b=!1;if(!Ne(r)){const I=y=>{const N=_a(y,o,!0);N&&(b=!0,Mt(m,N))};!l&&o.mixins.length&&o.mixins.forEach(I),r.extends&&I(r.extends),r.mixins&&r.mixins.forEach(I)}return!x&&!b?(f.set(r,null),null):(ve(x)?x.forEach(I=>m[I]=null):Mt(m,x),f.set(r,m),m)}function Gs(r,o){return!r||!Ni(o)?!1:(o=o.slice(2).replace(/Once$/,""),Ue(r,o[0].toLowerCase()+o.slice(1))||Ue(r,Tr(o))||Ue(r,o))}let bn=null,Oa=null;function Hi(r){const o=bn;return bn=r,Oa=r&&r.type.__scopeId||null,o}function Q1(r,o=bn,l){if(!o||r._n)return r;const f=(...d)=>{f._d&&Ja(-1);const x=Hi(o),m=r(...d);return Hi(x),f._d&&Ja(1),m};return f._n=!0,f._c=!0,f._d=!0,f}function Ys(r){const{type:o,vnode:l,proxy:f,withProxy:d,props:x,propsOptions:[m],slots:b,attrs:I,emit:y,render:N,renderCache:G,data:U,setupState:oe,ctx:J,inheritAttrs:Oe}=r;let de,le;const ge=Hi(r);try{if(l.shapeFlag&4){const at=d||f;de=Sn(N.call(at,at,G,x,oe,U,J)),le=I}else{const at=o;de=Sn(at.length>1?at(x,{attrs:I,slots:b,emit:y}):at(x,null)),le=o.props?I:J1(I)}}catch(at){ri.length=0,qi(at,r,1),de=Mn(Tn)}let me=de;if(le&&Oe!==!1){const at=Object.keys(le),{shapeFlag:_e}=me;at.length&&_e&(1|6)&&(m&&at.some(Ss)&&(le=$1(le,m)),me=Nr(me,le))}return l.dirs&&(me.dirs=me.dirs?me.dirs.concat(l.dirs):l.dirs),l.transition&&(me.transition=l.transition),de=me,Hi(ge),de}const J1=r=>{let o;for(const l in r)(l==="class"||l==="style"||Ni(l))&&((o||(o={}))[l]=r[l]);return o},$1=(r,o)=>{const l={};for(const f in r)(!Ss(f)||!(f.slice(9)in o))&&(l[f]=r[f]);return l};function e0(r,o,l){const{props:f,children:d,component:x}=r,{props:m,children:b,patchFlag:I}=o,y=x.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&I>=0){if(I&1024)return!0;if(I&16)return f?Na(f,m,y):!!m;if(I&8){const N=o.dynamicProps;for(let G=0;G<N.length;G++){const U=N[G];if(m[U]!==f[U]&&!Gs(y,U))return!0}}}else return(d||b)&&(!b||!b.$stable)?!0:f===m?!1:f?m?Na(f,m,y):!0:!!m;return!1}function Na(r,o,l){const f=Object.keys(o);if(f.length!==Object.keys(r).length)return!0;for(let d=0;d<f.length;d++){const x=f[d];if(o[x]!==r[x]&&!Gs(l,x))return!0}return!1}function t0({vnode:r,parent:o},l){for(;o&&o.subTree===r;)(r=o.vnode).el=l,o=o.parent}const n0=r=>r.__isSuspense;function r0(r,o){o&&o.pendingBranch?ve(r)?o.effects.push(...r):o.effects.push(r):iu(r)}function i0(r,o){if(St){let l=St.provides;const f=St.parent&&St.parent.provides;f===l&&(l=St.provides=Object.create(f)),l[r]=o}}function zs(r,o,l=!1){const f=St||bn;if(f){const d=f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides;if(d&&r in d)return d[r];if(arguments.length>1)return l&&Ne(o)?o.call(f.proxy):o}}function s0(){const r={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return va(()=>{r.isMounted=!0}),Pa(()=>{r.isUnmounting=!0}),r}const sn=[Function,Array],o0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sn,onEnter:sn,onAfterEnter:sn,onEnterCancelled:sn,onBeforeLeave:sn,onLeave:sn,onAfterLeave:sn,onLeaveCancelled:sn,onBeforeAppear:sn,onAppear:sn,onAfterAppear:sn,onAppearCancelled:sn},setup(r,{slots:o}){const l=j0(),f=s0();let d;return()=>{const x=o.default&&Da(o.default(),!0);if(!x||!x.length)return;const m=He(r),{mode:b}=m,I=x[0];if(f.isLeaving)return Zs(I);const y=Ma(I);if(!y)return Zs(I);const N=js(y,m,f,l);Ks(y,N);const G=l.subTree,U=G&&Ma(G);let oe=!1;const{getTransitionKey:J}=y.type;if(J){const Oe=J();d===void 0?d=Oe:Oe!==d&&(d=Oe,oe=!0)}if(U&&U.type!==Tn&&(!or(y,U)||oe)){const Oe=js(U,m,f,l);if(Ks(U,Oe),b==="out-in")return f.isLeaving=!0,Oe.afterLeave=()=>{f.isLeaving=!1,l.update()},Zs(I);b==="in-out"&&y.type!==Tn&&(Oe.delayLeave=(de,le,ge)=>{const me=Ra(f,U);me[String(U.key)]=U,de._leaveCb=()=>{le(),de._leaveCb=void 0,delete N.delayedLeave},N.delayedLeave=ge})}return I}}},a0=o0;function Ra(r,o){const{leavingVNodes:l}=r;let f=l.get(o.type);return f||(f=Object.create(null),l.set(o.type,f)),f}function js(r,o,l,f){const{appear:d,mode:x,persisted:m=!1,onBeforeEnter:b,onEnter:I,onAfterEnter:y,onEnterCancelled:N,onBeforeLeave:G,onLeave:U,onAfterLeave:oe,onLeaveCancelled:J,onBeforeAppear:Oe,onAppear:de,onAfterAppear:le,onAppearCancelled:ge}=o,me=String(r.key),at=Ra(l,r),_e=(ae,X)=>{ae&&on(ae,f,9,X)},K={mode:x,persisted:m,beforeEnter(ae){let X=b;if(!l.isMounted)if(d)X=Oe||b;else return;ae._leaveCb&&ae._leaveCb(!0);const $e=at[me];$e&&or(r,$e)&&$e.el._leaveCb&&$e.el._leaveCb(),_e(X,[ae])},enter(ae){let X=I,$e=y,et=N;if(!l.isMounted)if(d)X=de||I,$e=le||y,et=ge||N;else return;let se=!1;const be=ae._enterCb=it=>{se||(se=!0,it?_e(et,[ae]):_e($e,[ae]),K.delayedLeave&&K.delayedLeave(),ae._enterCb=void 0)};X?(X(ae,be),X.length<=1&&be()):be()},leave(ae,X){const $e=String(r.key);if(ae._enterCb&&ae._enterCb(!0),l.isUnmounting)return X();_e(G,[ae]);let et=!1;const se=ae._leaveCb=be=>{et||(et=!0,X(),be?_e(J,[ae]):_e(oe,[ae]),ae._leaveCb=void 0,at[$e]===r&&delete at[$e])};at[$e]=r,U?(U(ae,se),U.length<=1&&se()):se()},clone(ae){return js(ae,o,l,f)}};return K}function Zs(r){if(Wi(r))return r=Nr(r),r.children=null,r}function Ma(r){return Wi(r)?r.children?r.children[0]:void 0:r}function Ks(r,o){r.shapeFlag&6&&r.component?Ks(r.component.subTree,o):r.shapeFlag&128?(r.ssContent.transition=o.clone(r.ssContent),r.ssFallback.transition=o.clone(r.ssFallback)):r.transition=o}function Da(r,o=!1){let l=[],f=0;for(let d=0;d<r.length;d++){const x=r[d];x.type===yn?(x.patchFlag&128&&f++,l=l.concat(Da(x.children,o))):(o||x.type!==Tn)&&l.push(x)}if(f>1)for(let d=0;d<l.length;d++)l[d].patchFlag=-2;return l}function vd(r){return Ne(r)?{setup:r,name:r.name}:r}const qs=r=>!!r.type.__asyncLoader,Wi=r=>r.type.__isKeepAlive;function l0(r,o){Ba(r,"a",o)}function c0(r,o){Ba(r,"da",o)}function Ba(r,o,l=St){const f=r.__wdc||(r.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}r()});if(Xi(o,f,l),l){let d=l.parent;for(;d&&d.parent;)Wi(d.parent.vnode)&&u0(f,o,l,d),d=d.parent}}function u0(r,o,l,f){const d=Xi(o,r,f,!0);La(()=>{ea(f[o],d)},l)}function Xi(r,o,l=St,f=!1){if(l){const d=l[r]||(l[r]=[]),x=o.__weh||(o.__weh=(...m)=>{if(l.isUnmounted)return;_r(),Rr(l);const b=on(o,l,r,m);return ar(),nr(),b});return f?d.unshift(x):d.push(x),x}}const Rn=r=>(o,l=St)=>(!Ki||r==="sp")&&Xi(r,o,l),f0=Rn("bm"),va=Rn("m"),h0=Rn("bu"),d0=Rn("u"),Pa=Rn("bum"),La=Rn("um"),g0=Rn("sp"),x0=Rn("rtg"),w0=Rn("rtc");function p0(r,o=St){Xi("ec",r,o)}let Qs=!0;function A0(r){const o=Ua(r),l=r.proxy,f=r.ctx;Qs=!1,o.beforeCreate&&Fa(o.beforeCreate,r,"bc");const{data:d,computed:x,methods:m,watch:b,provide:I,inject:y,created:N,beforeMount:G,mounted:U,beforeUpdate:oe,updated:J,activated:Oe,deactivated:de,beforeDestroy:le,beforeUnmount:ge,destroyed:me,unmounted:at,render:_e,renderTracked:K,renderTriggered:ae,errorCaptured:X,serverPrefetch:$e,expose:et,inheritAttrs:se,components:be,directives:it,filters:L}=o;if(y&&m0(y,f,null,r.appContext.config.unwrapInjectedRef),m)for(const ze in m){const Pe=m[ze];Ne(Pe)&&(f[ze]=Pe.bind(l))}if(d){const ze=d.call(l,l);Ft(ze)&&(r.data=Hs(ze))}if(Qs=!0,x)for(const ze in x){const Pe=x[ze],Ct=Ne(Pe)?Pe.bind(l,l):Ne(Pe.get)?Pe.get.bind(l,l):hn,fr=!Ne(Pe)&&Ne(Pe.set)?Pe.set.bind(l):hn,xt=K1({get:Ct,set:fr});Object.defineProperty(f,ze,{enumerable:!0,configurable:!0,get:()=>xt.value,set:Vt=>xt.value=Vt})}if(b)for(const ze in b)ka(b[ze],f,l,ze);if(I){const ze=Ne(I)?I.call(l):I;Reflect.ownKeys(ze).forEach(Pe=>{i0(Pe,ze[Pe])})}N&&Fa(N,r,"c");function ue(ze,Pe){ve(Pe)?Pe.forEach(Ct=>ze(Ct.bind(l))):Pe&&ze(Pe.bind(l))}if(ue(f0,G),ue(va,U),ue(h0,oe),ue(d0,J),ue(l0,Oe),ue(c0,de),ue(p0,X),ue(w0,K),ue(x0,ae),ue(Pa,ge),ue(La,at),ue(g0,$e),ve(et))if(et.length){const ze=r.exposed||(r.exposed={});et.forEach(Pe=>{Object.defineProperty(ze,Pe,{get:()=>l[Pe],set:Ct=>l[Pe]=Ct})})}else r.exposed||(r.exposed={});_e&&r.render===hn&&(r.render=_e),se!=null&&(r.inheritAttrs=se),be&&(r.components=be),it&&(r.directives=it)}function m0(r,o,l=hn,f=!1){ve(r)&&(r=Js(r));for(const d in r){const x=r[d];let m;Ft(x)?"default"in x?m=zs(x.from||d,x.default,!0):m=zs(x.from||d):m=zs(x),zt(m)&&f?Object.defineProperty(o,d,{enumerable:!0,configurable:!0,get:()=>m.value,set:b=>m.value=b}):o[d]=m}}function Fa(r,o,l){on(ve(r)?r.map(f=>f.bind(o.proxy)):r.bind(o.proxy),o,l)}function ka(r,o,l,f){const d=f.includes(".")?gl(l,f):()=>l[f];if(Dt(r)){const x=o[r];Ne(x)&&fo(d,x)}else if(Ne(r))fo(d,r.bind(l));else if(Ft(r))if(ve(r))r.forEach(x=>ka(x,o,l,f));else{const x=Ne(r.handler)?r.handler.bind(l):o[r.handler];Ne(x)&&fo(d,x,r)}}function Ua(r){const o=r.type,{mixins:l,extends:f}=o,{mixins:d,optionsCache:x,config:{optionMergeStrategies:m}}=r.appContext,b=x.get(o);let I;return b?I=b:!d.length&&!l&&!f?I=o:(I={},d.length&&d.forEach(y=>Gi(I,y,m,!0)),Gi(I,o,m)),x.set(o,I),I}function Gi(r,o,l,f=!1){const{mixins:d,extends:x}=o;x&&Gi(r,x,l,!0),d&&d.forEach(m=>Gi(r,m,l,!0));for(const m in o)if(!(f&&m==="expose")){const b=C0[m]||l&&l[m];r[m]=b?b(r[m],o[m]):o[m]}return r}const C0={data:Va,props:rr,emits:rr,methods:rr,computed:rr,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:rr,directives:rr,watch:b0,provide:Va,inject:E0};function Va(r,o){return o?r?function(){return Mt(Ne(r)?r.call(this,this):r,Ne(o)?o.call(this,this):o)}:o:r}function E0(r,o){return rr(Js(r),Js(o))}function Js(r){if(ve(r)){const o={};for(let l=0;l<r.length;l++)o[r[l]]=r[l];return o}return r}function kt(r,o){return r?[...new Set([].concat(r,o))]:o}function rr(r,o){return r?Mt(Mt(Object.create(null),r),o):o}function b0(r,o){if(!r)return o;if(!o)return r;const l=Mt(Object.create(null),r);for(const f in o)l[f]=kt(r[f],o[f]);return l}function I0(r,o,l,f=!1){const d={},x={};Bi(x,zi,1),r.propsDefaults=Object.create(null),Ha(r,o,d,x);for(const m in r.propsOptions[0])m in d||(d[m]=void 0);l?r.props=f?d:X1(d):r.type.props?r.props=d:r.props=x,r.attrs=x}function y0(r,o,l,f){const{props:d,attrs:x,vnode:{patchFlag:m}}=r,b=He(d),[I]=r.propsOptions;let y=!1;if((f||m>0)&&!(m&16)){if(m&8){const N=r.vnode.dynamicProps;for(let G=0;G<N.length;G++){let U=N[G];const oe=o[U];if(I)if(Ue(x,U))oe!==x[U]&&(x[U]=oe,y=!0);else{const J=yr(U);d[J]=$s(I,b,J,oe,r,!1)}else oe!==x[U]&&(x[U]=oe,y=!0)}}}else{Ha(r,o,d,x)&&(y=!0);let N;for(const G in b)(!o||!Ue(o,G)&&((N=Tr(G))===G||!Ue(o,N)))&&(I?l&&(l[G]!==void 0||l[N]!==void 0)&&(d[G]=$s(I,b,G,void 0,r,!0)):delete d[G]);if(x!==b)for(const G in x)(!o||!Ue(o,G))&&(delete x[G],y=!0)}y&&Nn(r,"set","$attrs")}function Ha(r,o,l,f){const[d,x]=r.propsOptions;let m=!1,b;if(o)for(let I in o){if(Mi(I))continue;const y=o[I];let N;d&&Ue(d,N=yr(I))?!x||!x.includes(N)?l[N]=y:(b||(b={}))[N]=y:Gs(r.emitsOptions,I)||y!==f[I]&&(f[I]=y,m=!0)}if(x){const I=He(l),y=b||nt;for(let N=0;N<x.length;N++){const G=x[N];l[G]=$s(d,I,G,y[G],r,!Ue(y,G))}}return m}function $s(r,o,l,f,d,x){const m=r[l];if(m!=null){const b=Ue(m,"default");if(b&&f===void 0){const I=m.default;if(m.type!==Function&&Ne(I)){const{propsDefaults:y}=d;l in y?f=y[l]:(Rr(d),f=y[l]=I.call(null,o),ar())}else f=I}m[0]&&(x&&!b?f=!1:m[1]&&(f===""||f===Tr(l))&&(f=!0))}return f}function Wa(r,o,l=!1){const f=o.propsCache,d=f.get(r);if(d)return d;const x=r.props,m={},b=[];let I=!1;if(!Ne(r)){const N=G=>{I=!0;const[U,oe]=Wa(G,o,!0);Mt(m,U),oe&&b.push(...oe)};!l&&o.mixins.length&&o.mixins.forEach(N),r.extends&&N(r.extends),r.mixins&&r.mixins.forEach(N)}if(!x&&!I)return f.set(r,Ir),Ir;if(ve(x))for(let N=0;N<x.length;N++){const G=yr(x[N]);Xa(G)&&(m[G]=nt)}else if(x)for(const N in x){const G=yr(N);if(Xa(G)){const U=x[N],oe=m[G]=ve(U)||Ne(U)?{type:U}:U;if(oe){const J=za(Boolean,oe.type),Oe=za(String,oe.type);oe[0]=J>-1,oe[1]=Oe<0||J<Oe,(J>-1||Ue(oe,"default"))&&b.push(G)}}}const y=[m,b];return f.set(r,y),y}function Xa(r){return r[0]!=="$"}function Ga(r){const o=r&&r.toString().match(/^\s*function (\w+)/);return o?o[1]:r===null?"null":""}function Ya(r,o){return Ga(r)===Ga(o)}function za(r,o){return ve(o)?o.findIndex(l=>Ya(l,r)):Ne(o)&&Ya(o,r)?0:-1}const ja=r=>r[0]==="_"||r==="$stable",eo=r=>ve(r)?r.map(Sn):[Sn(r)],T0=(r,o,l)=>{const f=Q1((...d)=>eo(o(...d)),l);return f._c=!1,f},Za=(r,o,l)=>{const f=r._ctx;for(const d in r){if(ja(d))continue;const x=r[d];if(Ne(x))o[d]=T0(d,x,f);else if(x!=null){const m=eo(x);o[d]=()=>m}}},Ka=(r,o)=>{const l=eo(o);r.slots.default=()=>l},S0=(r,o)=>{if(r.vnode.shapeFlag&32){const l=o._;l?(r.slots=He(o),Bi(o,"_",l)):Za(o,r.slots={})}else r.slots={},o&&Ka(r,o);Bi(r.slots,zi,1)},_0=(r,o,l)=>{const{vnode:f,slots:d}=r;let x=!0,m=nt;if(f.shapeFlag&32){const b=o._;b?l&&b===1?x=!1:(Mt(d,o),!l&&b===1&&delete d._):(x=!o.$stable,Za(o,d)),m=o}else o&&(Ka(r,o),m={default:1});if(x)for(const b in d)!ja(b)&&!(b in m)&&delete d[b]};function ir(r,o,l,f){const d=r.dirs,x=o&&o.dirs;for(let m=0;m<d.length;m++){const b=d[m];x&&(b.oldValue=x[m].value);let I=b.dir[f];I&&(_r(),on(I,l,8,[r.el,b,r,o]),nr())}}function qa(){return{app:null,config:{isNativeTag:i1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let O0=0;function N0(r,o){return function(f,d=null){d!=null&&!Ft(d)&&(d=null);const x=qa(),m=new Set;let b=!1;const I=x.app={_uid:O0++,_component:f,_props:d,_container:null,_context:x,_instance:null,version:ou,get config(){return x.config},set config(y){},use(y,...N){return m.has(y)||(y&&Ne(y.install)?(m.add(y),y.install(I,...N)):Ne(y)&&(m.add(y),y(I,...N))),I},mixin(y){return x.mixins.includes(y)||x.mixins.push(y),I},component(y,N){return N?(x.components[y]=N,I):x.components[y]},directive(y,N){return N?(x.directives[y]=N,I):x.directives[y]},mount(y,N,G){if(!b){const U=Mn(f,d);return U.appContext=x,N&&o?o(U,y):r(U,y,G),b=!0,I._container=y,y.__vue_app__=I,oo(U.component)||U.component.proxy}},unmount(){b&&(r(null,I._container),delete I._container.__vue_app__)},provide(y,N){return x.provides[y]=N,I}};return I}}const Ut=r0;function R0(r){return M0(r)}function M0(r,o){const l=g1();l.__VUE__=!0;const{insert:f,remove:d,patchProp:x,createElement:m,createText:b,createComment:I,setText:y,setElementText:N,parentNode:G,nextSibling:U,setScopeId:oe=hn,cloneNode:J,insertStaticContent:Oe}=r,de=(T,O,F,V=null,P=null,H=null,$=!1,D=null,q=!!O.dynamicChildren)=>{if(T===O)return;T&&!or(T,O)&&(V=xn(T),lt(T,P,H,!0),T=null),O.patchFlag===-2&&(q=!1,O.dynamicChildren=null);const{type:z,ref:ie,shapeFlag:re}=O;switch(z){case no:le(T,O,F,V);break;case Tn:ge(T,O,F,V);break;case ro:T==null&&me(O,F,V,$);break;case yn:it(T,O,F,V,P,H,$,D,q);break;default:re&1?K(T,O,F,V,P,H,$,D,q):re&6?L(T,O,F,V,P,H,$,D,q):(re&64||re&128)&&z.process(T,O,F,V,P,H,$,D,q,wt)}ie!=null&&P&&to(ie,T&&T.ref,H,O||T,!O)},le=(T,O,F,V)=>{if(T==null)f(O.el=b(O.children),F,V);else{const P=O.el=T.el;O.children!==T.children&&y(P,O.children)}},ge=(T,O,F,V)=>{T==null?f(O.el=I(O.children||""),F,V):O.el=T.el},me=(T,O,F,V)=>{[T.el,T.anchor]=Oe(T.children,O,F,V)},at=({el:T,anchor:O},F,V)=>{let P;for(;T&&T!==O;)P=U(T),f(T,F,V),T=P;f(O,F,V)},_e=({el:T,anchor:O})=>{let F;for(;T&&T!==O;)F=U(T),d(T),T=F;d(O)},K=(T,O,F,V,P,H,$,D,q)=>{$=$||O.type==="svg",T==null?ae(O,F,V,P,H,$,D,q):et(T,O,P,H,$,D,q)},ae=(T,O,F,V,P,H,$,D)=>{let q,z;const{type:ie,props:re,shapeFlag:ne,transition:pe,patchFlag:Ce,dirs:Ie}=T;if(T.el&&J!==void 0&&Ce===-1)q=T.el=J(T.el);else{if(q=T.el=m(T.type,H,re&&re.is,re),ne&8?N(q,T.children):ne&16&&$e(T.children,q,null,V,P,H&&ie!=="foreignObject",$,D),Ie&&ir(T,null,V,"created"),re){for(const Xe in re)Xe!=="value"&&!Mi(Xe)&&x(q,Xe,null,re[Xe],H,T.children,V,P,je);"value"in re&&x(q,"value",null,re.value),(z=re.onVnodeBeforeMount)&&In(z,V,T)}X(q,T,T.scopeId,$,V)}Ie&&ir(T,null,V,"beforeMount");const We=(!P||P&&!P.pendingBranch)&&pe&&!pe.persisted;We&&pe.beforeEnter(q),f(q,O,F),((z=re&&re.onVnodeMounted)||We||Ie)&&Ut(()=>{z&&In(z,V,T),We&&pe.enter(q),Ie&&ir(T,null,V,"mounted")},P)},X=(T,O,F,V,P)=>{if(F&&oe(T,F),V)for(let H=0;H<V.length;H++)oe(T,V[H]);if(P){let H=P.subTree;if(O===H){const $=P.vnode;X(T,$,$.scopeId,$.slotScopeIds,P.parent)}}},$e=(T,O,F,V,P,H,$,D,q=0)=>{for(let z=q;z<T.length;z++){const ie=T[z]=D?Xn(T[z]):Sn(T[z]);de(null,ie,O,F,V,P,H,$,D)}},et=(T,O,F,V,P,H,$)=>{const D=O.el=T.el;let{patchFlag:q,dynamicChildren:z,dirs:ie}=O;q|=T.patchFlag&16;const re=T.props||nt,ne=O.props||nt;let pe;(pe=ne.onVnodeBeforeUpdate)&&In(pe,F,O,T),ie&&ir(O,T,F,"beforeUpdate");const Ce=P&&O.type!=="foreignObject";if(z?se(T.dynamicChildren,z,D,F,V,Ce,H):$||Ct(T,O,D,null,F,V,Ce,H,!1),q>0){if(q&16)be(D,O,re,ne,F,V,P);else if(q&2&&re.class!==ne.class&&x(D,"class",null,ne.class,P),q&4&&x(D,"style",re.style,ne.style,P),q&8){const Ie=O.dynamicProps;for(let We=0;We<Ie.length;We++){const Xe=Ie[We],Kt=re[Xe],qe=ne[Xe];(qe!==Kt||Xe==="value")&&x(D,Xe,Kt,qe,P,T.children,F,V,je)}}q&1&&T.children!==O.children&&N(D,O.children)}else!$&&z==null&&be(D,O,re,ne,F,V,P);((pe=ne.onVnodeUpdated)||ie)&&Ut(()=>{pe&&In(pe,F,O,T),ie&&ir(O,T,F,"updated")},V)},se=(T,O,F,V,P,H,$)=>{for(let D=0;D<O.length;D++){const q=T[D],z=O[D],ie=q.el&&(q.type===yn||!or(q,z)||q.shapeFlag&(6|64))?G(q.el):F;de(q,z,ie,null,V,P,H,$,!0)}},be=(T,O,F,V,P,H,$)=>{if(F!==V){for(const D in V){if(Mi(D))continue;const q=V[D],z=F[D];q!==z&&D!=="value"&&x(T,D,z,q,$,O.children,P,H,je)}if(F!==nt)for(const D in F)!Mi(D)&&!(D in V)&&x(T,D,F[D],null,$,O.children,P,H,je);"value"in V&&x(T,"value",F.value,V.value)}},it=(T,O,F,V,P,H,$,D,q)=>{const z=O.el=T?T.el:b(""),ie=O.anchor=T?T.anchor:b("");let{patchFlag:re,dynamicChildren:ne,slotScopeIds:pe}=O;pe&&(D=D?D.concat(pe):pe),T==null?(f(z,F,V),f(ie,F,V),$e(O.children,F,ie,P,H,$,D,q)):re>0&&re&64&&ne&&T.dynamicChildren?(se(T.dynamicChildren,ne,F,P,H,$,D),(O.key!=null||P&&O===P.subTree)&&Qa(T,O,!0)):Ct(T,O,F,ie,P,H,$,D,q)},L=(T,O,F,V,P,H,$,D,q)=>{O.slotScopeIds=D,T==null?O.shapeFlag&512?P.ctx.activate(O,F,V,$,q):ft(O,F,V,P,H,$,q):ue(T,O,q)},ft=(T,O,F,V,P,H,$)=>{const D=T.component=z0(T,V,P);if(Wi(T)&&(D.ctx.renderer=wt),Z0(D),D.asyncDep){if(P&&P.registerDep(D,ze),!T.el){const q=D.subTree=Mn(Tn);ge(null,q,O,F)}return}ze(D,T,O,F,P,H,$)},ue=(T,O,F)=>{const V=O.component=T.component;if(e0(T,O,F))if(V.asyncDep&&!V.asyncResolved){Pe(V,O,F);return}else V.next=O,nu(V.update),V.update();else O.component=T.component,O.el=T.el,V.vnode=O},ze=(T,O,F,V,P,H,$)=>{const D=()=>{if(T.isMounted){let{next:ie,bu:re,u:ne,parent:pe,vnode:Ce}=T,Ie=ie,We;q.allowRecurse=!1,ie?(ie.el=Ce.el,Pe(T,ie,$)):ie=Ce,re&&Rs(re),(We=ie.props&&ie.props.onVnodeBeforeUpdate)&&In(We,pe,ie,Ce),q.allowRecurse=!0;const Xe=Ys(T),Kt=T.subTree;T.subTree=Xe,de(Kt,Xe,G(Kt.el),xn(Kt),T,P,H),ie.el=Xe.el,Ie===null&&t0(T,Xe.el),ne&&Ut(ne,P),(We=ie.props&&ie.props.onVnodeUpdated)&&Ut(()=>In(We,pe,ie,Ce),P)}else{let ie;const{el:re,props:ne}=O,{bm:pe,m:Ce,parent:Ie}=T,We=qs(O);if(q.allowRecurse=!1,pe&&Rs(pe),!We&&(ie=ne&&ne.onVnodeBeforeMount)&&In(ie,Ie,O),q.allowRecurse=!0,re&&De){const Xe=()=>{T.subTree=Ys(T),De(re,T.subTree,T,P,null)};We?O.type.__asyncLoader().then(()=>!T.isUnmounted&&Xe()):Xe()}else{const Xe=T.subTree=Ys(T);de(null,Xe,F,V,T,P,H),O.el=Xe.el}if(Ce&&Ut(Ce,P),!We&&(ie=ne&&ne.onVnodeMounted)){const Xe=O;Ut(()=>In(ie,Ie,Xe),P)}O.shapeFlag&256&&T.a&&Ut(T.a,P),T.isMounted=!0,O=F=V=null}},q=new Ps(D,()=>al(T.update),T.scope),z=T.update=q.run.bind(q);z.id=T.uid,q.allowRecurse=z.allowRecurse=!0,z()},Pe=(T,O,F)=>{O.component=T;const V=T.vnode.props;T.vnode=O,T.next=null,y0(T,O.props,V,F),_0(T,O.children,F),_r(),uo(void 0,T.update),nr()},Ct=(T,O,F,V,P,H,$,D,q=!1)=>{const z=T&&T.children,ie=T?T.shapeFlag:0,re=O.children,{patchFlag:ne,shapeFlag:pe}=O;if(ne>0){if(ne&128){xt(z,re,F,V,P,H,$,D,q);return}else if(ne&256){fr(z,re,F,V,P,H,$,D,q);return}}pe&8?(ie&16&&je(z,P,H),re!==z&&N(F,re)):ie&16?pe&16?xt(z,re,F,V,P,H,$,D,q):je(z,P,H,!0):(ie&8&&N(F,""),pe&16&&$e(re,F,V,P,H,$,D,q))},fr=(T,O,F,V,P,H,$,D,q)=>{T=T||Ir,O=O||Ir;const z=T.length,ie=O.length,re=Math.min(z,ie);let ne;for(ne=0;ne<re;ne++){const pe=O[ne]=q?Xn(O[ne]):Sn(O[ne]);de(T[ne],pe,F,null,P,H,$,D,q)}z>ie?je(T,P,H,!0,!1,re):$e(O,F,V,P,H,$,D,q,re)},xt=(T,O,F,V,P,H,$,D,q)=>{let z=0;const ie=O.length;let re=T.length-1,ne=ie-1;for(;z<=re&&z<=ne;){const pe=T[z],Ce=O[z]=q?Xn(O[z]):Sn(O[z]);if(or(pe,Ce))de(pe,Ce,F,null,P,H,$,D,q);else break;z++}for(;z<=re&&z<=ne;){const pe=T[re],Ce=O[ne]=q?Xn(O[ne]):Sn(O[ne]);if(or(pe,Ce))de(pe,Ce,F,null,P,H,$,D,q);else break;re--,ne--}if(z>re){if(z<=ne){const pe=ne+1,Ce=pe<ie?O[pe].el:V;for(;z<=ne;)de(null,O[z]=q?Xn(O[z]):Sn(O[z]),F,Ce,P,H,$,D,q),z++}}else if(z>ne)for(;z<=re;)lt(T[z],P,H,!0),z++;else{const pe=z,Ce=z,Ie=new Map;for(z=Ce;z<=ne;z++){const Re=O[z]=q?Xn(O[z]):Sn(O[z]);Re.key!=null&&Ie.set(Re.key,z)}let We,Xe=0;const Kt=ne-Ce+1;let qe=!1,Q=0;const st=new Array(Kt);for(z=0;z<Kt;z++)st[z]=0;for(z=pe;z<=re;z++){const Re=T[z];if(Xe>=Kt){lt(Re,P,H,!0);continue}let Ot;if(Re.key!=null)Ot=Ie.get(Re.key);else for(We=Ce;We<=ne;We++)if(st[We-Ce]===0&&or(Re,O[We])){Ot=We;break}Ot===void 0?lt(Re,P,H,!0):(st[Ot-Ce]=z+1,Ot>=Q?Q=Ot:qe=!0,de(Re,O[Ot],F,null,P,H,$,D,q),Xe++)}const Ge=qe?D0(st):Ir;for(We=Ge.length-1,z=Kt-1;z>=0;z--){const Re=Ce+z,Ot=O[Re],dr=Re+1<ie?O[Re+1].el:V;st[z]===0?de(null,Ot,F,dr,P,H,$,D,q):qe&&(We<0||z!==Ge[We]?Vt(Ot,F,dr,2):We--)}}},Vt=(T,O,F,V,P=null)=>{const{el:H,type:$,transition:D,children:q,shapeFlag:z}=T;if(z&6){Vt(T.component.subTree,O,F,V);return}if(z&128){T.suspense.move(O,F,V);return}if(z&64){$.move(T,O,F,wt);return}if($===yn){f(H,O,F);for(let re=0;re<q.length;re++)Vt(q[re],O,F,V);f(T.anchor,O,F);return}if($===ro){at(T,O,F);return}if(V!==2&&z&1&&D)if(V===0)D.beforeEnter(H),f(H,O,F),Ut(()=>D.enter(H),P);else{const{leave:re,delayLeave:ne,afterLeave:pe}=D,Ce=()=>f(H,O,F),Ie=()=>{re(H,()=>{Ce(),pe&&pe()})};ne?ne(H,Ce,Ie):Ie()}else f(H,O,F)},lt=(T,O,F,V=!1,P=!1)=>{const{type:H,props:$,ref:D,children:q,dynamicChildren:z,shapeFlag:ie,patchFlag:re,dirs:ne}=T;if(D!=null&&to(D,null,F,T,!0),ie&256){O.ctx.deactivate(T);return}const pe=ie&1&&ne,Ce=!qs(T);let Ie;if(Ce&&(Ie=$&&$.onVnodeBeforeUnmount)&&In(Ie,O,T),ie&6)Xr(T.component,F,V);else{if(ie&128){T.suspense.unmount(F,V);return}pe&&ir(T,null,O,"beforeUnmount"),ie&64?T.type.remove(T,O,F,P,wt,V):z&&(H!==yn||re>0&&re&64)?je(z,O,F,!1,!0):(H===yn&&re&(128|256)||!P&&ie&16)&&je(q,O,F),V&&hr(T)}(Ce&&(Ie=$&&$.onVnodeUnmounted)||pe)&&Ut(()=>{Ie&&In(Ie,O,T),pe&&ir(T,null,O,"unmounted")},F)},hr=T=>{const{type:O,el:F,anchor:V,transition:P}=T;if(O===yn){fe(F,V);return}if(O===ro){_e(T);return}const H=()=>{d(F),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(T.shapeFlag&1&&P&&!P.persisted){const{leave:$,delayLeave:D}=P,q=()=>$(F,H);D?D(T.el,H,q):q()}else H()},fe=(T,O)=>{let F;for(;T!==O;)F=U(T),d(T),T=F;d(O)},Xr=(T,O,F)=>{const{bum:V,scope:P,update:H,subTree:$,um:D}=T;V&&Rs(V),P.stop(),H&&(H.active=!1,lt($,T,O,F)),D&&Ut(D,O),Ut(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},je=(T,O,F,V=!1,P=!1,H=0)=>{for(let $=H;$<T.length;$++)lt(T[$],O,F,V,P)},xn=T=>T.shapeFlag&6?xn(T.component.subTree):T.shapeFlag&128?T.suspense.next():U(T.anchor||T.el),Bn=(T,O,F)=>{T==null?O._vnode&&lt(O._vnode,null,null,!0):de(O._vnode||null,T,O,null,null,null,F),ul(),O._vnode=T},wt={p:de,um:lt,m:Vt,r:hr,mt:ft,mc:$e,pc:Ct,pbc:se,n:xn,o:r};let vn,De;return o&&([vn,De]=o(wt)),{render:Bn,hydrate:vn,createApp:N0(Bn,vn)}}function to(r,o,l,f,d=!1){if(ve(r)){r.forEach((U,oe)=>to(U,o&&(ve(o)?o[oe]:o),l,f,d));return}if(qs(f)&&!d)return;const x=f.shapeFlag&4?oo(f.component)||f.component.proxy:f.el,m=d?null:x,{i:b,r:I}=r,y=o&&o.r,N=b.refs===nt?b.refs={}:b.refs,G=b.setupState;if(y!=null&&y!==I&&(Dt(y)?(N[y]=null,Ue(G,y)&&(G[y]=null)):zt(y)&&(y.value=null)),Dt(I)){const U=()=>{N[I]=m,Ue(G,I)&&(G[I]=m)};m?(U.id=-1,Ut(U,l)):U()}else if(zt(I)){const U=()=>{I.value=m};m?(U.id=-1,Ut(U,l)):U()}else Ne(I)&&Gn(I,b,12,[m,N])}function In(r,o,l,f=null){on(r,o,7,[l,f])}function Qa(r,o,l=!1){const f=r.children,d=o.children;if(ve(f)&&ve(d))for(let x=0;x<f.length;x++){const m=f[x];let b=d[x];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=d[x]=Xn(d[x]),b.el=m.el),l||Qa(m,b))}}function D0(r){const o=r.slice(),l=[0];let f,d,x,m,b;const I=r.length;for(f=0;f<I;f++){const y=r[f];if(y!==0){if(d=l[l.length-1],r[d]<y){o[f]=d,l.push(f);continue}for(x=0,m=l.length-1;x<m;)b=x+m>>1,r[l[b]]<y?x=b+1:m=b;y<r[l[x]]&&(x>0&&(o[f]=l[x-1]),l[x]=f)}}for(x=l.length,m=l[x-1];x-- >0;)l[x]=m,m=o[m];return l}const B0=r=>r.__isTeleport,v0=Symbol(),yn=Symbol(void 0),no=Symbol(void 0),Tn=Symbol(void 0),ro=Symbol(void 0),ri=[];let sr=null;function P0(r=!1){ri.push(sr=r?null:[])}function L0(){ri.pop(),sr=ri[ri.length-1]||null}let Yi=1;function Ja(r){Yi+=r}function $a(r){return r.dynamicChildren=Yi>0?sr||Ir:null,L0(),Yi>0&&sr&&sr.push(r),r}function Pd(r,o,l,f,d,x){return $a(tl(r,o,l,f,d,x,!0))}function F0(r,o,l,f,d){return $a(Mn(r,o,l,f,d,!0))}function k0(r){return r?r.__v_isVNode===!0:!1}function or(r,o){return r.type===o.type&&r.key===o.key}const zi="__vInternal",el=({key:r})=>r!=null?r:null,ji=({ref:r})=>r!=null?Dt(r)||zt(r)||Ne(r)?{i:bn,r}:r:null;function tl(r,o=null,l=null,f=0,d=null,x=r===yn?0:1,m=!1,b=!1){const I={__v_isVNode:!0,__v_skip:!0,type:r,props:o,key:o&&el(o),ref:o&&ji(o),scopeId:Oa,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:x,patchFlag:f,dynamicProps:d,dynamicChildren:null,appContext:null};return b?(io(I,l),x&128&&r.normalize(I)):l&&(I.shapeFlag|=Dt(l)?8:16),Yi>0&&!m&&sr&&(I.patchFlag>0||x&6)&&I.patchFlag!==32&&sr.push(I),I}const Mn=U0;function U0(r,o=null,l=null,f=0,d=null,x=!1){if((!r||r===v0)&&(r=Tn),k0(r)){const b=Nr(r,o,!0);return l&&io(b,l),b}if(J0(r)&&(r=r.__vccOpts),o){o=V0(o);let{class:b,style:I}=o;b&&!Dt(b)&&(o.class=Ts(b)),Ft(I)&&(ba(I)&&!ve(I)&&(I=Mt({},I)),o.style=ys(I))}const m=Dt(r)?1:n0(r)?128:B0(r)?64:Ft(r)?4:Ne(r)?2:0;return tl(r,o,l,f,d,m,x,!0)}function V0(r){return r?ba(r)||zi in r?Mt({},r):r:null}function Nr(r,o,l=!1){const{props:f,ref:d,patchFlag:x,children:m}=r,b=o?W0(f||{},o):f;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:b,key:b&&el(b),ref:o&&o.ref?l&&d?ve(d)?d.concat(ji(o)):[d,ji(o)]:ji(o):d,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:m,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:o&&r.type!==yn?x===-1?16:x|16:x,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Nr(r.ssContent),ssFallback:r.ssFallback&&Nr(r.ssFallback),el:r.el,anchor:r.anchor}}function H0(r=" ",o=0){return Mn(no,null,r,o)}function Ld(r="",o=!1){return o?(P0(),F0(Tn,null,r)):Mn(Tn,null,r)}function Sn(r){return r==null||typeof r=="boolean"?Mn(Tn):ve(r)?Mn(yn,null,r.slice()):typeof r=="object"?Xn(r):Mn(no,null,String(r))}function Xn(r){return r.el===null||r.memo?r:Nr(r)}function io(r,o){let l=0;const{shapeFlag:f}=r;if(o==null)o=null;else if(ve(o))l=16;else if(typeof o=="object")if(f&(1|64)){const d=o.default;d&&(d._c&&(d._d=!1),io(r,d()),d._c&&(d._d=!0));return}else{l=32;const d=o._;!d&&!(zi in o)?o._ctx=bn:d===3&&bn&&(bn.slots._===1?o._=1:(o._=2,r.patchFlag|=1024))}else Ne(o)?(o={default:o,_ctx:bn},l=32):(o=String(o),f&64?(l=16,o=[H0(o)]):l=8);r.children=o,r.shapeFlag|=l}function W0(...r){const o={};for(let l=0;l<r.length;l++){const f=r[l];for(const d in f)if(d==="class")o.class!==f.class&&(o.class=Ts([o.class,f.class]));else if(d==="style")o.style=ys([o.style,f.style]);else if(Ni(d)){const x=o[d],m=f[d];x!==m&&(o[d]=x?[].concat(x,m):m)}else d!==""&&(o[d]=f[d])}return o}const so=r=>r?nl(r)?oo(r)||r.proxy:so(r.parent):null,Zi=Mt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>so(r.parent),$root:r=>so(r.root),$emit:r=>r.emit,$options:r=>Ua(r),$forceUpdate:r=>()=>al(r.update),$nextTick:r=>eu.bind(r.proxy),$watch:r=>su.bind(r)}),X0={get({_:r},o){const{ctx:l,setupState:f,data:d,props:x,accessCache:m,type:b,appContext:I}=r;let y;if(o[0]!=="$"){const oe=m[o];if(oe!==void 0)switch(oe){case 0:return f[o];case 1:return d[o];case 3:return l[o];case 2:return x[o]}else{if(f!==nt&&Ue(f,o))return m[o]=0,f[o];if(d!==nt&&Ue(d,o))return m[o]=1,d[o];if((y=r.propsOptions[0])&&Ue(y,o))return m[o]=2,x[o];if(l!==nt&&Ue(l,o))return m[o]=3,l[o];Qs&&(m[o]=4)}}const N=Zi[o];let G,U;if(N)return o==="$attrs"&&Qt(r,"get",o),N(r);if((G=b.__cssModules)&&(G=G[o]))return G;if(l!==nt&&Ue(l,o))return m[o]=3,l[o];if(U=I.config.globalProperties,Ue(U,o))return U[o]},set({_:r},o,l){const{data:f,setupState:d,ctx:x}=r;if(d!==nt&&Ue(d,o))d[o]=l;else if(f!==nt&&Ue(f,o))f[o]=l;else if(Ue(r.props,o))return!1;return o[0]==="$"&&o.slice(1)in r?!1:(x[o]=l,!0)},has({_:{data:r,setupState:o,accessCache:l,ctx:f,appContext:d,propsOptions:x}},m){let b;return l[m]!==void 0||r!==nt&&Ue(r,m)||o!==nt&&Ue(o,m)||(b=x[0])&&Ue(b,m)||Ue(f,m)||Ue(Zi,m)||Ue(d.config.globalProperties,m)}},G0=qa();let Y0=0;function z0(r,o,l){const f=r.type,d=(o?o.appContext:r.appContext)||G0,x={uid:Y0++,vnode:r,type:f,parent:o,appContext:d,root:null,next:null,subTree:null,update:null,scope:new x1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wa(f,d),emitsOptions:_a(f,d),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:f.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return x.ctx={_:x},x.root=o?o.root:x,x.emit=q1.bind(null,x),r.ce&&r.ce(x),x}let St=null;const j0=()=>St||bn,Rr=r=>{St=r,r.scope.on()},ar=()=>{St&&St.scope.off(),St=null};function nl(r){return r.vnode.shapeFlag&4}let Ki=!1;function Z0(r,o=!1){Ki=o;const{props:l,children:f}=r.vnode,d=nl(r);I0(r,l,d,o),S0(r,f);const x=d?K0(r,o):void 0;return Ki=!1,x}function K0(r,o){const l=r.type;r.accessCache=Object.create(null),r.proxy=Ia(new Proxy(r.ctx,X0));const{setup:f}=l;if(f){const d=r.setupContext=f.length>1?Q0(r):null;Rr(r),_r();const x=Gn(f,r,0,[r.props,d]);if(nr(),ar(),ta(x)){if(x.then(ar,ar),o)return x.then(m=>{rl(r,m,o)}).catch(m=>{qi(m,r,0)});r.asyncDep=x}else rl(r,x,o)}else sl(r,o)}function rl(r,o,l){Ne(o)?r.type.__ssrInlineRender?r.ssrRender=o:r.render=o:Ft(o)&&(r.setupState=Sa(o)),sl(r,l)}let il;function sl(r,o,l){const f=r.type;if(!r.render){if(!o&&il&&!f.render){const d=f.template;if(d){const{isCustomElement:x,compilerOptions:m}=r.appContext.config,{delimiters:b,compilerOptions:I}=f,y=Mt(Mt({isCustomElement:x,delimiters:b},m),I);f.render=il(d,y)}}r.render=f.render||hn}Rr(r),_r(),A0(r),nr(),ar()}function q0(r){return new Proxy(r.attrs,{get(o,l){return Qt(r,"get","$attrs"),o[l]}})}function Q0(r){const o=f=>{r.exposed=f||{}};let l;return{get attrs(){return l||(l=q0(r))},slots:r.slots,emit:r.emit,expose:o}}function oo(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Sa(Ia(r.exposed)),{get(o,l){if(l in o)return o[l];if(l in Zi)return Zi[l](r)}}))}function J0(r){return Ne(r)&&"__vccOpts"in r}function Gn(r,o,l,f){let d;try{d=f?r(...f):r()}catch(x){qi(x,o,l)}return d}function on(r,o,l,f){if(Ne(r)){const x=Gn(r,o,l,f);return x&&ta(x)&&x.catch(m=>{qi(m,o,l)}),x}const d=[];for(let x=0;x<r.length;x++)d.push(on(r[x],o,l,f));return d}function qi(r,o,l,f=!0){const d=o?o.vnode:null;if(o){let x=o.parent;const m=o.proxy,b=l;for(;x;){const y=x.ec;if(y){for(let N=0;N<y.length;N++)if(y[N](r,m,b)===!1)return}x=x.parent}const I=o.appContext.config.errorHandler;if(I){Gn(I,null,10,[r,m,b]);return}}$0(r,l,d,f)}function $0(r,o,l,f=!0){console.error(r)}let Qi=!1,ao=!1;const Jt=[];let Dn=0;const ii=[];let si=null,Mr=0;const oi=[];let Yn=null,Dr=0;const ol=Promise.resolve();let lo=null,co=null;function eu(r){const o=lo||ol;return r?o.then(this?r.bind(this):r):o}function tu(r){let o=Dn+1,l=Jt.length;for(;o<l;){const f=o+l>>>1;ai(Jt[f])<r?o=f+1:l=f}return o}function al(r){(!Jt.length||!Jt.includes(r,Qi&&r.allowRecurse?Dn+1:Dn))&&r!==co&&(r.id==null?Jt.push(r):Jt.splice(tu(r.id),0,r),ll())}function ll(){!Qi&&!ao&&(ao=!0,lo=ol.then(fl))}function nu(r){const o=Jt.indexOf(r);o>Dn&&Jt.splice(o,1)}function cl(r,o,l,f){ve(r)?l.push(...r):(!o||!o.includes(r,r.allowRecurse?f+1:f))&&l.push(r),ll()}function ru(r){cl(r,si,ii,Mr)}function iu(r){cl(r,Yn,oi,Dr)}function uo(r,o=null){if(ii.length){for(co=o,si=[...new Set(ii)],ii.length=0,Mr=0;Mr<si.length;Mr++)si[Mr]();si=null,Mr=0,co=null,uo(r,o)}}function ul(r){if(oi.length){const o=[...new Set(oi)];if(oi.length=0,Yn){Yn.push(...o);return}for(Yn=o,Yn.sort((l,f)=>ai(l)-ai(f)),Dr=0;Dr<Yn.length;Dr++)Yn[Dr]();Yn=null,Dr=0}}const ai=r=>r.id==null?1/0:r.id;function fl(r){ao=!1,Qi=!0,uo(r),Jt.sort((l,f)=>ai(l)-ai(f));const o=hn;try{for(Dn=0;Dn<Jt.length;Dn++){const l=Jt[Dn];l&&l.active!==!1&&Gn(l,null,14)}}finally{Dn=0,Jt.length=0,ul(),Qi=!1,lo=null,(Jt.length||ii.length||oi.length)&&fl(r)}}const hl={};function fo(r,o,l){return dl(r,o,l)}function dl(r,o,{immediate:l,deep:f,flush:d,onTrack:x,onTrigger:m}=nt){const b=St;let I,y=!1,N=!1;if(zt(r)?(I=()=>r.value,y=!!r._shallow):Or(r)?(I=()=>r,f=!0):ve(r)?(N=!0,y=r.some(Or),I=()=>r.map(le=>{if(zt(le))return le.value;if(Or(le))return Br(le);if(Ne(le))return Gn(le,b,2)})):Ne(r)?o?I=()=>Gn(r,b,2):I=()=>{if(!(b&&b.isUnmounted))return G&&G(),on(r,b,3,[U])}:I=hn,o&&f){const le=I;I=()=>Br(le())}let G,U=le=>{G=de.onStop=()=>{Gn(le,b,4)}};if(Ki)return U=hn,o?l&&on(o,b,3,[I(),N?[]:void 0,U]):I(),hn;let oe=N?[]:hl;const J=()=>{if(!!de.active)if(o){const le=de.run();(f||y||(N?le.some((ge,me)=>$r(ge,oe[me])):$r(le,oe)))&&(G&&G(),on(o,b,3,[le,oe===hl?void 0:oe,U]),oe=le)}else de.run()};J.allowRecurse=!!o;let Oe;d==="sync"?Oe=J:d==="post"?Oe=()=>Ut(J,b&&b.suspense):Oe=()=>{!b||b.isMounted?ru(J):J()};const de=new Ps(I,Oe);return o?l?J():oe=de.run():d==="post"?Ut(de.run.bind(de),b&&b.suspense):de.run(),()=>{de.stop(),b&&b.scope&&ea(b.scope.effects,de)}}function su(r,o,l){const f=this.proxy,d=Dt(r)?r.includes(".")?gl(f,r):()=>f[r]:r.bind(f,f);let x;Ne(o)?x=o:(x=o.handler,l=o);const m=St;Rr(this);const b=dl(d,x.bind(f),l);return m?Rr(m):ar(),b}function gl(r,o){const l=o.split(".");return()=>{let f=r;for(let d=0;d<l.length&&f;d++)f=f[l[d]];return f}}function Br(r,o){if(!Ft(r)||r.__v_skip||(o=o||new Set,o.has(r)))return r;if(o.add(r),zt(r))Br(r.value,o);else if(ve(r))for(let l=0;l<r.length;l++)Br(r[l],o);else if(a1(r)||Jr(r))r.forEach(l=>{Br(l,o)});else if(u1(r))for(const l in r)Br(r[l],o);return r}const ou="3.2.21",au="http://www.w3.org/2000/svg",vr=typeof document!="undefined"?document:null,xl=new Map,lu={insert:(r,o,l)=>{o.insertBefore(r,l||null)},remove:r=>{const o=r.parentNode;o&&o.removeChild(r)},createElement:(r,o,l,f)=>{const d=o?vr.createElementNS(au,r):vr.createElement(r,l?{is:l}:void 0);return r==="select"&&f&&f.multiple!=null&&d.setAttribute("multiple",f.multiple),d},createText:r=>vr.createTextNode(r),createComment:r=>vr.createComment(r),setText:(r,o)=>{r.nodeValue=o},setElementText:(r,o)=>{r.textContent=o},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>vr.querySelector(r),setScopeId(r,o){r.setAttribute(o,"")},cloneNode(r){const o=r.cloneNode(!0);return"_value"in r&&(o._value=r._value),o},insertStaticContent(r,o,l,f){const d=l?l.previousSibling:o.lastChild;let x=xl.get(r);if(!x){const m=vr.createElement("template");if(m.innerHTML=f?`<svg>${r}</svg>`:r,x=m.content,f){const b=x.firstChild;for(;b.firstChild;)x.appendChild(b.firstChild);x.removeChild(b)}xl.set(r,x)}return o.insertBefore(x.cloneNode(!0),l),[d?d.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}};function cu(r,o,l){const f=r._vtc;f&&(o=(o?[o,...f]:[...f]).join(" ")),o==null?r.removeAttribute("class"):l?r.setAttribute("class",o):r.className=o}function uu(r,o,l){const f=r.style,d=Dt(l);if(l&&!d){for(const x in l)ho(f,x,l[x]);if(o&&!Dt(o))for(const x in o)l[x]==null&&ho(f,x,"")}else{const x=f.display;d?o!==l&&(f.cssText=l):o&&r.removeAttribute("style"),"_vod"in r&&(f.display=x)}}const wl=/\s*!important$/;function ho(r,o,l){if(ve(l))l.forEach(f=>ho(r,o,f));else if(o.startsWith("--"))r.setProperty(o,l);else{const f=fu(r,o);wl.test(l)?r.setProperty(Tr(f),l.replace(wl,""),"important"):r[f]=l}}const pl=["Webkit","Moz","ms"],go={};function fu(r,o){const l=go[o];if(l)return l;let f=yr(o);if(f!=="filter"&&f in r)return go[o]=f;f=na(f);for(let d=0;d<pl.length;d++){const x=pl[d]+f;if(x in r)return go[o]=x}return o}const Al="http://www.w3.org/1999/xlink";function hu(r,o,l,f,d){if(f&&o.startsWith("xlink:"))l==null?r.removeAttributeNS(Al,o.slice(6,o.length)):r.setAttributeNS(Al,o,l);else{const x=e1(o);l==null||x&&!$o(l)?r.removeAttribute(o):r.setAttribute(o,x?"":l)}}function du(r,o,l,f,d,x,m){if(o==="innerHTML"||o==="textContent"){f&&m(f,d,x),r[o]=l==null?"":l;return}if(o==="value"&&r.tagName!=="PROGRESS"){r._value=l;const b=l==null?"":l;r.value!==b&&(r.value=b),l==null&&r.removeAttribute(o);return}if(l===""||l==null){const b=typeof r[o];if(b==="boolean"){r[o]=$o(l);return}else if(l==null&&b==="string"){r[o]="",r.removeAttribute(o);return}else if(b==="number"){try{r[o]=0}catch{}r.removeAttribute(o);return}}try{r[o]=l}catch{}}let Ji=Date.now,ml=!1;if(typeof window!="undefined"){Ji()>document.createEvent("Event").timeStamp&&(Ji=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);ml=!!(r&&Number(r[1])<=53)}let xo=0;const gu=Promise.resolve(),xu=()=>{xo=0},wu=()=>xo||(gu.then(xu),xo=Ji());function pu(r,o,l,f){r.addEventListener(o,l,f)}function Au(r,o,l,f){r.removeEventListener(o,l,f)}function mu(r,o,l,f,d=null){const x=r._vei||(r._vei={}),m=x[o];if(f&&m)m.value=f;else{const[b,I]=Cu(o);if(f){const y=x[o]=Eu(f,d);pu(r,b,y,I)}else m&&(Au(r,b,m,I),x[o]=void 0)}}const Cl=/(?:Once|Passive|Capture)$/;function Cu(r){let o;if(Cl.test(r)){o={};let l;for(;l=r.match(Cl);)r=r.slice(0,r.length-l[0].length),o[l[0].toLowerCase()]=!0}return[Tr(r.slice(2)),o]}function Eu(r,o){const l=f=>{const d=f.timeStamp||Ji();(ml||d>=l.attached-1)&&on(bu(f,l.value),o,5,[f])};return l.value=r,l.attached=wu(),l}function bu(r,o){if(ve(o)){const l=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{l.call(r),r._stopped=!0},o.map(f=>d=>!d._stopped&&f(d))}else return o}const El=/^on[a-z]/,Iu=(r,o,l,f,d=!1,x,m,b,I)=>{o==="class"?cu(r,f,d):o==="style"?uu(r,l,f):Ni(o)?Ss(o)||mu(r,o,l,f,m):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):yu(r,o,f,d))?du(r,o,f,x,m,b,I):(o==="true-value"?r._trueValue=f:o==="false-value"&&(r._falseValue=f),hu(r,o,f,d))};function yu(r,o,l,f){return f?!!(o==="innerHTML"||o==="textContent"||o in r&&El.test(o)&&Ne(l)):o==="spellcheck"||o==="draggable"||o==="form"||o==="list"&&r.tagName==="INPUT"||o==="type"&&r.tagName==="TEXTAREA"||El.test(o)&&Dt(l)?!1:o in r}const Tu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};a0.props;const Su=Mt({patchProp:Iu},lu);let bl;function _u(){return bl||(bl=R0(Su))}const Fd=(...r)=>{const o=_u().createApp(...r),{mount:l}=o;return o.mount=f=>{const d=Ou(f);if(!d)return;const x=o._component;!Ne(x)&&!x.render&&!x.template&&(x.template=d.innerHTML),d.innerHTML="";const m=l(d,!1,d instanceof SVGElement);return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),m},o};function Ou(r){return Dt(r)?document.querySelector(r):r}var te;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var Il=new Map([[te.QR_CODE,"QR_CODE"],[te.AZTEC,"AZTEC"],[te.CODABAR,"CODABAR"],[te.CODE_39,"CODE_39"],[te.CODE_93,"CODE_93"],[te.CODE_128,"CODE_128"],[te.DATA_MATRIX,"DATA_MATRIX"],[te.MAXICODE,"MAXICODE"],[te.ITF,"ITF"],[te.EAN_13,"EAN_13"],[te.EAN_8,"EAN_8"],[te.PDF_417,"PDF_417"],[te.RSS_14,"RSS_14"],[te.RSS_EXPANDED,"RSS_EXPANDED"],[te.UPC_A,"UPC_A"],[te.UPC_E,"UPC_E"],[te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yl;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(yl||(yl={}));function Nu(r){return Object.values(te).includes(r)}var Tl;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Tl||(Tl={}));var Ru=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r}(),Sl=function(){function r(o,l){this.format=o,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(o){if(!Il.has(o))throw o+" not in html5QrcodeSupportedFormatsTextMap";return new r(o,Il.get(o))},r}(),_l=function(){function r(){}return r.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},r.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},r}(),wo;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(wo||(wo={}));var Mu=function(){function r(){}return r.createFrom=function(o){return{errorMessage:o,type:wo.UNKWOWN_ERROR}},r}(),Du=function(){function r(o){this.verbose=o}return r.prototype.log=function(o){this.verbose&&console.log(o)},r.prototype.warn=function(o){this.verbose&&console.warn(o)},r.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},r.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},r}();function po(r){return typeof r=="undefined"||r===null}var li=function(){function r(){}return r.codeParseError=function(o){return"QR code parse error, error = "+o},r.errorGettingUserMedia=function(o){return"Error getting userMedia, error = "+o},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r}(),Ol=function(){function r(){}return r.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var f=typeof o;return l.logError("videoConstraints should be of type object, the "+("object passed is of type "+f+"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(d),m=Object.keys(o),b=0,I=m;b<I.length;b++){var y=I[b];if(x.has(y))return l.logError(y+" is not supported videoConstaints.",!0),!1}return!0},r}(),ci=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rt={exports:{}};(function(r,o){(function(l,f){f(o)})(ci,function(l){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,e){w.__proto__=e}||function(w,e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t])};function d(w,e){f(w,e);function t(){this.constructor=w}w.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function x(w,e){var t=Object.setPrototypeOf;t?t(w,e):w.__proto__=e}function m(w,e){e===void 0&&(e=w.constructor);var t=Error.captureStackTrace;t&&t(w,e)}var b=function(w){d(e,w);function e(t){var n=this.constructor,i=w.call(this,t)||this;return Object.defineProperty(i,"name",{value:n.name,enumerable:!1}),x(i,n.prototype),m(i),i}return e}(Error);class I extends b{constructor(e=void 0){super(e);this.message=e}getKind(){return this.constructor.kind}}I.kind="Exception";class y extends I{}y.kind="ArgumentException";class N extends I{}N.kind="IllegalArgumentException";class G{constructor(e){if(this.binarizer=e,e===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,i){const s=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new G(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new G(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new G(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends I{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class oe{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(e,t,n,i,s){for(;s--;)n[i++]=e[t++]}static currentTimeMillis(){return Date.now()}}class Oe extends I{}Oe.kind="IndexOutOfBoundsException";class de extends Oe{constructor(e=void 0,t=void 0){super(t);this.index=e,this.message=t}}de.kind="ArrayIndexOutOfBoundsException";class le{static fill(e,t){for(let n=0,i=e.length;n<i;n++)e[n]=t}static fillWithin(e,t,n,i){le.rangeCheck(e.length,t,n);for(let s=t;s<n;s++)e[s]=i}static rangeCheck(e,t,n){if(t>n)throw new N("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new de(t);if(n>e)throw new de(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(s=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(s=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const i=n-t,s=new Int32Array(i);return J.arraycopy(e,t,s,0,i),s}static binarySearch(e,t,n){n===void 0&&(n=le.numberComparator);let i=0,s=e.length-1;for(;i<=s;){const a=s+i>>1,c=n(t,e[a]);if(c>0)i=a+1;else if(c<0)s=a-1;else return a}return-i-1}static numberComparator(e,t){return e-t}}class ge{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}ge.MIN_VALUE_32_BITS=-2147483648,ge.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=me.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=me.makeArray(e);J.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!=0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++i===a)return t;s=n[i]}const c=i*32+ge.numberOfTrailingZeros(s);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);const a=n.length;for(;s===0;){if(++i===a)return t;s=~n[i]}const c=i*32+ge.numberOfTrailingZeros(s);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new N;if(t===e)return;t--;const n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let a=n;a<=i;a++){const c=a>n?0:e&31,u=a<i?31:t&31,h=(2<<u)-(1<<c);s[a]|=h}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new N;if(t===e)return!0;t--;const i=Math.floor(e/32),s=Math.floor(t/32),a=this.bits;for(let c=i;c<=s;c++){const u=c>i?0:e&31,h=c<s?31:t&31,g=(2<<h)-(1<<u)&4294967295;if((a[c]&g)!==(n?g:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)==1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new N("Sizes don't match");const t=this.bits;for(let n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]}toBytes(e,t,n,i){for(let s=0;s<i;s++){let a=0;for(let c=0;c<8;c++)this.get(e)&&(a|=1<<7-c),e++;t[n+s]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits;for(let s=0;s<n;s++){let a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-s]=a}if(this.size!==n*32){const s=n*32-this.size;let a=e[0]>>>s;for(let c=1;c<n;c++){const u=e[c];a|=u<<32-s,e[c-1]=a,a=u>>>s}e[n-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof me))return!1;const t=e;return this.size===t.size&&le.equals(this.bits,t.bits)}hashCode(){return 31*this.size+le.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)(t&7)==0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new me(this.size,this.bits.slice())}}var at;(function(w){w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(at||(at={}));var _e=at;class K extends I{static getFormatInstance(){return new K}}K.kind="FormatException";var ae;(function(w){w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR"})(ae||(ae={}));class X{constructor(e,t,n,...i){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=i,X.VALUE_IDENTIFIER_TO_ECI.set(e,this),X.NAME_TO_ECI.set(n,this);const s=this.values;for(let a=0,c=s.length;a!==c;a++){const u=s[a];X.VALUES_TO_ECI.set(u,this)}for(const a of i)X.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new K("incorect value");const t=X.VALUES_TO_ECI.get(e);if(t===void 0)throw new K("incorect value");return t}static getCharacterSetECIByName(e){const t=X.NAME_TO_ECI.get(e);if(t===void 0)throw new K("incorect value");return t}equals(e){if(!(e instanceof X))return!1;const t=e;return this.getName()===t.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(ae.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(ae.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(ae.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(ae.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(ae.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(ae.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(ae.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(ae.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(ae.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(ae.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(ae.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(ae.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(ae.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(ae.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(ae.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(ae.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(ae.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(ae.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(ae.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(ae.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(ae.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(ae.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(ae.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(ae.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(ae.Big5,28,"Big5"),X.GB18030=new X(ae.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(ae.EUC_KR,30,"EUC_KR","EUC-KR");class $e extends I{}$e.kind="UnsupportedOperationException";class et{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!et.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder=="undefined"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof X?e:X.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(et.isDecodeFallbackSupported(n)){let i="";for(let s=0,a=e.length;s<a;s++){let c=e[s].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(n.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $e(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(X.UTF8)||e.equals(X.ISO8859_1)||e.equals(X.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)}}class se{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return et.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(_e.CHARACTER_SET)!==void 0)return t.get(_e.CHARACTER_SET).toString();const n=e.length;let i=!0,s=!0,a=!0,c=0,u=0,h=0,g=0,p=0,A=0,E=0,S=0,_=0,R=0,v=0;const j=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Z=0;Z<n&&(i||s||a);Z++){const Y=e[Z]&255;a&&(c>0?(Y&128)==0?a=!1:c--:(Y&128)!=0&&((Y&64)==0?a=!1:(c++,(Y&32)==0?u++:(c++,(Y&16)==0?h++:(c++,(Y&8)==0?g++:a=!1))))),i&&(Y>127&&Y<160?i=!1:Y>159&&(Y<192||Y===215||Y===247)&&v++),s&&(p>0?Y<64||Y===127||Y>252?s=!1:p--:Y===128||Y===160||Y>239?s=!1:Y>160&&Y<224?(A++,S=0,E++,E>_&&(_=E)):Y>127?(p++,E=0,S++,S>R&&(R=S)):(E=0,S=0))}return a&&c>0&&(a=!1),s&&p>0&&(s=!1),a&&(j||u+h+g>0)?se.UTF8:s&&(se.ASSUME_SHIFT_JIS||_>=3||R>=3)?se.SHIFT_JIS:i&&s?_===2&&A===2||v*10>=n?se.SHIFT_JIS:se.ISO88591:i?se.ISO88591:s?se.SHIFT_JIS:a?se.UTF8:se.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function i(a,c,u,h,g,p){if(a==="%%")return"%";if(t[++n]===void 0)return;a=h?parseInt(h.substr(1)):void 0;let A=g?parseInt(g.substr(1)):void 0,E;switch(p){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(a);break;case"p":E=parseFloat(t[n]).toPrecision(a);break;case"e":E=parseFloat(t[n]).toExponential(a);break;case"x":E=parseInt(t[n]).toString(A||16);break;case"d":E=parseFloat(parseInt(t[n],A||10).toPrecision(a)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(A);let S=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";for(;E.length<S;)E=c!==void 0?E+_:_+E;return E}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}static getBytes(e,t){return et.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}se.SHIFT_JIS=X.SJIS.getName(),se.GB2312="GB2312",se.ISO88591=X.ISO8859_1.getName(),se.EUC_JP="EUC_JP",se.UTF8=X.UTF8.getName(),se.PLATFORM_DEFAULT_ENCODING=se.UTF8,se.ASSUME_SHIFT_JIS=!1;class be{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=se.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let i=t;t<t+n;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class it{constructor(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new N("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,i=new it(n,t);for(let s=0;s<t;s++){const a=e[s];for(let c=0;c<n;c++)a[c]&&i.set(c,s)}return i}static parseFromString(e,t,n){if(e===null)throw new N("stringRepresentation cannot be null");const i=new Array(e.length);let s=0,a=0,c=-1,u=0,h=0;for(;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new N("row lengths do not match");a=s,u++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[s]=!0,s++;else if(e.substring(h,h+n.length)===n)h+=n.length,i[s]=!1,s++;else throw new N("illegal character encountered: "+e.substring(h));if(s>a){if(c===-1)c=s-a;else if(s-a!==c)throw new N("row lengths do not match");u++}const g=new it(c,u);for(let p=0;p<s;p++)i[p]&&g.set(Math.floor(p%c),Math.floor(p/c));return g}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!=0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new N("input matrix dimensions do not match");const t=new me(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits;for(let s=0,a=this.height;s<a;s++){const c=s*n,u=e.getRow(s,t).getBitArray();for(let h=0;h<n;h++)i[c+h]^=u[h]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,i){if(t<0||e<0)throw new N("Left and top must be nonnegative");if(i<1||n<1)throw new N("Height and width must be at least 1");const s=e+n,a=t+i;if(a>this.height||s>this.width)throw new N("The region must fit inside the matrix");const c=this.rowSize,u=this.bits;for(let h=t;h<a;h++){const g=h*c;for(let p=e;p<s;p++)u[g+Math.floor(p/32)]|=1<<(p&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new me(this.width):t.clear();const n=this.rowSize,i=this.bits,s=e*n;for(let a=0;a<n;a++)t.setBulk(a*32,i[s+a]);return t}setRow(e,t){J.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new me(e),i=new me(e);for(let s=0,a=Math.floor((t+1)/2);s<a;s++)n=this.getRow(s,n),i=this.getRow(t-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(t-1-s,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,i=this.bits;let s=e,a=t,c=-1,u=-1;for(let h=0;h<t;h++)for(let g=0;g<n;g++){const p=i[h*n+g];if(p!==0){if(h<a&&(a=h),h>u&&(u=h),g*32<s){let A=0;for(;(p<<31-A&4294967295)==0;)A++;g*32+A<s&&(s=g*32+A)}if(g*32+31>c){let A=31;for(;p>>>A==0;)A--;g*32+A>c&&(c=g*32+A)}}}return c<s||u<a?null:Int32Array.from([s,a,c-s+1,u-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const i=n/e;let s=n%e*32;const a=t[n];let c=0;for(;(a<<31-c&4294967295)==0;)c++;return s+=c,Int32Array.from([s,i])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const i=Math.floor(n/e);let s=Math.floor(n%e)*32;const a=t[n];let c=31;for(;a>>>c==0;)c--;return s+=c,Int32Array.from([s,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof it))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&le.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+le.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let i=new be;for(let s=0,a=this.height;s<a;s++){for(let c=0,u=this.width;c<u;c++)i.append(this.get(c,s)?e:t);i.append(n)}return i.toString()}clone(){return new it(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends I{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class ft extends oe{constructor(e){super(e);this.luminances=ft.EMPTY,this.buckets=new Int32Array(ft.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),i=n.getWidth();t==null||t.getSize()<i?t=new me(i):t.clear(),this.initArrays(i);const s=n.getRow(e,this.luminances),a=this.buckets;for(let u=0;u<i;u++)a[(s[u]&255)>>ft.LUMINANCE_SHIFT]++;const c=ft.estimateBlackPoint(a);if(i<3)for(let u=0;u<i;u++)(s[u]&255)<c&&t.set(u);else{let u=s[0]&255,h=s[1]&255;for(let g=1;g<i-1;g++){const p=s[g+1]&255;(h*4-u-p)/2<c&&t.set(g),u=h,h=p}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),i=new it(t,n);this.initArrays(t);const s=this.buckets;for(let u=1;u<5;u++){const h=Math.floor(n*u/5),g=e.getRow(h,this.luminances),p=Math.floor(t*4/5);for(let A=Math.floor(t/5);A<p;A++){const E=g[A]&255;s[E>>ft.LUMINANCE_SHIFT]++}}const a=ft.estimateBlackPoint(s),c=e.getMatrix();for(let u=0;u<n;u++){const h=u*t;for(let g=0;g<t;g++)(c[h+g]&255)<a&&i.set(g,u)}return i}createBinarizer(e){return new ft(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<ft.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,i=0,s=0;for(let g=0;g<t;g++)e[g]>s&&(i=g,s=e[g]),e[g]>n&&(n=e[g]);let a=0,c=0;for(let g=0;g<t;g++){const p=g-i,A=e[g]*p*p;A>c&&(a=g,c=A)}if(i>a){const g=i;i=a,a=g}if(a-i<=t/16)throw new L;let u=a-1,h=-1;for(let g=a-1;g>i;g--){const p=g-i,A=p*p*(a-g)*(n-e[g]);A>h&&(u=g,h=A)}return u<<ft.LUMINANCE_SHIFT}}ft.LUMINANCE_BITS=5,ft.LUMINANCE_SHIFT=8-ft.LUMINANCE_BITS,ft.LUMINANCE_BUCKETS=1<<ft.LUMINANCE_BITS,ft.EMPTY=Uint8ClampedArray.from([0]);class ue extends ft{constructor(e){super(e);this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=ue.MINIMUM_DIMENSION&&n>=ue.MINIMUM_DIMENSION){const i=e.getMatrix();let s=t>>ue.BLOCK_SIZE_POWER;(t&ue.BLOCK_SIZE_MASK)!=0&&s++;let a=n>>ue.BLOCK_SIZE_POWER;(n&ue.BLOCK_SIZE_MASK)!=0&&a++;const c=ue.calculateBlackPoints(i,s,a,t,n),u=new it(t,n);ue.calculateThresholdForBlock(i,s,a,t,n,c,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,t,n,i,s,a,c){const u=s-ue.BLOCK_SIZE,h=i-ue.BLOCK_SIZE;for(let g=0;g<n;g++){let p=g<<ue.BLOCK_SIZE_POWER;p>u&&(p=u);const A=ue.cap(g,2,n-3);for(let E=0;E<t;E++){let S=E<<ue.BLOCK_SIZE_POWER;S>h&&(S=h);const _=ue.cap(E,2,t-3);let R=0;for(let j=-2;j<=2;j++){const Z=a[A+j];R+=Z[_-2]+Z[_-1]+Z[_]+Z[_+1]+Z[_+2]}const v=R/25;ue.thresholdBlock(e,S,p,v,i,c)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,i,s,a){for(let c=0,u=n*s+t;c<ue.BLOCK_SIZE;c++,u+=s)for(let h=0;h<ue.BLOCK_SIZE;h++)(e[u+h]&255)<=i&&a.set(t+h,n+c)}static calculateBlackPoints(e,t,n,i,s){const a=s-ue.BLOCK_SIZE,c=i-ue.BLOCK_SIZE,u=new Array(n);for(let h=0;h<n;h++){u[h]=new Int32Array(t);let g=h<<ue.BLOCK_SIZE_POWER;g>a&&(g=a);for(let p=0;p<t;p++){let A=p<<ue.BLOCK_SIZE_POWER;A>c&&(A=c);let E=0,S=255,_=0;for(let v=0,j=g*i+A;v<ue.BLOCK_SIZE;v++,j+=i){for(let Z=0;Z<ue.BLOCK_SIZE;Z++){const Y=e[j+Z]&255;E+=Y,Y<S&&(S=Y),Y>_&&(_=Y)}if(_-S>ue.MIN_DYNAMIC_RANGE)for(v++,j+=i;v<ue.BLOCK_SIZE;v++,j+=i)for(let Z=0;Z<ue.BLOCK_SIZE;Z++)E+=e[j+Z]&255}let R=E>>ue.BLOCK_SIZE_POWER*2;if(_-S<=ue.MIN_DYNAMIC_RANGE&&(R=S/2,h>0&&p>0)){const v=(u[h-1][p]+2*u[h][p-1]+u[h-1][p-1])/4;S<v&&(R=v)}u[h][p]=R}}return u}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class ze{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,i){throw new $e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new be;for(let n=0;n<this.height;n++){const i=this.getRow(n,e);for(let s=0;s<this.width;s++){const a=i[s]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class Pe extends ze{constructor(e){super(e.getWidth(),e.getHeight());this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),i=this.getWidth();for(let s=0;s<i;s++)n[s]=255-(n[s]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let i=0;i<t;i++)n[i]=255-(e[i]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,i){return new Pe(this.delegate.crop(e,t,n,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Pe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Pe(this.delegate.rotateCounterClockwise45())}}class Ct extends ze{constructor(e){super(e.width,e.height);this.canvas=e,this.tempCanvasElement=null,this.buffer=Ct.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ct.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const i=new Uint8ClampedArray(t*n);for(let s=0,a=0,c=e.length;s<c;s+=4,a++){let u;if(e[s+3]===0)u=255;else{const g=e[s],p=e[s+1],A=e[s+2];u=306*g+601*p+117*A+512>>10}i[a]=u}return i}getRow(e,t){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const n=this.getWidth(),i=e*n;return t===null?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,i){return super.crop(e,t,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),i=e*Ct.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*a);return t.width=c,t.height=u,n.translate(c/2,u/2),n.rotate(i),n.drawImage(this.canvas,s/-2,a/-2),this.buffer=Ct.makeBufferFromCanvasImageData(t),this}invert(){return new Pe(this)}}Ct.DEGREE_TO_RADIANS=Math.PI/180;class fr{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xt=(globalThis||ci||self||window||void 0)&&(globalThis||ci||self||window||void 0).__awaiter||function(w,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(g){try{h(n.next(g))}catch(p){a(p)}}function u(g){try{h(n.throw(g))}catch(p){a(p)}}function h(g){g.done?s(g.value):i(g.value).then(c,u)}h((n=n.apply(w,e||[])).next())})};class Vt{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return xt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const i=n.kind==="video"?"videoinput":n.kind;if(i!=="videoinput")continue;const s=n.deviceId||n.id,a=n.label||`Video device ${t.length+1}`,c=n.groupId,u={deviceId:s,label:a,kind:i,groupId:c};t.push(u)}return t})}getVideoInputDevices(){return xt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new fr(t.deviceId,t.label))})}findDeviceById(e){return xt(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return xt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return xt(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,t)})}decodeOnceFromConstraints(e,t){return xt(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return xt(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return xt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return xt(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeFromConstraints(s,t,n)})}decodeFromConstraints(e,t,n){return xt(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,t,n)})}decodeFromStream(e,t,n){return xt(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(i,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return xt(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return xt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new y(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new y(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new y("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new y("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new y("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new y("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new y("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new y("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new y("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new y("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return xt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return xt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e=="undefined"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document!="undefined"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const i=(s,a)=>{if(this._stopAsyncDecode){a(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);s(c)}catch(c){const u=t&&c instanceof L,g=(c instanceof U||c instanceof K)&&n;if(u||g)return setTimeout(i,this._timeBetweenDecodingAttempts,s,a);a(c)}};return new Promise((s,a)=>i(s,a))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);t(i,null),setTimeout(n,this.timeBetweenScansMillis)}catch(i){t(null,i);const s=i instanceof U||i instanceof K,a=i instanceof L;(s||a)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}createBinaryBitmap(e){const t=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(t,e);const n=this.getCaptureCanvas(e),i=new Ct(n),s=new ue(i);return new G(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}drawImageOnCanvas(e,t){e.drawImage(t,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,i;return typeof e!="undefined"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class lt{constructor(e,t,n=t==null?0:8*t.length,i,s,a=J.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=J.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);J.arraycopy(t,0,n,0,t.length),J.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var hr;(function(w){w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(hr||(hr={}));var fe=hr,Xr;(function(w){w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Xr||(Xr={}));var je=Xr;class xn{constructor(e,t,n,i,s=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Bn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new N;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class wt{constructor(e,t){if(t.length===0)throw new N;this.field=e;const n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let a=0,c=t.length;a!==c;a++){const u=t[a];n=Bn.addOrSubtract(n,u)}return n}n=t[0];const i=t.length,s=this.field;for(let a=1;a<i;a++)n=Bn.addOrSubtract(s.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const a=t;t=n,n=a}let i=new Int32Array(n.length);const s=n.length-t.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=Bn.addOrSubtract(t[a-s],n[a]);return new wt(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),c=this.field;for(let u=0;u<n;u++){const h=t[u];for(let g=0;g<s;g++)a[u+g]=Bn.addOrSubtract(a[u+g],c.multiply(h,i[g]))}return new wt(c,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,i=new Int32Array(t),s=this.coefficients;for(let a=0;a<t;a++)i[a]=n.multiply(s[a],e);return new wt(n,i)}multiplyByMonomial(e,t){if(e<0)throw new N;if(t===0)return this.field.getZero();const n=this.coefficients,i=n.length,s=new Int32Array(i+e),a=this.field;for(let c=0;c<i;c++)s[c]=a.multiply(n[c],t);return new wt(a,s)}divide(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new N("Divide by 0");const t=this.field;let n=t.getZero(),i=this;const s=e.getCoefficient(e.getDegree()),a=t.inverse(s);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const c=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),a),h=e.multiplyByMonomial(c,u),g=t.buildMonomial(c,u);n=n.addOrSubtract(g),i=i.addOrSubtract(h)}return[n,i]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class vn extends I{}vn.kind="ArithmeticException";class De extends Bn{constructor(e,t,n){super();this.primitive=e,this.size=t,this.generatorBase=n;const i=new Int32Array(t);let s=1;for(let c=0;c<t;c++)i[c]=s,s*=2,s>=t&&(s^=e,s&=t-1);this.expTable=i;const a=new Int32Array(t);for(let c=0;c<t-1;c++)a[i[c]]=c;this.logTable=a,this.zero=new wt(this,Int32Array.from([0])),this.one=new wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new N;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new wt(this,n)}inverse(e){if(e===0)throw new vn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ge.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}De.AZTEC_DATA_12=new De(4201,4096,1),De.AZTEC_DATA_10=new De(1033,1024,1),De.AZTEC_DATA_6=new De(67,64,1),De.AZTEC_PARAM=new De(19,16,1),De.QR_CODE_FIELD_256=new De(285,256,0),De.DATA_MATRIX_FIELD_256=new De(301,256,1),De.AZTEC_DATA_8=De.DATA_MATRIX_FIELD_256,De.MAXICODE_FIELD_64=De.AZTEC_DATA_6;class T extends I{}T.kind="ReedSolomonException";class O extends I{}O.kind="IllegalStateException";class F{constructor(e){this.field=e}decode(e,t){const n=this.field,i=new wt(n,e),s=new Int32Array(t);let a=!0;for(let E=0;E<t;E++){const S=i.evaluateAt(n.exp(E+n.getGeneratorBase()));s[s.length-1-E]=S,S!==0&&(a=!1)}if(a)return;const c=new wt(n,s),u=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),h=u[0],g=u[1],p=this.findErrorLocations(h),A=this.findErrorMagnitudes(g,p);for(let E=0;E<p.length;E++){const S=e.length-1-n.log(p[E]);if(S<0)throw new T("Bad error location");e[S]=De.addOrSubtract(e[S],A[E])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const E=e;e=t,t=E}const i=this.field;let s=e,a=t,c=i.getZero(),u=i.getOne();for(;a.getDegree()>=(n/2|0);){let E=s,S=c;if(s=a,c=u,s.isZero())throw new T("r_{i-1} was zero");a=E;let _=i.getZero();const R=s.getCoefficient(s.getDegree()),v=i.inverse(R);for(;a.getDegree()>=s.getDegree()&&!a.isZero();){const j=a.getDegree()-s.getDegree(),Z=i.multiply(a.getCoefficient(a.getDegree()),v);_=_.addOrSubtract(i.buildMonomial(j,Z)),a=a.addOrSubtract(s.multiplyByMonomial(j,Z))}if(u=_.multiply(c).addOrSubtract(S),a.getDegree()>=s.getDegree())throw new O("Division algorithm failed to reduce polynomial?")}const h=u.getCoefficient(0);if(h===0)throw new T("sigmaTilde(0) was zero");const g=i.inverse(h),p=u.multiplyScalar(g),A=a.multiplyScalar(g);return[p,A]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let i=0;const s=this.field;for(let a=1;a<s.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=s.inverse(a),i++);if(i!==t)throw new T("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,i=new Int32Array(n),s=this.field;for(let a=0;a<n;a++){const c=s.inverse(t[a]);let u=1;for(let h=0;h<n;h++)if(a!==h){const g=s.multiply(t[h],c),p=(g&1)==0?g|1:g&~1;u=s.multiply(u,p)}i[a]=s.multiply(e.evaluateAt(c),s.inverse(u)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],c))}return i}}var V;(function(w){w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY"})(V||(V={}));class P{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),s=P.convertBoolArrayToByteArray(i),a=P.getEncodedData(i),c=new xn(s,a,null,null);return c.setNumBits(i.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=V.UPPER,i=V.UPPER,s="",a=0;for(;a<t;)if(i===V.BINARY){if(t-a<5)break;let c=P.readCode(e,a,5);if(a+=5,c===0){if(t-a<11)break;c=P.readCode(e,a,11)+31,a+=11}for(let u=0;u<c;u++){if(t-a<8){a=t;break}const h=P.readCode(e,a,8);s+=se.castAsNonUtf8Char(h),a+=8}i=n}else{let c=i===V.DIGIT?4:5;if(t-a<c)break;let u=P.readCode(e,a,c);a+=c;let h=P.getCharacter(i,u);h.startsWith("CTRL_")?(n=i,i=P.getTable(h.charAt(5)),h.charAt(6)==="L"&&(n=i)):(s+=h,i=n)}return s}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;case"U":default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return P.UPPER_TABLE[t];case V.LOWER:return P.LOWER_TABLE[t];case V.MIXED:return P.MIXED_TABLE[t];case V.PUNCT:return P.PUNCT_TABLE[t];case V.DIGIT:return P.DIGIT_TABLE[t];default:throw new O("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=De.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=De.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=De.AZTEC_DATA_10):(n=12,t=De.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new K;let a=e.length%n,c=new Int32Array(s);for(let A=0;A<s;A++,a+=n)c[A]=P.readCode(e,a,n);try{new F(t).decode(c,s-i)}catch(A){throw new K(A)}let u=(1<<n)-1,h=0;for(let A=0;A<i;A++){let E=c[A];if(E===0||E===u)throw new K;(E===1||E===u-1)&&h++}let g=new Array(i*n-h),p=0;for(let A=0;A<i;A++){let E=c[A];if(E===1||E===u-1)g.fill(E>1,p,p+n-1),p+=n-1;else for(let S=n-1;S>=0;--S)g[p++]=(E&1<<S)!=0}return g}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,t));if(t)for(let c=0;c<s.length;c++)s[c]=c;else{let c=i+1+2*ge.truncDivision(ge.truncDivision(i,2)-1,15),u=i/2,h=ge.truncDivision(c,2);for(let g=0;g<u;g++){let p=g+ge.truncDivision(g,15);s[u-g-1]=h-p-1,s[u+g]=h+p+1}}for(let c=0,u=0;c<n;c++){let h=(n-c)*4+(t?9:12),g=c*2,p=i-1-g;for(let A=0;A<h;A++){let E=A*2;for(let S=0;S<2;S++)a[u+E+S]=e.get(s[g+S],s[g+A]),a[u+2*h+E+S]=e.get(s[g+A],s[p-S]),a[u+4*h+E+S]=e.get(s[p-S],s[p-A]),a[u+6*h+E+S]=e.get(s[p-A],s[g+S])}u+=h*8}return a}static readCode(e,t,n){let i=0;for(let s=t;s<t+n;s++)i<<=1,e[s]&&(i|=1);return i}static readByte(e,t){let n=e.length-t;return n>=8?P.readCode(e,t,8):P.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=P.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}P.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],P.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],P.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],P.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],P.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class H{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,i){const s=e-n,a=t-i;return Math.sqrt(s*s+a*a)}static sum(e){let t=0;for(let n=0,i=e.length;n!==i;n++)t+=e[n];return t}}class ${static floatToIntBits(e){return e}}$.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof D){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*$.floatToIntBits(this.x)+$.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let s,a,c;if(n>=t&&n>=i?(a=e[0],s=e[1],c=e[2]):i>=n&&i>=t?(a=e[1],s=e[0],c=e[2]):(a=e[2],s=e[0],c=e[1]),this.crossProductZ(s,a,c)<0){const u=s;s=c,c=u}e[0]=s,e[1]=a,e[2]=c}static distance(e,t){return H.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const i=t.x,s=t.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)}}class q{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class z extends q{constructor(e,t,n,i,s){super(e,t);this.compact=n,this.nbDatablocks=i,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ie{constructor(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=ie.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const s=t/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,s=!1,a=!0,c=!1,u=!1,h=!1,g=!1,p=!1;const A=this.width,E=this.height;for(;a;){a=!1;let S=!0;for(;(S||!u)&&t<A;)S=this.containsBlackPoint(n,i,t,!1),S?(t++,a=!0,u=!0):u||t++;if(t>=A){s=!0;break}let _=!0;for(;(_||!h)&&i<E;)_=this.containsBlackPoint(e,t,i,!0),_?(i++,a=!0,h=!0):h||i++;if(i>=E){s=!0;break}let R=!0;for(;(R||!g)&&e>=0;)R=this.containsBlackPoint(n,i,e,!1),R?(e--,a=!0,g=!0):g||e--;if(e<0){s=!0;break}let v=!0;for(;(v||!p)&&n>=0;)v=this.containsBlackPoint(e,t,n,!0),v?(n--,a=!0,p=!0):p||n--;if(n<0){s=!0;break}a&&(c=!0)}if(!s&&c){const S=t-e;let _=null;for(let Z=1;_===null&&Z<S;Z++)_=this.getBlackPointOnSegment(e,i-Z,e+Z,i);if(_==null)throw new L;let R=null;for(let Z=1;R===null&&Z<S;Z++)R=this.getBlackPointOnSegment(e,n+Z,e+Z,n);if(R==null)throw new L;let v=null;for(let Z=1;v===null&&Z<S;Z++)v=this.getBlackPointOnSegment(t,n+Z,t-Z,n);if(v==null)throw new L;let j=null;for(let Z=1;j===null&&Z<S;Z++)j=this.getBlackPointOnSegment(t,i-Z,t-Z,i);if(j==null)throw new L;return this.centerEdges(j,_,v,R)}else throw new L}getBlackPointOnSegment(e,t,n,i){const s=H.round(H.distance(e,t,n,i)),a=(n-e)/s,c=(i-t)/s,u=this.image;for(let h=0;h<s;h++){const g=H.round(e+h*a),p=H.round(t+h*c);if(u.get(g,p))return new D(g,p)}return null}centerEdges(e,t,n,i){const s=e.getX(),a=e.getY(),c=t.getX(),u=t.getY(),h=n.getX(),g=n.getY(),p=i.getX(),A=i.getY(),E=ie.CORR;return s<this.width/2?[new D(p-E,A+E),new D(c+E,u+E),new D(h-E,g-E),new D(s+E,a-E)]:[new D(p+E,A+E),new D(c+E,u-E),new D(h-E,g+E),new D(s-E,a-E)]}containsBlackPoint(e,t,n,i){const s=this.image;if(i){for(let a=e;a<=t;a++)if(s.get(a,n))return!0}else for(let a=e;a<=t;a++)if(s.get(n,a))return!0;return!1}}ie.INIT_SIZE=10,ie.CORR=1;class re{static checkAndNudgePoints(e,t){const n=e.getWidth(),i=e.getHeight();let s=!0;for(let a=0;a<t.length&&s;a+=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>i)throw new L;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}s=!0;for(let a=t.length-2;a>=0&&s;a-=2){const c=Math.floor(t[a]),u=Math.floor(t[a+1]);if(c<-1||c>n||u<-1||u>i)throw new L;s=!1,c===-1?(t[a]=0,s=!0):c===n&&(t[a]=n-1,s=!0),u===-1?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}}}class ne{constructor(e,t,n,i,s,a,c,u,h){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=s,this.a32=a,this.a13=c,this.a23=u,this.a33=h}static quadrilateralToQuadrilateral(e,t,n,i,s,a,c,u,h,g,p,A,E,S,_,R){const v=ne.quadrilateralToSquare(e,t,n,i,s,a,c,u);return ne.squareToQuadrilateral(h,g,p,A,E,S,_,R).times(v)}transformPoints(e){const t=e.length,n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,h=this.a31,g=this.a32,p=this.a33;for(let A=0;A<t;A+=2){const E=e[A],S=e[A+1],_=s*E+u*S+p;e[A]=(n*E+a*S+h)/_,e[A+1]=(i*E+c*S+g)/_}}transformPointsWithValues(e,t){const n=this.a11,i=this.a12,s=this.a13,a=this.a21,c=this.a22,u=this.a23,h=this.a31,g=this.a32,p=this.a33,A=e.length;for(let E=0;E<A;E++){const S=e[E],_=t[E],R=s*S+u*_+p;e[E]=(n*S+a*_+h)/R,t[E]=(i*S+c*_+g)/R}}static squareToQuadrilateral(e,t,n,i,s,a,c,u){const h=e-n+s-c,g=t-i+a-u;if(h===0&&g===0)return new ne(n-e,s-n,e,i-t,a-i,t,0,0,1);{const p=n-s,A=c-s,E=i-a,S=u-a,_=p*S-A*E,R=(h*S-A*g)/_,v=(p*g-h*E)/_;return new ne(n-e+R*n,c-e+v*c,e,i-t+R*i,u-t+v*u,t,R,v,1)}}static quadrilateralToSquare(e,t,n,i,s,a,c,u){return ne.squareToQuadrilateral(e,t,n,i,s,a,c,u).buildAdjoint()}buildAdjoint(){return new ne(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new ne(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class pe extends re{sampleGrid(e,t,n,i,s,a,c,u,h,g,p,A,E,S,_,R,v,j,Z){const Y=ne.quadrilateralToQuadrilateral(i,s,a,c,u,h,g,p,A,E,S,_,R,v,j,Z);return this.sampleGridWithTransform(e,t,n,Y)}sampleGridWithTransform(e,t,n,i){if(t<=0||n<=0)throw new L;const s=new it(t,n),a=new Float32Array(2*t);for(let c=0;c<n;c++){const u=a.length,h=c+.5;for(let g=0;g<u;g+=2)a[g]=g/2+.5,a[g+1]=h;i.transformPoints(a),re.checkAndNudgePoints(e,a);try{for(let g=0;g<u;g+=2)e.get(Math.floor(a[g]),Math.floor(a[g+1]))&&s.set(g/2,c)}catch{throw new L}}return s}}class Ce{static setGridSampler(e){Ce.gridSampler=e}static getInstance(){return Ce.gridSampler}}Ce.gridSampler=new pe;class Ie{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new D(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class We{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);let i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new z(i,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new L;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let i=0;for(let a=0;a<4;a++){let c=n[(this.shift+a)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&31<<5)+(c>>1&31))}let s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,t){let n=0;e.forEach((i,s,a)=>{let c=(i>>t-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(let i=0;i<4;i++)if(ge.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new L}getCorrectedParameterData(e,t){let n,i;t?(n=7,i=2):(n=10,i=4);let s=n-i,a=new Int32Array(n);for(let u=n-1;u>=0;--u)a[u]=e&15,e>>=4;try{new F(De.AZTEC_PARAM).decode(a,s)}catch{throw new L}let c=0;for(let u=0;u<i;u++)c=(c<<4)+a[u];return c}getBullsEyeCorners(e){let t=e,n=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let p=this.getFirstDifferent(t,a,1,-1),A=this.getFirstDifferent(n,a,1,1),E=this.getFirstDifferent(i,a,-1,1),S=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){let _=this.distancePoint(S,p)*this.nbCenterLayers/(this.distancePoint(s,t)*(this.nbCenterLayers+2));if(_<.75||_>1.25||!this.isWhiteOrBlackRectangle(p,A,E,S))break}t=p,n=A,i=E,s=S,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let c=new D(t.getX()+.5,t.getY()-.5),u=new D(n.getX()+.5,n.getY()+.5),h=new D(i.getX()-.5,i.getY()+.5),g=new D(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,u,h,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,i;try{let c=new ie(this.image).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{let u=this.image.getWidth()/2,h=this.image.getHeight()/2;e=this.getFirstDifferent(new Ie(u+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ie(u+7,h+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ie(u-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ie(u-7,h-7),!1,-1,-1).toResultPoint()}let s=H.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=H.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{let c=new ie(this.image,15,s,a).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{e=this.getFirstDifferent(new Ie(s+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ie(s+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ie(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ie(s-7,a-7),!1,-1,-1).toResultPoint()}return s=H.round((e.getX()+i.getX()+t.getX()+n.getX())/4),a=H.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Ie(s,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,i,s){let a=Ce.getInstance(),c=this.getDimension(),u=c/2-this.nbCenterLayers,h=c/2+this.nbCenterLayers;return a.sampleGrid(e,c,c,u,u,h,u,h,h,u,h,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())}sampleLine(e,t,n){let i=0,s=this.distanceResultPoint(e,t),a=s/n,c=e.getX(),u=e.getY(),h=a*(t.getX()-e.getX())/s,g=a*(t.getY()-e.getY())/s;for(let p=0;p<n;p++)this.image.get(H.round(c+p*h),H.round(u+p*g))&&(i|=1<<n-p-1);return i}isWhiteOrBlackRectangle(e,t,n,i){let s=3;e=new Ie(e.getX()-s,e.getY()+s),t=new Ie(t.getX()-s,t.getY()-s),n=new Ie(n.getX()+s,n.getY()-s),i=new Ie(i.getX()+s,i.getY()+s);let a=this.getColor(i,e);if(a===0)return!1;let c=this.getColor(e,t);return c!==a||(c=this.getColor(t,n),c!==a)?!1:(c=this.getColor(n,i),c===a)}getColor(e,t){let n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,s=(t.getY()-e.getY())/n,a=0,c=e.getX(),u=e.getY(),h=this.image.get(e.getX(),e.getY()),g=Math.ceil(n);for(let A=0;A<g;A++)c+=i,u+=s,this.image.get(H.round(c),H.round(u))!==h&&a++;let p=a/n;return p>.1&&p<.9?0:p<=.1===h?1:-1}getFirstDifferent(e,t,n,i){let s=e.getX()+n,a=e.getY()+i;for(;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n,a+=i;for(s-=n,a-=i;this.isValid(s,a)&&this.image.get(s,a)===t;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===t;)a+=i;return a-=i,new Ie(s,a)}expandSquare(e,t,n){let i=n/(2*t),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,h=new D(c+i*s,u+i*a),g=new D(c-i*s,u-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let p=new D(c+i*s,u+i*a),A=new D(c-i*s,u-i*a);return[h,p,g,A]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=H.round(e.getX()),n=H.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return H.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return H.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ge.truncDivision(this.nbLayers-4,8)+1)+15}}class Xe{decode(e,t=null){let n=null,i=new We(e.getBlackMatrix()),s=null,a=null;try{let g=i.detectMirror(!1);s=g.getPoints(),this.reportFoundResultPoints(t,s),a=new P().decode(g)}catch(g){n=g}if(a==null)try{let g=i.detectMirror(!0);s=g.getPoints(),this.reportFoundResultPoints(t,s),a=new P().decode(g)}catch(g){throw n!=null?n:g}let c=new lt(a.getText(),a.getRawBytes(),a.getNumBits(),s,fe.AZTEC,J.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(je.BYTE_SEGMENTS,u);let h=a.getECLevel();return h!=null&&c.putMetadata(je.ERROR_CORRECTION_LEVEL,h),c}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(_e.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((i,s,a)=>{n.foundPossibleResultPoint(i)})}}reset(){}}class Kt extends Vt{constructor(e=500){super(new Xe,e)}}class qe{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(_e.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),a=this.doDecode(s,t),c=a.getResultMetadata();let u=270;c!==null&&c.get(je.ORIENTATION)===!0&&(u=u+c.get(je.ORIENTATION)%360),a.putMetadata(je.ORIENTATION,u);const h=a.getResultPoints();if(h!==null){const g=s.getHeight();for(let p=0;p<h.length;p++)h[p]=new D(g-h[p].getY()-1,h[p].getX())}return a}else throw new L}}reset(){}doDecode(e,t){const n=e.getWidth(),i=e.getHeight();let s=new me(n);const a=t&&t.get(_e.TRY_HARDER)===!0,c=Math.max(1,i>>(a?8:5));let u;a?u=i:u=15;const h=Math.trunc(i/2);for(let g=0;g<u;g++){const p=Math.trunc((g+1)/2),A=(g&1)==0,E=h+c*(A?p:-p);if(E<0||E>=i)break;try{s=e.getBlackRow(E,s)}catch{continue}for(let S=0;S<2;S++){if(S===1&&(s.reverse(),t&&t.get(_e.NEED_RESULT_POINT_CALLBACK)===!0)){const _=new Map;t.forEach((R,v)=>_.set(v,R)),_.delete(_e.NEED_RESULT_POINT_CALLBACK),t=_}try{const _=this.decodeRow(E,s,t);if(S===1){_.putMetadata(je.ORIENTATION,180);const R=_.getResultPoints();R!==null&&(R[0]=new D(n-R[0].getX()-1,R[0].getY()),R[1]=new D(n-R[1].getX()-1,R[1].getY()))}return _}catch{}}}throw new L}static recordPattern(e,t,n){const i=n.length;for(let h=0;h<i;h++)n[h]=0;const s=e.getSize();if(t>=s)throw new L;let a=!e.get(t),c=0,u=t;for(;u<s;){if(e.get(u)!==a)n[c]++;else{if(++c===i)break;n[c]=1,a=!a}u++}if(!(c===i||c===i-1&&u===s))throw new L}static recordPatternInReverse(e,t,n){let i=n.length,s=e.get(t);for(;t>0&&i>=0;)e.get(--t)!==s&&(i--,s=!s);if(i>=0)throw new L;qe.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const i=e.length;let s=0,a=0;for(let h=0;h<i;h++)s+=e[h],a+=t[h];if(s<a)return Number.POSITIVE_INFINITY;const c=s/a;n*=c;let u=0;for(let h=0;h<i;h++){const g=e[h],p=t[h]*c,A=g>p?g-p:p-g;if(A>n)return Number.POSITIVE_INFINITY;u+=A}return u/s}}class Q extends qe{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let i=0,s=Int32Array.from([0,0,0,0,0,0]),a=n,c=!1;const u=6;for(let h=n;h<t;h++)if(e.get(h)!==c)s[i]++;else{if(i===u-1){let g=Q.MAX_AVG_VARIANCE,p=-1;for(let A=Q.CODE_START_A;A<=Q.CODE_START_C;A++){const E=qe.patternMatchVariance(s,Q.CODE_PATTERNS[A],Q.MAX_INDIVIDUAL_VARIANCE);E<g&&(g=E,p=A)}if(p>=0&&e.isRange(Math.max(0,a-(h-a)/2),a,!1))return Int32Array.from([a,h,p]);a+=s[0]+s[1],s=s.slice(2,s.length-1),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new L}static decodeCode(e,t,n){qe.recordPattern(e,n,t);let i=Q.MAX_AVG_VARIANCE,s=-1;for(let a=0;a<Q.CODE_PATTERNS.length;a++){const c=Q.CODE_PATTERNS[a],u=this.patternMatchVariance(t,c,Q.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=a)}if(s>=0)return s;throw new L}decodeRow(e,t,n){const i=n&&n.get(_e.ASSUME_GS1)===!0,s=Q.findStartPattern(t),a=s[2];let c=0;const u=new Uint8Array(20);u[c++]=a;let h;switch(a){case Q.CODE_START_A:h=Q.CODE_CODE_A;break;case Q.CODE_START_B:h=Q.CODE_CODE_B;break;case Q.CODE_START_C:h=Q.CODE_CODE_C;break;default:throw new K}let g=!1,p=!1,A="",E=s[0],S=s[1];const _=Int32Array.from([0,0,0,0,0,0]);let R=0,v=0,j=a,Z=0,Y=!0,Me=!1,Ee=!1;for(;!g;){const br=p;switch(p=!1,R=v,v=Q.decodeCode(t,_,S),u[c++]=v,v!==Q.CODE_STOP&&(Y=!0),v!==Q.CODE_STOP&&(Z++,j+=Z*v),E=S,S+=_.reduce((qc,Qc)=>qc+Qc,0),v){case Q.CODE_START_A:case Q.CODE_START_B:case Q.CODE_START_C:throw new K}switch(h){case Q.CODE_CODE_A:if(v<64)Ee===Me?A+=String.fromCharCode(" ".charCodeAt(0)+v):A+=String.fromCharCode(" ".charCodeAt(0)+v+128),Ee=!1;else if(v<96)Ee===Me?A+=String.fromCharCode(v-64):A+=String.fromCharCode(v+64),Ee=!1;else switch(v!==Q.CODE_STOP&&(Y=!1),v){case Q.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case Q.CODE_FNC_2:case Q.CODE_FNC_3:break;case Q.CODE_FNC_4_A:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case Q.CODE_SHIFT:p=!0,h=Q.CODE_CODE_B;break;case Q.CODE_CODE_B:h=Q.CODE_CODE_B;break;case Q.CODE_CODE_C:h=Q.CODE_CODE_C;break;case Q.CODE_STOP:g=!0;break}break;case Q.CODE_CODE_B:if(v<96)Ee===Me?A+=String.fromCharCode(" ".charCodeAt(0)+v):A+=String.fromCharCode(" ".charCodeAt(0)+v+128),Ee=!1;else switch(v!==Q.CODE_STOP&&(Y=!1),v){case Q.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case Q.CODE_FNC_2:case Q.CODE_FNC_3:break;case Q.CODE_FNC_4_B:!Me&&Ee?(Me=!0,Ee=!1):Me&&Ee?(Me=!1,Ee=!1):Ee=!0;break;case Q.CODE_SHIFT:p=!0,h=Q.CODE_CODE_A;break;case Q.CODE_CODE_A:h=Q.CODE_CODE_A;break;case Q.CODE_CODE_C:h=Q.CODE_CODE_C;break;case Q.CODE_STOP:g=!0;break}break;case Q.CODE_CODE_C:if(v<100)v<10&&(A+="0"),A+=v;else switch(v!==Q.CODE_STOP&&(Y=!1),v){case Q.CODE_FNC_1:i&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case Q.CODE_CODE_A:h=Q.CODE_CODE_A;break;case Q.CODE_CODE_B:h=Q.CODE_CODE_B;break;case Q.CODE_STOP:g=!0;break}break}br&&(h=h===Q.CODE_CODE_A?Q.CODE_CODE_B:Q.CODE_CODE_A)}const Gt=S-E;if(S=t.getNextUnset(S),!t.isRange(S,Math.min(t.getSize(),S+(S-E)/2),!1))throw new L;if(j-=Z*R,j%103!==R)throw new U;const fn=A.length;if(fn===0)throw new L;fn>0&&Y&&(h===Q.CODE_CODE_C?A=A.substring(0,fn-2):A=A.substring(0,fn-1));const Yt=(s[1]+s[0])/2,Je=E+Gt/2,Tt=u.length,qt=new Uint8Array(Tt);for(let br=0;br<Tt;br++)qt[br]=u[br];const Er=[new D(Yt,e),new D(Je,e)];return new lt(A,qt,0,Er,fe.CODE_128,new Date().getTime())}}Q.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Q.MAX_AVG_VARIANCE=.25,Q.MAX_INDIVIDUAL_VARIANCE=.7,Q.CODE_SHIFT=98,Q.CODE_CODE_C=99,Q.CODE_CODE_B=100,Q.CODE_CODE_A=101,Q.CODE_FNC_1=102,Q.CODE_FNC_2=97,Q.CODE_FNC_3=96,Q.CODE_FNC_4_A=101,Q.CODE_FNC_4_B=100,Q.CODE_START_A=103,Q.CODE_START_B=104,Q.CODE_START_C=105,Q.CODE_STOP=106;class st extends qe{constructor(e=!1,t=!1){super();this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let i=this.counters;i.fill(0),this.decodeRowResult="";let s=st.findAsteriskPattern(t,i),a=t.getNextSet(s[1]),c=t.getSize(),u,h;do{st.recordPattern(t,a,i);let _=st.toNarrowWidePattern(i);if(_<0)throw new L;u=st.patternToChar(_),this.decodeRowResult+=u,h=a;for(let R of i)a+=R;a=t.getNextSet(a)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let g=0;for(let _ of i)g+=_;let p=a-h-g;if(a!==c&&p*2<g)throw new L;if(this.usingCheckDigit){let _=this.decodeRowResult.length-1,R=0;for(let v=0;v<_;v++)R+=st.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(v));if(this.decodeRowResult.charAt(_)!==st.ALPHABET_STRING.charAt(R%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new L;let A;this.extendedMode?A=st.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let E=(s[1]+s[0])/2,S=h+g/2;return new lt(A,null,0,[new D(E,e),new D(S,e)],fe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),i=e.getNextSet(0),s=0,a=i,c=!1,u=t.length;for(let h=i;h<n;h++)if(e.get(h)!==c)t[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(t)===st.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((h-a)/2)),a,!1))return[a,h];a+=t[0]+t[1],t.copyWithin(0,2,2+s-1),t[s-1]=0,t[s]=0,s--}else s++;t[s]=1,c=!c}throw new L}static toNarrowWidePattern(e){let t=e.length,n=0,i;do{let s=2147483647;for(let u of e)u<s&&u>n&&(s=u);n=s,i=0;let a=0,c=0;for(let u=0;u<t;u++){let h=e[u];h>n&&(c|=1<<t-1-u,i++,a+=h)}if(i===3){for(let u=0;u<t&&i>0;u++){let h=e[u];if(h>n&&(i--,h*2>=a))return-1}return c}}while(i>3);return-1}static patternToChar(e){for(let t=0;t<st.CHARACTER_ENCODINGS.length;t++)if(st.CHARACTER_ENCODINGS[t]===e)return st.ALPHABET_STRING.charAt(t);if(e===st.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(e){let t=e.length,n="";for(let i=0;i<t;i++){let s=e.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){let a=e.charAt(i+1),c="\0";switch(s){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new K;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new K;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="\x7F";else throw new K;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new K;break}n+=c,i++}else n+=s}return n}}st.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",st.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],st.ASTERISK_ENCODING=148;class Ge extends qe{constructor(){super(...arguments);this.narrowLineWidth=-1}decodeRow(e,t,n){let i=this.decodeStart(t),s=this.decodeEnd(t),a=new be;Ge.decodeMiddle(t,i[1],s[0],a);let c=a.toString(),u=null;n!=null&&(u=n.get(_e.ALLOWED_LENGTHS)),u==null&&(u=Ge.DEFAULT_ALLOWED_LENGTHS);let h=c.length,g=!1,p=0;for(let S of u){if(h===S){g=!0;break}S>p&&(p=S)}if(!g&&h>p&&(g=!0),!g)throw new K;const A=[new D(i[1],e),new D(s[0],e)];return new lt(c,null,0,A,fe.ITF,new Date().getTime())}static decodeMiddle(e,t,n,i){let s=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),a.fill(0),c.fill(0);t<n;){qe.recordPattern(e,t,s);for(let h=0;h<5;h++){let g=2*h;a[h]=s[g],c[h]=s[g+1]}let u=Ge.decodeDigit(a);i.append(u.toString()),u=this.decodeDigit(c),i.append(u.toString()),s.forEach(function(h){t+=h})}}decodeStart(e){let t=Ge.skipWhiteSpace(e),n=Ge.findGuardPattern(e,t,Ge.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let i=t-1;n>0&&i>=0&&!e.get(i);i--)n--;if(n!==0)throw new L}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new L;return n}decodeEnd(e){e.reverse();try{let t=Ge.skipWhiteSpace(e),n;try{n=Ge.findGuardPattern(e,t,Ge.END_PATTERN_REVERSED[0])}catch(s){s instanceof L&&(n=Ge.findGuardPattern(e,t,Ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let i=n.length,s=new Int32Array(i),a=e.getSize(),c=!1,u=0,h=t;s.fill(0);for(let g=t;g<a;g++)if(e.get(g)!==c)s[u]++;else{if(u===i-1){if(qe.patternMatchVariance(s,n,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return[h,g];h+=s[0]+s[1],J.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new L}static decodeDigit(e){let t=Ge.MAX_AVG_VARIANCE,n=-1,i=Ge.PATTERNS.length;for(let s=0;s<i;s++){let a=Ge.PATTERNS[s],c=qe.patternMatchVariance(e,a,Ge.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,n=s):c===t&&(n=-1)}if(n>=0)return n%10;throw new L}}Ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ge.MAX_AVG_VARIANCE=.38,Ge.MAX_INDIVIDUAL_VARIANCE=.5,Ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ge.START_PATTERN=Int32Array.from([1,1,1,1]),Ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Re extends qe{constructor(){super(...arguments);this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,i=0,s=Int32Array.from([0,0,0]);for(;!t;){s=Int32Array.from([0,0,0]),n=Re.findGuardPattern(e,i,!1,this.START_END_PATTERN,s);let a=n[0];i=n[1];let c=a-(i-a);c>=0&&(t=e.isRange(c,a,!1))}return n}static checkChecksum(e){return Re.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Re.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new K;n+=s}n*=3;for(let i=t-2;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new K;n+=s}return(1e3-n)%10}static decodeEnd(e,t){return Re.findGuardPattern(e,t,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,i){return this.findGuardPattern(e,t,n,i,new Int32Array(i.length))}static findGuardPattern(e,t,n,i,s){let a=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let c=0,u=t,h=i.length,g=n;for(let p=t;p<a;p++)if(e.get(p)!==g)s[c]++;else{if(c===h-1){if(qe.patternMatchVariance(s,i,Re.MAX_INDIVIDUAL_VARIANCE)<Re.MAX_AVG_VARIANCE)return Int32Array.from([u,p]);u+=s[0]+s[1];let A=s.slice(2,s.length-1);for(let E=0;E<c-1;E++)s[E]=A[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new L}static decodeDigit(e,t,n,i){this.recordPattern(e,n,t);let s=this.MAX_AVG_VARIANCE,a=-1,c=i.length;for(let u=0;u<c;u++){let h=i[u],g=qe.patternMatchVariance(t,h,Re.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,a=u)}if(a>=0)return a;throw new L}}Re.MAX_AVG_VARIANCE=.48,Re.MAX_INDIVIDUAL_VARIANCE=.7,Re.START_END_PATTERN=Int32Array.from([1,1,1]),Re.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Re.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Re.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ot{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,i),a=i.toString(),c=Ot.parseExtensionString(a),u=[new D((n[0]+n[1])/2,e),new D(s,e)],h=new lt(a,null,0,u,fe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let h=0;h<5&&a<s;h++){let g=Re.decodeDigit(e,i,a,Re.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let p of i)a+=p;g>=10&&(c|=1<<4-h),h!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==5)throw new L;let u=this.determineCheckDigit(c);if(Ot.extensionChecksum(n.toString())!==u)throw new L;return a}static extensionChecksum(e){let t=e.length,n=0;for(let i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new L}static parseExtensionString(e){if(e.length!==5)return null;let t=Ot.parseExtension5String(e);return t==null?null:new Map([[je.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return t+i+"."+a}}class dr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,s=this.decodeMiddle(t,n,i),a=i.toString(),c=dr.parseExtensionString(a),u=[new D((n[0]+n[1])/2,e),new D(s,e)],h=new lt(a,null,0,u,fe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&h.putAllMetadata(c),h}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let u=0;u<2&&a<s;u++){let h=Re.decodeDigit(e,i,a,Re.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h%10);for(let g of i)a+=g;h>=10&&(c|=1<<1-u),u!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==2)throw new L;if(parseInt(n.toString())%4!==c)throw new L;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(e)]])}}class Fo{static decodeRow(e,t,n){let i=Re.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ot().decodeRow(e,t,i)}catch{return new dr().decodeRow(e,t,i)}}}Fo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ke extends Re{constructor(){super();this.decodeRowStringBuffer="",ke.L_AND_G_PATTERNS=ke.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=ke.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[t.length-i-1];ke.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let i=ke.findStartGuardPattern(t),s=n==null?null:n.get(_e.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Y=new D((i[0]+i[1])/2,e);s.foundPossibleResultPoint(Y)}let a=this.decodeMiddle(t,i,this.decodeRowStringBuffer),c=a.rowOffset,u=a.resultString;if(s!=null){const Y=new D(c,e);s.foundPossibleResultPoint(Y)}let h=ke.decodeEnd(t,c);if(s!=null){const Y=new D((h[0]+h[1])/2,e);s.foundPossibleResultPoint(Y)}let g=h[1],p=g+(g-h[0]);if(p>=t.getSize()||!t.isRange(g,p,!1))throw new L;let A=u.toString();if(A.length<8)throw new K;if(!ke.checkChecksum(A))throw new U;let E=(i[1]+i[0])/2,S=(h[1]+h[0])/2,_=this.getBarcodeFormat(),R=[new D(E,e),new D(S,e)],v=new lt(A,null,0,R,_,new Date().getTime()),j=0;try{let Y=Fo.decodeRow(e,t,h[1]);v.putMetadata(je.UPC_EAN_EXTENSION,Y.getText()),v.putAllMetadata(Y.getResultMetadata()),v.addResultPoints(Y.getResultPoints()),j=Y.getText().length}catch{}let Z=n==null?null:n.get(_e.ALLOWED_EAN_EXTENSIONS);if(Z!=null){let Y=!1;for(let Me in Z)if(j.toString()===Me){Y=!0;break}if(!Y)throw new L}return _===fe.EAN_13||_===fe.UPC_A,v}static checkChecksum(e){return ke.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return ke.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new K;n+=s}n*=3;for(let i=t-2;i>=0;i-=2){let s=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new K;n+=s}return(1e3-n)%10}static decodeEnd(e,t){return ke.findGuardPattern(e,t,!1,ke.START_END_PATTERN,new Int32Array(ke.START_END_PATTERN.length).fill(0))}}class jn extends ke{constructor(){super();this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1],c=0;for(let h=0;h<6&&a<s;h++){let g=ke.decodeDigit(e,i,a,ke.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let p of i)a+=p;g>=10&&(c|=1<<5-h)}n=jn.determineFirstDigit(n,c),a=ke.findGuardPattern(e,a,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<6&&a<s;h++){let g=ke.decodeDigit(e,i,a,ke.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let p of i)a+=p}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return fe.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e,e;throw new L}}jn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ko extends ke{constructor(){super();this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a=t[1];for(let u=0;u<4&&a<s;u++){let h=ke.decodeDigit(e,i,a,ke.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);for(let g of i)a+=g}a=ke.findGuardPattern(e,a,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&a<s;u++){let h=ke.decodeDigit(e,i,a,ke.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);for(let g of i)a+=g}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return fe.EAN_8}}class Cc extends ke{constructor(){super(...arguments);this.ean13Reader=new jn}getBarcodeFormat(){return fe.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new lt(t.substring(1),null,null,e.getResultPoints(),fe.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new L}reset(){this.ean13Reader.reset()}}class un extends ke{constructor(){super();this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters.map(u=>u);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const s=e.getSize();let a=t[1],c=0;for(let u=0;u<6&&a<s;u++){const h=un.decodeDigit(e,i,a,un.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h%10);for(let g of i)a+=g;h>=10&&(c|=1<<5-u)}return un.determineNumSysAndCheckDigit(new be(n),c),a}decodeEnd(e,t){return un.findGuardPatternWithoutCounters(e,t,!0,un.MIDDLE_END_PATTERN)}checkChecksum(e){return ke.checkChecksum(un.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let i=0;i<10;i++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][i]){e.insert(0,"0"+n),e.append("0"+i);return}throw L.getNotFoundInstance()}getBarcodeFormat(){return fe.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),n=new be;n.append(e.charAt(0));let i=t[5];switch(i){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(i),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(i);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class os extends qe{constructor(e){super();let t=e==null?null:e.get(_e.POSSIBLE_FORMATS),n=[];t!=null&&(t.indexOf(fe.EAN_13)>-1?n.push(new jn):t.indexOf(fe.UPC_A)>-1&&n.push(new Cc),t.indexOf(fe.EAN_8)>-1&&n.push(new ko),t.indexOf(fe.UPC_E)>-1&&n.push(new un)),n.length===0&&(n.push(new jn),n.push(new ko),n.push(new un)),this.readers=n}decodeRow(e,t,n){for(let i of this.readers)try{const s=i.decodeRow(e,t,n),a=s.getBarcodeFormat()===fe.EAN_13&&s.getText().charAt(0)==="0",c=n==null?null:n.get(_e.POSSIBLE_FORMATS),u=c==null||c.includes(fe.UPC_A);if(a&&u){const h=s.getRawBytes(),g=new lt(s.getText().substring(1),h,h.length,s.getResultPoints(),fe.UPC_A);return g.putAllMetadata(s.getResultMetadata()),g}return s}catch{}throw new L}reset(){for(let e of this.readers)e.reset()}}class Nt extends qe{constructor(){super();this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(qe.patternMatchVariance(e,t[n],Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return n;throw new L}static count(e){return H.sum(new Int32Array(e))}static increment(e,t){let n=0,i=t[0];for(let s=1;s<e.length;s++)t[s]>i&&(i=t[s],n=s);e[n]++}static decrement(e,t){let n=0,i=t[0];for(let s=1;s<e.length;s++)t[s]<i&&(i=t[s],n=s);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],i=t/n;if(i>=Nt.MIN_FINDER_PATTERN_RATIO&&i<=Nt.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of e)c>a&&(a=c),c<s&&(s=c);return a<10*s}return!1}}Nt.MAX_AVG_VARIANCE=.2,Nt.MAX_INDIVIDUAL_VARIANCE=.45,Nt.MIN_FINDER_PATTERN_RATIO=9.5/12,Nt.MAX_FINDER_PATTERN_RATIO=12.5/14;class gr{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof gr))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ci{constructor(e,t,n,i,s){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new D(n,s)),this.resultPoints.push(new D(i,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ci))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class wn{constructor(){}static getRSSvalue(e,t,n){let i=0;for(let u of e)i+=u;let s=0,a=0,c=e.length;for(let u=0;u<c-1;u++){let h;for(h=1,a|=1<<u;h<e[u];h++,a&=~(1<<u)){let g=wn.combins(i-h-1,c-u-2);if(n&&a===0&&i-h-(c-u-1)>=c-u-1&&(g-=wn.combins(i-h-(c-u),c-u-2)),c-u-1>1){let p=0;for(let A=i-h-(c-u-2);A>t;A--)p+=wn.combins(i-h-A-1,c-u-3);g-=p*(c-1-u)}else i-h>t&&g--;s+=g}i-=h}return s}static combins(e,t){let n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);let s=1,a=1;for(let c=e;c>n;c--)s*=c,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s}}class Ec{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,i=new me(n),s=0,c=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(c&1<<u)!=0&&i.set(s),s++;for(let u=1;u<e.length;++u){let h=e[u],g=h.getLeftChar().getValue();for(let p=11;p>=0;--p)(g&1<<p)!=0&&i.set(s),s++;if(h.getRightChar()!=null){let p=h.getRightChar().getValue();for(let A=11;A>=0;--A)(p&1<<A)!=0&&i.set(s),s++}}return i}}class Zn{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class as{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ht extends as{constructor(e,t){super(e);this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class Kn extends as{constructor(e,t,n){super(e);n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class en extends as{constructor(e,t,n){super(e);if(t<0||t>10||n<0||n>10)throw new K;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===en.FNC1}isSecondDigitFNC1(){return this.secondDigit===en.FNC1}isAnyFNC1(){return this.firstDigit===en.FNC1||this.secondDigit===en.FNC1}}en.FNC1=10;class ee{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new L;let t=e.substring(0,2);for(let s of ee.TWO_DIGIT_DATA_LENGTH)if(s[0]===t)return s[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(2,s[2],e):ee.processFixedAI(2,s[1],e);if(e.length<3)throw new L;let n=e.substring(0,3);for(let s of ee.THREE_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(3,s[2],e):ee.processFixedAI(3,s[1],e);for(let s of ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===n)return s[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,s[2],e):ee.processFixedAI(4,s[1],e);if(e.length<4)throw new L;let i=e.substring(0,4);for(let s of ee.FOUR_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,s[2],e):ee.processFixedAI(4,s[1],e);throw new L}static processFixedAI(e,t,n){if(n.length<e)throw new L;let i=n.substring(0,e);if(n.length<e+t)throw new L;let s=n.substring(e,e+t),a=n.substring(e+t),c="("+i+")"+s,u=ee.parseFieldsInGeneralPurpose(a);return u==null?c:c+u}static processVariableAI(e,t,n){let i=n.substring(0,e),s;n.length<e+t?s=n.length:s=e+t;let a=n.substring(e,s),c=n.substring(s),u="("+i+")"+a,h=ee.parseFieldsInGeneralPurpose(c);return h==null?u:u+h}}ee.VARIABLE_LENGTH=[],ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ee.VARIABLE_LENGTH,20],["22",ee.VARIABLE_LENGTH,29],["30",ee.VARIABLE_LENGTH,8],["37",ee.VARIABLE_LENGTH,8],["90",ee.VARIABLE_LENGTH,30],["91",ee.VARIABLE_LENGTH,30],["92",ee.VARIABLE_LENGTH,30],["93",ee.VARIABLE_LENGTH,30],["94",ee.VARIABLE_LENGTH,30],["95",ee.VARIABLE_LENGTH,30],["96",ee.VARIABLE_LENGTH,30],["97",ee.VARIABLE_LENGTH,3],["98",ee.VARIABLE_LENGTH,30],["99",ee.VARIABLE_LENGTH,30]],ee.THREE_DIGIT_DATA_LENGTH=[["240",ee.VARIABLE_LENGTH,30],["241",ee.VARIABLE_LENGTH,30],["242",ee.VARIABLE_LENGTH,6],["250",ee.VARIABLE_LENGTH,30],["251",ee.VARIABLE_LENGTH,30],["253",ee.VARIABLE_LENGTH,17],["254",ee.VARIABLE_LENGTH,20],["400",ee.VARIABLE_LENGTH,30],["401",ee.VARIABLE_LENGTH,30],["402",17],["403",ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ee.VARIABLE_LENGTH,20],["421",ee.VARIABLE_LENGTH,15],["422",3],["423",ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ee.VARIABLE_LENGTH,15],["391",ee.VARIABLE_LENGTH,18],["392",ee.VARIABLE_LENGTH,15],["393",ee.VARIABLE_LENGTH,18],["703",ee.VARIABLE_LENGTH,30]],ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ee.VARIABLE_LENGTH,20],["8003",ee.VARIABLE_LENGTH,30],["8004",ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ee.VARIABLE_LENGTH,30],["8008",ee.VARIABLE_LENGTH,12],["8018",18],["8020",ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ee.VARIABLE_LENGTH,70],["8200",ee.VARIABLE_LENGTH,70]];class xr{constructor(e){this.buffer=new be,this.information=e}decodeAllCodes(e,t){let n=t,i=null;do{let s=this.decodeGeneralPurposeField(n,i),a=ee.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new en(this.information.getSize(),en.FNC1,en.FNC1):new en(this.information.getSize(),s-1,en.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,i=(t-8)%11;return new en(e+7,n,i)}extractNumericValueFromBitArray(e,t){return xr.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let i=0;for(let s=0;s<n;++s)e.get(t+s)&&(i|=1<<n-s-1);return i}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Kn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Kn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Kn(this.current.getPosition(),this.buffer.toString()):t=new Kn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Zn(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Kn(this.current.getPosition(),this.buffer.toString());return new Zn(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kn(this.current.getPosition(),this.buffer.toString());return new Zn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kn(this.current.getPosition(),this.buffer.toString());return new Zn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ht(e+5,Ht.FNC1);if(t>=5&&t<15)return new Ht(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ht(e+7,""+(n+1));if(n>=90&&n<116)return new Ht(e+7,""+(n+7));let i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new K}return new Ht(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ht(e+5,Ht.FNC1);if(t>=5&&t<15)return new Ht(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ht(e+6,""+(n+33));let i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new O("Decoding invalid alphanumeric value: "+n)}return new Ht(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Uo{constructor(e){this.information=e,this.generalDecoder=new xr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends Uo{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let i=0;i<4;++i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*i,10);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s)}Wt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let i=0;i<13;i++){let s=e.charAt(i+t).charCodeAt(0)-"0".charCodeAt(0);n+=(i&1)==0?3*s:s}n=10-n%10,n===10&&(n=0),e.append(n)}}Wt.GTIN_SIZE=40;class wr extends Wt{constructor(e){super(e)}parseInformation(){let e=new be;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(wr.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,wr.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,wr.HEADER_SIZE+44)}}wr.HEADER_SIZE=1+1+2;class Ei extends Uo{constructor(e){super(e)}parseInformation(){let e=new be;return this.getGeneralDecoder().decodeAllCodes(e,Ei.HEADER_SIZE)}}Ei.HEADER_SIZE=2+1+2;class bi extends Wt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,i);let s=this.checkWeight(i),a=1e5;for(let c=0;c<5;++c)s/a==0&&e.append("0"),a/=10;e.append(s)}}class pn extends bi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=pn.HEADER_SIZE+bi.GTIN_SIZE+pn.WEIGHT_SIZE)throw new L;let e=new be;return this.encodeCompressedGtin(e,pn.HEADER_SIZE),this.encodeCompressedWeight(e,pn.HEADER_SIZE+bi.GTIN_SIZE,pn.WEIGHT_SIZE),e.toString()}}pn.HEADER_SIZE=4+1,pn.WEIGHT_SIZE=15;class bc extends pn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ic extends pn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class An extends Wt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Wt.GTIN_SIZE)throw new L;let e=new be;this.encodeCompressedGtin(e,An.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE,An.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}An.HEADER_SIZE=5+1+2,An.LAST_DIGIT_SIZE=2;class Lt extends Wt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Lt.HEADER_SIZE+Wt.GTIN_SIZE)throw new L;let e=new be;this.encodeCompressedGtin(e,Lt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Wt.GTIN_SIZE,Lt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Lt.HEADER_SIZE+Wt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE,Lt.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Lt.HEADER_SIZE+Wt.GTIN_SIZE+Lt.LAST_DIGIT_SIZE+Lt.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}Lt.HEADER_SIZE=5+1+2,Lt.LAST_DIGIT_SIZE=2,Lt.FIRST_THREE_DIGITS_SIZE=10;class ct extends bi{constructor(e,t,n){super(e);this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE+ct.DATE_SIZE)throw new L;let e=new be;return this.encodeCompressedGtin(e,ct.HEADER_SIZE),this.encodeCompressedWeight(e,ct.HEADER_SIZE+ct.GTIN_SIZE,ct.WEIGHT_SIZE),this.encodeCompressedDate(e,ct.HEADER_SIZE+ct.GTIN_SIZE+ct.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,ct.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=n%32;n/=32;let s=n%12+1;n/=12;let a=n;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}ct.HEADER_SIZE=7+1,ct.WEIGHT_SIZE=20,ct.DATE_SIZE=16;function yc(w){try{if(w.get(1))return new wr(w);if(!w.get(2))return new Ei(w);switch(xr.extractNumericValueFromBitArray(w,1,4)){case 4:return new bc(w);case 5:return new Ic(w)}switch(xr.extractNumericValueFromBitArray(w,1,5)){case 12:return new An(w);case 13:return new Lt(w)}switch(xr.extractNumericValueFromBitArray(w,1,7)){case 56:return new ct(w,"310","11");case 57:return new ct(w,"320","11");case 58:return new ct(w,"310","13");case 59:return new ct(w,"320","13");case 60:return new ct(w,"310","15");case 61:return new ct(w,"320","15");case 62:return new ct(w,"310","17");case 63:return new ct(w,"320","17")}}catch(e){throw console.log(e),new O("unknown decoder: "+w)}}class Pn{constructor(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Pn?Pn.equalsOrNull(e.leftchar,t.leftchar)&&Pn.equalsOrNull(e.rightchar,t.rightchar)&&Pn.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Pn.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ls{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof ls?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((i,s)=>{t.forEach(a=>{i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}}class W extends Nt{constructor(e){super(...arguments);this.pairs=new Array(W.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return W.constructResult(this.decodeRow2pairs(e,t))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,W.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(s){if(s instanceof L){if(!this.pairs.length)throw new L;n=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new L}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let i=this.rows[n];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(i.getPairs()),!W.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(i);try{return this.checkRows(s,n+1)}catch(a){this.verbose&&console.log(a)}}throw new L}static isValidSequence(e){for(let t of W.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=t[i]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,i=!1,s=!1;for(;n<this.rows.length;){let a=this.rows[n];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),n++}s||i||W.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new ls(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let i of n.getPairs())for(let s of e)if(Pn.equals(i,s))break}}static isPartialRow(e,t){for(let n of t){let i=!0;for(let s of e){let a=!1;for(let c of n.getPairs())if(s.equals(c)){a=!0;break}if(!a){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=Ec.buildBitArray(e),i=yc(t).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],a[0],a[1]];return new lt(i,null,null,c,fe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let i=n.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let u=this.pairs.get(c);i+=u.getLeftChar().getChecksumPortion(),s++;let h=u.getRightChar();h!=null&&(i+=h.getChecksumPortion(),s++)}return i%=211,211*(s-4)+i==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let i=t.length%2==0;this.startFromEven&&(i=!i);let s,a=!0,c=-1;do this.findNextPair(e,t,c),s=this.parseFoundFinderPattern(e,n,i),s==null?c=W.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let u=this.decodeDataCharacter(e,s,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new L;let h;try{h=this.decodeDataCharacter(e,s,i,!1)}catch(g){h=null,this.verbose&&console.log(g)}return new Pn(u,h,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=e.getSize(),a;n>=0?a=n:this.isEmptyPair(t)?a=0:a=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let u=!1;for(;a<s&&(u=!e.get(a),!!u);)a++;let h=0,g=a;for(let p=a;p<s;p++)if(e.get(p)!=u)i[h]++;else{if(h==3){if(c&&W.reverseCounters(i),W.isFinderPattern(i)){this.startEnd[0]=g,this.startEnd[1]=p;return}c&&W.reverseCounters(i),g+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,u=!u}throw new L}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let i=e[n];e[n]=e[t-n-1],e[t-n-1]=i}}parseFoundFinderPattern(e,t,n){let i,s,a;if(n){let h=this.startEnd[0]-1;for(;h>=0&&!e.get(h);)h--;h++,i=this.startEnd[0]-h,s=h,a=this.startEnd[1]}else s=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),i=a-this.startEnd[1];let c=this.getDecodeFinderCounters();J.arraycopy(c,0,c,1,c.length-1),c[0]=i;let u;try{u=this.parseFinderValue(c,W.FINDER_PATTERNS)}catch{return null}return new Ci(u,[s,a],s,a,t)}decodeDataCharacter(e,t,n,i){let s=this.getDataCharacterCounters();for(let Je=0;Je<s.length;Je++)s[Je]=0;if(i)W.recordPatternInReverse(e,t.getStartEnd()[0],s);else{W.recordPattern(e,t.getStartEnd()[1],s);for(let Je=0,Tt=s.length-1;Je<Tt;Je++,Tt--){let qt=s[Je];s[Je]=s[Tt],s[Tt]=qt}}let a=17,c=H.sum(new Int32Array(s))/a,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new L;let h=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Je=0;Je<s.length;Je++){let Tt=1*s[Je]/c,qt=Tt+.5;if(qt<1){if(Tt<.3)throw new L;qt=1}else if(qt>8){if(Tt>8.7)throw new L;qt=8}let Er=Je/2;(Je&1)==0?(h[Er]=qt,p[Er]=Tt-qt):(g[Er]=qt,A[Er]=Tt-qt)}this.adjustOddEvenCounts(a);let E=4*t.getValue()+(n?0:2)+(i?0:1)-1,S=0,_=0;for(let Je=h.length-1;Je>=0;Je--){if(W.isNotA1left(t,n,i)){let Tt=W.WEIGHTS[E][2*Je];_+=h[Je]*Tt}S+=h[Je]}let R=0;for(let Je=g.length-1;Je>=0;Je--)if(W.isNotA1left(t,n,i)){let Tt=W.WEIGHTS[E][2*Je+1];R+=g[Je]*Tt}let v=_+R;if((S&1)!=0||S>13||S<4)throw new L;let j=(13-S)/2,Z=W.SYMBOL_WIDEST[j],Y=9-Z,Me=wn.getRSSvalue(h,Z,!0),Ee=wn.getRSSvalue(g,Y,!1),Gt=W.EVEN_TOTAL_SUBSET[j],fn=W.GSUM[j],Yt=Me*Gt+Ee+fn;return new gr(Yt,v)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=H.sum(new Int32Array(this.getOddCounts())),n=H.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;t>13?s=!0:t<4&&(i=!0);let a=!1,c=!1;n>13?c=!0:n<4&&(a=!0);let u=t+n-e,h=(t&1)==1,g=(n&1)==0;if(u==1)if(h){if(g)throw new L;s=!0}else{if(!g)throw new L;c=!0}else if(u==-1)if(h){if(g)throw new L;i=!0}else{if(!g)throw new L;a=!0}else if(u==0){if(h){if(!g)throw new L;t<n?(i=!0,c=!0):(s=!0,a=!0)}else if(g)throw new L}else throw new L;if(i){if(s)throw new L;W.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&W.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new L;W.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&W.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}W.SYMBOL_WIDEST=[7,5,4,3,1],W.EVEN_TOTAL_SUBSET=[4,20,52,104,204],W.GSUM=[0,348,1388,2948,3988],W.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],W.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],W.FINDER_PAT_A=0,W.FINDER_PAT_B=1,W.FINDER_PAT_C=2,W.FINDER_PAT_D=3,W.FINDER_PAT_E=4,W.FINDER_PAT_F=5,W.FINDER_PATTERN_SEQUENCES=[[W.FINDER_PAT_A,W.FINDER_PAT_A],[W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B],[W.FINDER_PAT_A,W.FINDER_PAT_C,W.FINDER_PAT_B,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_C],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F]],W.MAX_PAIRS=11;class Tc extends gr{constructor(e,t,n){super(e,t);this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends Nt{constructor(){super(...arguments);this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const i=this.decodePair(t,!1,e,n);ht.addOrTally(this.possibleLeftPairs,i),t.reverse();let s=this.decodePair(t,!0,e,n);ht.addOrTally(this.possibleRightPairs,s),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&ht.checkChecksum(a,c))return ht.constructResult(a,c)}throw new L}static addOrTally(e,t){if(t==null)return;let n=!1;for(let i of e)if(i.getValue()===t.getValue()){i.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),i=new String(n).toString(),s=new be;for(let h=13-i.length;h>0;h--)s.append("0");s.append(i);let a=0;for(let h=0;h<13;h++){let g=s.charAt(h).charCodeAt(0)-"0".charCodeAt(0);a+=(h&1)==0?3*g:g}a=10-a%10,a===10&&(a=0),s.append(a.toString());let c=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new lt(s.toString(),null,0,[c[0],c[1],u[0],u[1]],fe.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i}decodePair(e,t,n,i){try{let s=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,s),c=i==null?null:i.get(_e.NEED_RESULT_POINT_CALLBACK);if(c!=null){let g=(s[0]+s[1])/2;t&&(g=e.getSize()-1-g),c.foundPossibleResultPoint(new D(g,n))}let u=this.decodeDataCharacter(e,a,!0),h=this.decodeDataCharacter(e,a,!1);return new Tc(1597*u.getValue()+h.getValue(),u.getChecksumPortion()+4*h.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,n){let i=this.getDataCharacterCounters();for(let R=0;R<i.length;R++)i[R]=0;if(n)qe.recordPatternInReverse(e,t.getStartEnd()[0],i);else{qe.recordPattern(e,t.getStartEnd()[1]+1,i);for(let R=0,v=i.length-1;R<v;R++,v--){let j=i[R];i[R]=i[v],i[v]=j}}let s=n?16:15,a=H.sum(new Int32Array(i))/s,c=this.getOddCounts(),u=this.getEvenCounts(),h=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(let R=0;R<i.length;R++){let v=i[R]/a,j=Math.floor(v+.5);j<1?j=1:j>8&&(j=8);let Z=Math.floor(R/2);(R&1)==0?(c[Z]=j,h[Z]=v-j):(u[Z]=j,g[Z]=v-j)}this.adjustOddEvenCounts(n,s);let p=0,A=0;for(let R=c.length-1;R>=0;R--)A*=9,A+=c[R],p+=c[R];let E=0,S=0;for(let R=u.length-1;R>=0;R--)E*=9,E+=u[R],S+=u[R];let _=A+3*E;if(n){if((p&1)!=0||p>12||p<4)throw new L;let R=(12-p)/2,v=ht.OUTSIDE_ODD_WIDEST[R],j=9-v,Z=wn.getRSSvalue(c,v,!1),Y=wn.getRSSvalue(u,j,!0),Me=ht.OUTSIDE_EVEN_TOTAL_SUBSET[R],Ee=ht.OUTSIDE_GSUM[R];return new gr(Z*Me+Y+Ee,_)}else{if((S&1)!=0||S>10||S<4)throw new L;let R=(10-S)/2,v=ht.INSIDE_ODD_WIDEST[R],j=9-v,Z=wn.getRSSvalue(c,v,!0),Y=wn.getRSSvalue(u,j,!1),Me=ht.INSIDE_ODD_TOTAL_SUBSET[R],Ee=ht.INSIDE_GSUM[R];return new gr(Y*Me+Z+Ee,_)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=!1,a=0;for(;a<i&&(s=!e.get(a),t!==s);)a++;let c=0,u=a;for(let h=a;h<i;h++)if(e.get(h)!==s)n[c]++;else{if(c===3){if(Nt.isFinderPattern(n))return[u,h];u+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new L}parseFoundFinderPattern(e,t,n,i){let s=e.get(i[0]),a=i[0]-1;for(;a>=0&&s!==e.get(a);)a--;a++;const c=i[0]-a,u=this.getDecodeFinderCounters(),h=new Int32Array(u.length);J.arraycopy(u,0,h,1,u.length-1),h[0]=c;const g=this.parseFinderValue(h,ht.FINDER_PATTERNS);let p=a,A=i[1];return n&&(p=e.getSize()-1-p,A=e.getSize()-1-A),new Ci(g,[a,i[1]],p,A,t)}adjustOddEvenCounts(e,t){let n=H.sum(new Int32Array(this.getOddCounts())),i=H.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,c=!1,u=!1;e?(n>12?a=!0:n<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(n>11?a=!0:n<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));let h=n+i-t,g=(n&1)==(e?1:0),p=(i&1)==1;if(h===1)if(g){if(p)throw new L;a=!0}else{if(!p)throw new L;u=!0}else if(h===-1)if(g){if(p)throw new L;s=!0}else{if(!p)throw new L;c=!0}else if(h===0){if(g){if(!p)throw new L;n<i?(s=!0,u=!0):(a=!0,c=!0)}else if(p)throw new L}else throw new L;if(s){if(a)throw new L;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new L;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pr extends qe{constructor(e,t){super();this.readers=[],this.verbose=t===!0;const n=e?e.get(_e.POSSIBLE_FORMATS):null,i=e&&e.get(_e.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n&&((n.includes(fe.EAN_13)||n.includes(fe.UPC_A)||n.includes(fe.EAN_8)||n.includes(fe.UPC_E))&&this.readers.push(new os(e)),n.includes(fe.CODE_39)&&this.readers.push(new st(i)),n.includes(fe.CODE_128)&&this.readers.push(new Q),n.includes(fe.ITF)&&this.readers.push(new Ge),n.includes(fe.RSS_14)&&this.readers.push(new ht),n.includes(fe.RSS_EXPANDED)&&this.readers.push(new W(this.verbose))),this.readers.length===0&&(this.readers.push(new os(e)),this.readers.push(new st),this.readers.push(new os(e)),this.readers.push(new Q),this.readers.push(new Ge),this.readers.push(new ht),this.readers.push(new W(this.verbose)))}decodeRow(e,t,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch{}throw new L}reset(){this.readers.forEach(e=>e.reset())}}class Sc extends Vt{constructor(e=500,t){super(new pr(t),e,t)}}class Ye{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ve{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(e,t,n,i,s,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;let c=0;const u=a.getECCodewords(),h=a.getECBlocks();for(let g of h)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!=0||(t&1)!=0)throw new K;for(let n of Be.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new K}toString(){return""+this.versionNumber}static buildVersions(){return[new Be(1,10,10,8,8,new Ye(5,new Ve(1,3))),new Be(2,12,12,10,10,new Ye(7,new Ve(1,5))),new Be(3,14,14,12,12,new Ye(10,new Ve(1,8))),new Be(4,16,16,14,14,new Ye(12,new Ve(1,12))),new Be(5,18,18,16,16,new Ye(14,new Ve(1,18))),new Be(6,20,20,18,18,new Ye(18,new Ve(1,22))),new Be(7,22,22,20,20,new Ye(20,new Ve(1,30))),new Be(8,24,24,22,22,new Ye(24,new Ve(1,36))),new Be(9,26,26,24,24,new Ye(28,new Ve(1,44))),new Be(10,32,32,14,14,new Ye(36,new Ve(1,62))),new Be(11,36,36,16,16,new Ye(42,new Ve(1,86))),new Be(12,40,40,18,18,new Ye(48,new Ve(1,114))),new Be(13,44,44,20,20,new Ye(56,new Ve(1,144))),new Be(14,48,48,22,22,new Ye(68,new Ve(1,174))),new Be(15,52,52,24,24,new Ye(42,new Ve(2,102))),new Be(16,64,64,14,14,new Ye(56,new Ve(2,140))),new Be(17,72,72,16,16,new Ye(36,new Ve(4,92))),new Be(18,80,80,18,18,new Ye(48,new Ve(4,114))),new Be(19,88,88,20,20,new Ye(56,new Ve(4,144))),new Be(20,96,96,22,22,new Ye(68,new Ve(4,174))),new Be(21,104,104,24,24,new Ye(56,new Ve(6,136))),new Be(22,120,120,18,18,new Ye(68,new Ve(6,175))),new Be(23,132,132,20,20,new Ye(62,new Ve(8,163))),new Be(24,144,144,22,22,new Ye(62,new Ve(8,156),new Ve(2,155))),new Be(25,8,18,6,16,new Ye(7,new Ve(1,5))),new Be(26,8,32,6,14,new Ye(11,new Ve(1,10))),new Be(27,12,26,10,24,new Ye(14,new Ve(1,16))),new Be(28,12,36,10,16,new Ye(18,new Ve(1,22))),new Be(29,16,36,14,16,new Ye(24,new Ve(1,32))),new Be(30,16,48,14,22,new Ye(28,new Ve(1,49)))]}}Be.VERSIONS=Be.buildVersions();class cs{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!=0)throw new K;this.version=cs.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new it(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return Be.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,i=0;const s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,u=!1,h=!1,g=!1;do if(n===s&&i===0&&!c)e[t++]=this.readCorner1(s,a)&255,n-=2,i+=2,c=!0;else if(n===s-2&&i===0&&(a&3)!=0&&!u)e[t++]=this.readCorner2(s,a)&255,n-=2,i+=2,u=!0;else if(n===s+4&&i===2&&(a&7)==0&&!h)e[t++]=this.readCorner3(s,a)&255,n-=2,i+=2,h=!0;else if(n===s-2&&i===0&&(a&7)==4&&!g)e[t++]=this.readCorner4(s,a)&255,n-=2,i+=2,g=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,s,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,s,a)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<a);if(t!==this.version.getTotalCodewords())throw new K;return e}readModule(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,i){let s=0;return this.readModule(e-2,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,t,n,i)&&(s|=1),s<<=1,this.readModule(e,t-2,n,i)&&(s|=1),s<<=1,this.readModule(e,t-1,n,i)&&(s|=1),s<<=1,this.readModule(e,t,n,i)&&(s|=1),s}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new N("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=t/i|0,c=n/s|0,u=a*i,h=c*s,g=new it(h,u);for(let p=0;p<a;++p){const A=p*i;for(let E=0;E<c;++E){const S=E*s;for(let _=0;_<i;++_){const R=p*(i+2)+1+_,v=A+_;for(let j=0;j<s;++j){const Z=E*(s+2)+1+j;if(e.get(Z,R)){const Y=S+j;g.set(Y,v)}}}}}return g}}class us{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let i=0;const s=n.getECBlocks();for(let _ of s)i+=_.getCount();const a=new Array(i);let c=0;for(let _ of s)for(let R=0;R<_.getCount();R++){const v=_.getDataCodewords(),j=n.getECCodewords()+v;a[c++]=new us(v,new Uint8Array(j))}const h=a[0].codewords.length-n.getECCodewords(),g=h-1;let p=0;for(let _=0;_<g;_++)for(let R=0;R<c;R++)a[R].codewords[_]=e[p++];const A=t.getVersionNumber()===24,E=A?8:c;for(let _=0;_<E;_++)a[_].codewords[h-1]=e[p++];const S=a[0].codewords.length;for(let _=h;_<S;_++)for(let R=0;R<c;R++){const v=A?(R+8)%c:R,j=A&&v>7?_-1:_;a[v].codewords[j]=e[p++]}if(p!==e.length)throw new N;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new N(""+e);let t=0,n=this.bitOffset,i=this.byteOffset;const s=this.bytes;if(n>0){const a=8-n,c=e<a?e:a,u=a-c,h=255>>8-c<<u;t=(s[i]&h)>>u,e-=c,n+=c,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|s[i]&255,i++,e-=8;if(e>0){const a=8-e,c=255>>a<<a;t=t<<e|(s[i]&c)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=i,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var At;(function(w){w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE"})(At||(At={}));class Ln{static decode(e){const t=new fs(e),n=new be,i=new be,s=new Array;let a=At.ASCII_ENCODE;do if(a===At.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,i);else{switch(a){case At.C40_ENCODE:this.decodeC40Segment(t,n);break;case At.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case At.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case At.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case At.BASE256_ENCODE:this.decodeBase256Segment(t,n,s);break;default:throw new K}a=At.ASCII_ENCODE}while(a!==At.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new xn(e,n.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,t,n){let i=!1;do{let s=e.readBits(8);if(s===0)throw new K;if(s<=128)return i&&(s+=128),t.append(String.fromCharCode(s-1)),At.ASCII_ENCODE;if(s===129)return At.PAD_ENCODE;if(s<=229){const a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return At.C40_ENCODE;case 231:return At.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return At.ANSIX12_ENCODE;case 239:return At.TEXT_ENCODE;case 240:return At.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new K;break}}while(e.available()>0);return At.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const i=[];let s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const h=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new K;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const h=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new K}s=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),s=0;break;default:throw new K}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,i=[],s=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(s){case 0:if(u<3)s=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const h=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else throw new K;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),s=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const h=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new K}s=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const h=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),n=!1):t.append(h),s=0}else throw new K;break;default:throw new K}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(let s=0;s<3;s++){const a=n[s];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new K;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let i=(e<<8)+t-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let i=e.readBits(6);if(i===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(i&32)==0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let i=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),i++);let a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new K;const c=new Uint8Array(a);for(let u=0;u<a;u++){if(e.available()<8)throw new K;c[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(c);try{t.append(et.decode(c,se.ISO88591))}catch(u){throw new O("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const n=149*t%255+1,i=e-n;return i>=0?i:i+256}}Ln.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ln.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ln.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ln.TEXT_SHIFT2_SET_CHARS=Ln.C40_SHIFT2_SET_CHARS,Ln.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class _c{constructor(){this.rsDecoder=new F(De.DATA_MATRIX_FIELD_256)}decode(e){const t=new cs(e),n=t.getVersion(),i=t.readCodewords(),s=us.getDataBlocks(i,n);let a=0;for(let h of s)a+=h.getNumDataCodewords();const c=new Uint8Array(a),u=s.length;for(let h=0;h<u;h++){const g=s[h],p=g.getCodewords(),A=g.getNumDataCodewords();this.correctErrors(p,A);for(let E=0;E<A;E++)c[E*u+h]=p[E]}return Ln.decode(c)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new U}for(let i=0;i<t;i++)e[i]=n[i]}}class pt{constructor(e){this.image=e,this.rectangleDetector=new ie(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new L;t=this.shiftToModuleCenter(t);const n=t[0],i=t[1],s=t[2],a=t[3];let c=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(s,a)+1;(c&1)==1&&(c+=1),(u&1)==1&&(u+=1),4*c<7*u&&4*u<7*c&&(c=u=Math.max(c,u));let h=pt.sampleGrid(this.image,n,i,s,a,c,u);return new q(h,[n,i,s,a])}static shiftPoint(e,t,n){let i=(t.getX()-e.getX())/(n+1),s=(t.getY()-e.getY())/(n+1);return new D(e.getX()+i,e.getY()+s)}static moveAway(e,t,n){let i=e.getX(),s=e.getY();return i<t?i-=1:i+=1,s<n?s-=1:s+=1,new D(i,s)}detectSolid1(e){let t=e[0],n=e[1],i=e[3],s=e[2],a=this.transitionsBetween(t,n),c=this.transitionsBetween(n,i),u=this.transitionsBetween(i,s),h=this.transitionsBetween(s,t),g=a,p=[s,t,n,i];return g>c&&(g=c,p[0]=t,p[1]=n,p[2]=i,p[3]=s),g>u&&(g=u,p[0]=n,p[1]=i,p[2]=s,p[3]=t),g>h&&(p[0]=i,p[1]=s,p[2]=t,p[3]=n),p}detectSolid2(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),c=pt.shiftPoint(n,i,(a+1)*4),u=pt.shiftPoint(i,n,(a+1)*4),h=this.transitionsBetween(c,t),g=this.transitionsBetween(u,s);return h<g?(e[0]=t,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s),c=this.transitionsBetween(n,s),u=pt.shiftPoint(t,n,(c+1)*4),h=pt.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,s),c=this.transitionsBetween(h,s);let g=new D(s.getX()+(i.getX()-n.getX())/(a+1),s.getY()+(i.getY()-n.getY())/(a+1)),p=new D(s.getX()+(t.getX()-n.getX())/(c+1),s.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(g))return this.isValid(p)?p:null;if(!this.isValid(p))return g;let A=this.transitionsBetween(u,g)+this.transitionsBetween(h,g),E=this.transitionsBetween(u,p)+this.transitionsBetween(h,p);return A>E?g:p}shiftToModuleCenter(e){let t=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(t,s)+1,c=this.transitionsBetween(i,s)+1,u=pt.shiftPoint(t,n,c*4),h=pt.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,s)+1,c=this.transitionsBetween(h,s)+1,(a&1)==1&&(a+=1),(c&1)==1&&(c+=1);let g=(t.getX()+n.getX()+i.getX()+s.getX())/4,p=(t.getY()+n.getY()+i.getY()+s.getY())/4;t=pt.moveAway(t,g,p),n=pt.moveAway(n,g,p),i=pt.moveAway(i,g,p),s=pt.moveAway(s,g,p);let A,E;return u=pt.shiftPoint(t,n,c*4),u=pt.shiftPoint(u,s,a*4),A=pt.shiftPoint(n,t,c*4),A=pt.shiftPoint(A,i,a*4),h=pt.shiftPoint(i,s,c*4),h=pt.shiftPoint(h,n,a*4),E=pt.shiftPoint(s,i,c*4),E=pt.shiftPoint(E,t,a*4),[u,A,h,E]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,i,s,a,c){return Ce.getInstance().sampleGrid(e,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,t.getX(),t.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(t.getX()),a=Math.trunc(t.getY()),c=Math.abs(a-i)>Math.abs(s-n);if(c){let _=n;n=i,i=_,_=s,s=a,a=_}let u=Math.abs(s-n),h=Math.abs(a-i),g=-u/2,p=i<a?1:-1,A=n<s?1:-1,E=0,S=this.image.get(c?i:n,c?n:i);for(let _=n,R=i;_!==s;_+=A){let v=this.image.get(c?R:_,c?_:R);if(v!==S&&(E++,S=v),g+=h,g>0){if(R===a)break;R+=p,g-=u}}return E}}class Fn{constructor(){this.decoder=new _c}decode(e,t=null){let n,i;if(t!=null&&t.has(_e.PURE_BARCODE)){const h=Fn.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(h),i=Fn.NO_POINTS}else{const h=new pt(e.getBlackMatrix()).detect();n=this.decoder.decode(h.getBits()),i=h.getPoints()}const s=n.getRawBytes(),a=new lt(n.getText(),s,8*s.length,i,fe.DATA_MATRIX,J.currentTimeMillis()),c=n.getByteSegments();c!=null&&a.putMetadata(je.BYTE_SEGMENTS,c);const u=n.getECLevel();return u!=null&&a.putMetadata(je.ERROR_CORRECTION_LEVEL,u),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new L;const i=this.moduleSize(t,e);let s=t[1];const a=n[1];let c=t[0];const h=(n[0]-c+1)/i,g=(a-s+1)/i;if(h<=0||g<=0)throw new L;const p=i/2;s+=p,c+=p;const A=new it(h,g);for(let E=0;E<g;E++){const S=s+E*i;for(let _=0;_<h;_++)e.get(c+_*i,S)&&A.set(_,E)}return A}static moduleSize(e,t){const n=t.getWidth();let i=e[0];const s=e[1];for(;i<n&&t.get(i,s);)i++;if(i===n)throw new L;const a=i-e[0];if(a===0)throw new L;return a}}Fn.NO_POINTS=[];class Oc extends Vt{constructor(e=500){super(new Fn,e)}}var Ar;(function(w){w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H"})(Ar||(Ar={}));class tt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,tt.FOR_BITS.set(n,this),tt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new y(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof tt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=tt.FOR_BITS.size)throw new N;return tt.FOR_BITS.get(e)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(Ar.L,"L",1),tt.M=new tt(Ar.M,"M",0),tt.Q=new tt(Ar.Q,"Q",3),tt.H=new tt(Ar.H,"H",2);class Rt{constructor(e){this.errorCorrectionLevel=tt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return ge.bitCount(e^t)}static decodeFormatInformation(e,t){const n=Rt.doDecodeFormatInformation(e,t);return n!==null?n:Rt.doDecodeFormatInformation(e^Rt.FORMAT_INFO_MASK_QR,t^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,i=0;for(const s of Rt.FORMAT_INFO_DECODE_LOOKUP){const a=s[0];if(a===e||a===t)return new Rt(s[1]);let c=Rt.numBitsDiffering(e,a);c<n&&(i=s[1],n=c),e!==t&&(c=Rt.numBitsDiffering(t,a),c<n&&(i=s[1],n=c))}return n<=3?new Rt(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Rt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class M{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class C{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ce{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let i=0;const s=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(const c of a)i+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new K;try{return this.getVersionForNumber((e-17)/4)}catch{throw new K}}static getVersionForNumber(e){if(e<1||e>40)throw new N;return ce.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let i=0;i<ce.VERSION_DECODE_INFO.length;i++){const s=ce.VERSION_DECODE_INFO[i];if(s===e)return ce.getVersionForNumber(i+7);const a=Rt.numBitsDiffering(e,s);a<t&&(n=i+7,t=a)}return t<=3?ce.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new it(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let i=0;i<n;i++){const s=this.alignmentPatternCenters[i]-2;for(let a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ce.VERSIONS=[new ce(1,new Int32Array(0),new M(7,new C(1,19)),new M(10,new C(1,16)),new M(13,new C(1,13)),new M(17,new C(1,9))),new ce(2,Int32Array.from([6,18]),new M(10,new C(1,34)),new M(16,new C(1,28)),new M(22,new C(1,22)),new M(28,new C(1,16))),new ce(3,Int32Array.from([6,22]),new M(15,new C(1,55)),new M(26,new C(1,44)),new M(18,new C(2,17)),new M(22,new C(2,13))),new ce(4,Int32Array.from([6,26]),new M(20,new C(1,80)),new M(18,new C(2,32)),new M(26,new C(2,24)),new M(16,new C(4,9))),new ce(5,Int32Array.from([6,30]),new M(26,new C(1,108)),new M(24,new C(2,43)),new M(18,new C(2,15),new C(2,16)),new M(22,new C(2,11),new C(2,12))),new ce(6,Int32Array.from([6,34]),new M(18,new C(2,68)),new M(16,new C(4,27)),new M(24,new C(4,19)),new M(28,new C(4,15))),new ce(7,Int32Array.from([6,22,38]),new M(20,new C(2,78)),new M(18,new C(4,31)),new M(18,new C(2,14),new C(4,15)),new M(26,new C(4,13),new C(1,14))),new ce(8,Int32Array.from([6,24,42]),new M(24,new C(2,97)),new M(22,new C(2,38),new C(2,39)),new M(22,new C(4,18),new C(2,19)),new M(26,new C(4,14),new C(2,15))),new ce(9,Int32Array.from([6,26,46]),new M(30,new C(2,116)),new M(22,new C(3,36),new C(2,37)),new M(20,new C(4,16),new C(4,17)),new M(24,new C(4,12),new C(4,13))),new ce(10,Int32Array.from([6,28,50]),new M(18,new C(2,68),new C(2,69)),new M(26,new C(4,43),new C(1,44)),new M(24,new C(6,19),new C(2,20)),new M(28,new C(6,15),new C(2,16))),new ce(11,Int32Array.from([6,30,54]),new M(20,new C(4,81)),new M(30,new C(1,50),new C(4,51)),new M(28,new C(4,22),new C(4,23)),new M(24,new C(3,12),new C(8,13))),new ce(12,Int32Array.from([6,32,58]),new M(24,new C(2,92),new C(2,93)),new M(22,new C(6,36),new C(2,37)),new M(26,new C(4,20),new C(6,21)),new M(28,new C(7,14),new C(4,15))),new ce(13,Int32Array.from([6,34,62]),new M(26,new C(4,107)),new M(22,new C(8,37),new C(1,38)),new M(24,new C(8,20),new C(4,21)),new M(22,new C(12,11),new C(4,12))),new ce(14,Int32Array.from([6,26,46,66]),new M(30,new C(3,115),new C(1,116)),new M(24,new C(4,40),new C(5,41)),new M(20,new C(11,16),new C(5,17)),new M(24,new C(11,12),new C(5,13))),new ce(15,Int32Array.from([6,26,48,70]),new M(22,new C(5,87),new C(1,88)),new M(24,new C(5,41),new C(5,42)),new M(30,new C(5,24),new C(7,25)),new M(24,new C(11,12),new C(7,13))),new ce(16,Int32Array.from([6,26,50,74]),new M(24,new C(5,98),new C(1,99)),new M(28,new C(7,45),new C(3,46)),new M(24,new C(15,19),new C(2,20)),new M(30,new C(3,15),new C(13,16))),new ce(17,Int32Array.from([6,30,54,78]),new M(28,new C(1,107),new C(5,108)),new M(28,new C(10,46),new C(1,47)),new M(28,new C(1,22),new C(15,23)),new M(28,new C(2,14),new C(17,15))),new ce(18,Int32Array.from([6,30,56,82]),new M(30,new C(5,120),new C(1,121)),new M(26,new C(9,43),new C(4,44)),new M(28,new C(17,22),new C(1,23)),new M(28,new C(2,14),new C(19,15))),new ce(19,Int32Array.from([6,30,58,86]),new M(28,new C(3,113),new C(4,114)),new M(26,new C(3,44),new C(11,45)),new M(26,new C(17,21),new C(4,22)),new M(26,new C(9,13),new C(16,14))),new ce(20,Int32Array.from([6,34,62,90]),new M(28,new C(3,107),new C(5,108)),new M(26,new C(3,41),new C(13,42)),new M(30,new C(15,24),new C(5,25)),new M(28,new C(15,15),new C(10,16))),new ce(21,Int32Array.from([6,28,50,72,94]),new M(28,new C(4,116),new C(4,117)),new M(26,new C(17,42)),new M(28,new C(17,22),new C(6,23)),new M(30,new C(19,16),new C(6,17))),new ce(22,Int32Array.from([6,26,50,74,98]),new M(28,new C(2,111),new C(7,112)),new M(28,new C(17,46)),new M(30,new C(7,24),new C(16,25)),new M(24,new C(34,13))),new ce(23,Int32Array.from([6,30,54,78,102]),new M(30,new C(4,121),new C(5,122)),new M(28,new C(4,47),new C(14,48)),new M(30,new C(11,24),new C(14,25)),new M(30,new C(16,15),new C(14,16))),new ce(24,Int32Array.from([6,28,54,80,106]),new M(30,new C(6,117),new C(4,118)),new M(28,new C(6,45),new C(14,46)),new M(30,new C(11,24),new C(16,25)),new M(30,new C(30,16),new C(2,17))),new ce(25,Int32Array.from([6,32,58,84,110]),new M(26,new C(8,106),new C(4,107)),new M(28,new C(8,47),new C(13,48)),new M(30,new C(7,24),new C(22,25)),new M(30,new C(22,15),new C(13,16))),new ce(26,Int32Array.from([6,30,58,86,114]),new M(28,new C(10,114),new C(2,115)),new M(28,new C(19,46),new C(4,47)),new M(28,new C(28,22),new C(6,23)),new M(30,new C(33,16),new C(4,17))),new ce(27,Int32Array.from([6,34,62,90,118]),new M(30,new C(8,122),new C(4,123)),new M(28,new C(22,45),new C(3,46)),new M(30,new C(8,23),new C(26,24)),new M(30,new C(12,15),new C(28,16))),new ce(28,Int32Array.from([6,26,50,74,98,122]),new M(30,new C(3,117),new C(10,118)),new M(28,new C(3,45),new C(23,46)),new M(30,new C(4,24),new C(31,25)),new M(30,new C(11,15),new C(31,16))),new ce(29,Int32Array.from([6,30,54,78,102,126]),new M(30,new C(7,116),new C(7,117)),new M(28,new C(21,45),new C(7,46)),new M(30,new C(1,23),new C(37,24)),new M(30,new C(19,15),new C(26,16))),new ce(30,Int32Array.from([6,26,52,78,104,130]),new M(30,new C(5,115),new C(10,116)),new M(28,new C(19,47),new C(10,48)),new M(30,new C(15,24),new C(25,25)),new M(30,new C(23,15),new C(25,16))),new ce(31,Int32Array.from([6,30,56,82,108,134]),new M(30,new C(13,115),new C(3,116)),new M(28,new C(2,46),new C(29,47)),new M(30,new C(42,24),new C(1,25)),new M(30,new C(23,15),new C(28,16))),new ce(32,Int32Array.from([6,34,60,86,112,138]),new M(30,new C(17,115)),new M(28,new C(10,46),new C(23,47)),new M(30,new C(10,24),new C(35,25)),new M(30,new C(19,15),new C(35,16))),new ce(33,Int32Array.from([6,30,58,86,114,142]),new M(30,new C(17,115),new C(1,116)),new M(28,new C(14,46),new C(21,47)),new M(30,new C(29,24),new C(19,25)),new M(30,new C(11,15),new C(46,16))),new ce(34,Int32Array.from([6,34,62,90,118,146]),new M(30,new C(13,115),new C(6,116)),new M(28,new C(14,46),new C(23,47)),new M(30,new C(44,24),new C(7,25)),new M(30,new C(59,16),new C(1,17))),new ce(35,Int32Array.from([6,30,54,78,102,126,150]),new M(30,new C(12,121),new C(7,122)),new M(28,new C(12,47),new C(26,48)),new M(30,new C(39,24),new C(14,25)),new M(30,new C(22,15),new C(41,16))),new ce(36,Int32Array.from([6,24,50,76,102,128,154]),new M(30,new C(6,121),new C(14,122)),new M(28,new C(6,47),new C(34,48)),new M(30,new C(46,24),new C(10,25)),new M(30,new C(2,15),new C(64,16))),new ce(37,Int32Array.from([6,28,54,80,106,132,158]),new M(30,new C(17,122),new C(4,123)),new M(28,new C(29,46),new C(14,47)),new M(30,new C(49,24),new C(10,25)),new M(30,new C(24,15),new C(46,16))),new ce(38,Int32Array.from([6,32,58,84,110,136,162]),new M(30,new C(4,122),new C(18,123)),new M(28,new C(13,46),new C(32,47)),new M(30,new C(48,24),new C(14,25)),new M(30,new C(42,15),new C(32,16))),new ce(39,Int32Array.from([6,26,54,82,110,138,166]),new M(30,new C(20,117),new C(4,118)),new M(28,new C(40,47),new C(7,48)),new M(30,new C(43,24),new C(22,25)),new M(30,new C(10,15),new C(67,16))),new ce(40,Int32Array.from([6,30,58,86,114,142,170]),new M(30,new C(19,118),new C(6,119)),new M(28,new C(18,47),new C(31,48)),new M(30,new C(34,24),new C(34,25)),new M(30,new C(20,15),new C(61,16)))];var Et;(function(w){w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111"})(Et||(Et={}));class tn{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)}}tn.values=new Map([[Et.DATA_MASK_000,new tn(Et.DATA_MASK_000,(w,e)=>(w+e&1)==0)],[Et.DATA_MASK_001,new tn(Et.DATA_MASK_001,(w,e)=>(w&1)==0)],[Et.DATA_MASK_010,new tn(Et.DATA_MASK_010,(w,e)=>e%3==0)],[Et.DATA_MASK_011,new tn(Et.DATA_MASK_011,(w,e)=>(w+e)%3==0)],[Et.DATA_MASK_100,new tn(Et.DATA_MASK_100,(w,e)=>(Math.floor(w/2)+Math.floor(e/3)&1)==0)],[Et.DATA_MASK_101,new tn(Et.DATA_MASK_101,(w,e)=>w*e%6==0)],[Et.DATA_MASK_110,new tn(Et.DATA_MASK_110,(w,e)=>w*e%6<3)],[Et.DATA_MASK_111,new tn(Et.DATA_MASK_111,(w,e)=>(w+e+w*e%3&1)==0)]]);class Nc{constructor(e){const t=e.getHeight();if(t<21||(t&3)!=1)throw new K;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const t=this.bitMatrix.getHeight();let n=0;const i=t-7;for(let s=t-1;s>=i;s--)n=this.copyBit(8,s,n);for(let s=t-8;s<t;s++)n=this.copyBit(s,8,n);if(this.parsedFormatInfo=Rt.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new K}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ce.getVersionForNumber(t);let n=0;const i=e-11;for(let a=5;a>=0;a--)for(let c=e-9;c>=i;c--)n=this.copyBit(c,a,n);let s=ce.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(let a=5;a>=0;a--)for(let c=e-9;c>=i;c--)n=this.copyBit(a,c,n);if(s=ce.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new K}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=tn.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);const s=t.buildFunctionPattern();let a=!0;const c=new Uint8Array(t.getTotalCodewords());let u=0,h=0,g=0;for(let p=i-1;p>0;p-=2){p===6&&p--;for(let A=0;A<i;A++){const E=a?i-1-A:A;for(let S=0;S<2;S++)s.get(p-S,E)||(g++,h<<=1,this.bitMatrix.get(p-S,E)&&(h|=1),g===8&&(c[u++]=h,g=0,h=0))}a=!a}if(u!==t.getTotalCodewords())throw new K;return c}remask(){if(this.parsedFormatInfo===null)return;const e=tn.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let i=t+1,s=e.getHeight();i<s;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))}}class hs{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new N;const i=t.getECBlocksForLevel(n);let s=0;const a=i.getECBlocks();for(const S of a)s+=S.getCount();const c=new Array(s);let u=0;for(const S of a)for(let _=0;_<S.getCount();_++){const R=S.getDataCodewords(),v=i.getECCodewordsPerBlock()+R;c[u++]=new hs(R,new Uint8Array(v))}const h=c[0].codewords.length;let g=c.length-1;for(;g>=0&&c[g].codewords.length!==h;)g--;g++;const p=h-i.getECCodewordsPerBlock();let A=0;for(let S=0;S<p;S++)for(let _=0;_<u;_++)c[_].codewords[S]=e[A++];for(let S=g;S<u;S++)c[S].codewords[p]=e[A++];const E=c[0].codewords.length;for(let S=p;S<E;S++)for(let _=0;_<u;_++){const R=_<g?S:S+1;c[_].codewords[R]=e[A++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var nn;(function(w){w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI"})(nn||(nn={}));class he{constructor(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,he.FOR_BITS.set(i,this),he.FOR_VALUE.set(e,this)}static forBits(e){const t=he.FOR_BITS.get(e);if(t===void 0)throw new N;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof he))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he(nn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he(nn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he(nn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he(nn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he(nn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he(nn.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he(nn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he(nn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he(nn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he(nn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ut{static decode(e,t,n,i){const s=new fs(e);let a=new be;const c=new Array;let u=-1,h=-1;try{let g=null,p=!1,A;do{if(s.available()<4)A=he.TERMINATOR;else{const E=s.readBits(4);A=he.forBits(E)}switch(A){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:p=!0;break;case he.STRUCTURED_APPEND:if(s.available()<16)throw new K;u=s.readBits(8),h=s.readBits(8);break;case he.ECI:const E=ut.parseECIValue(s);if(g=X.getCharacterSetECIByValue(E),g===null)throw new K;break;case he.HANZI:const S=s.readBits(4),_=s.readBits(A.getCharacterCountBits(t));S===ut.GB2312_SUBSET&&ut.decodeHanziSegment(s,a,_);break;default:const R=s.readBits(A.getCharacterCountBits(t));switch(A){case he.NUMERIC:ut.decodeNumericSegment(s,a,R);break;case he.ALPHANUMERIC:ut.decodeAlphanumericSegment(s,a,R,p);break;case he.BYTE:ut.decodeByteSegment(s,a,R,g,c,i);break;case he.KANJI:ut.decodeKanjiSegment(s,a,R);break;default:throw new K}break}}while(A!==he.TERMINATOR)}catch{throw new K}return new xn(e,a.toString(),c.length===0?null:c,n===null?null:n.toString(),u,h)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new K;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,i[s]=c>>8&255,i[s+1]=c&255,s+=2,n--}try{t.append(et.decode(i,se.GB2312))}catch(a){throw new K(a)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new K;const i=new Uint8Array(2*n);let s=0;for(;n>0;){const a=e.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,i[s]=c>>8,i[s+1]=c,s+=2,n--}try{t.append(et.decode(i,se.SHIFT_JIS))}catch(a){throw new K(a)}}static decodeByteSegment(e,t,n,i,s,a){if(8*n>e.available())throw new K;const c=new Uint8Array(n);for(let h=0;h<n;h++)c[h]=e.readBits(8);let u;i===null?u=se.guessEncoding(c,a):u=i.getName();try{t.append(et.decode(c,u))}catch(h){throw new K(h)}s.push(c)}static toAlphaNumericChar(e){if(e>=ut.ALPHANUMERIC_CHARS.length)throw new K;return ut.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,i){const s=t.length();for(;n>1;){if(e.available()<11)throw new K;const a=e.readBits(11);t.append(ut.toAlphaNumericChar(Math.floor(a/45))),t.append(ut.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new K;t.append(ut.toAlphaNumericChar(e.readBits(6)))}if(i)for(let a=s;a<t.length();a++)t.charAt(a)==="%"&&(a<t.length()-1&&t.charAt(a+1)==="%"?t.deleteCharAt(a+1):t.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new K;const i=e.readBits(10);if(i>=1e3)throw new K;t.append(ut.toAlphaNumericChar(Math.floor(i/100))),t.append(ut.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(ut.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new K;const i=e.readBits(7);if(i>=100)throw new K;t.append(ut.toAlphaNumericChar(Math.floor(i/10))),t.append(ut.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new K;const i=e.readBits(4);if(i>=10)throw new K;t.append(ut.toAlphaNumericChar(i))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)==0)return t&127;if((t&192)==128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)==192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new K}}ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ut.GB2312_SUBSET=1;class Vo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Rc{constructor(){this.rsDecoder=new F(De.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(it.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Nc(e);let i=null;try{return this.decodeBitMatrixParser(n,t)}catch(s){i=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const s=this.decodeBitMatrixParser(n,t);return s.setOther(new Vo(!0)),s}catch(s){throw i!==null?i:s}}decodeBitMatrixParser(e,t){const n=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),a=hs.getDataBlocks(s,n,i);let c=0;for(const g of a)c+=g.getNumDataCodewords();const u=new Uint8Array(c);let h=0;for(const g of a){const p=g.getCodewords(),A=g.getNumDataCodewords();this.correctErrors(p,A);for(let E=0;E<A;E++)u[h++]=p[E]}return ut.decode(u,n,i,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new U}for(let i=0;i<t;i++)e[i]=n[i]}}class ds extends D{constructor(e,t,n){super(e,t);this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=(this.getX()+t)/2,s=(this.getY()+e)/2,a=(this.estimatedModuleSize+n)/2;return new ds(i,s,a)}}class Ii{constructor(e,t,n,i,s,a,c){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,i=e+n,s=this.startY+t/2,a=new Int32Array(3),c=this.image;for(let u=0;u<t;u++){const h=s+((u&1)==0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;let g=e;for(;g<i&&!c.get(g,h);)g++;let p=0;for(;g<i;){if(c.get(g,h))if(p===1)a[1]++;else if(p===2){if(this.foundPatternCross(a)){const A=this.handlePossibleCenter(a,h,g);if(A!==null)return A}a[0]=a[2],a[1]=1,a[2]=0,p=1}else a[++p]++;else p===1&&p++,a[p]++;g++}if(this.foundPatternCross(a)){const A=this.handlePossibleCenter(a,h,i);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0}crossCheckVertical(e,t,n,i){const s=this.image,a=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let u=e;for(;u>=0&&s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&!s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u)&&c[1]<=n;)c[1]++,u++;if(u===a||c[1]>n)return NaN;for(;u<a&&!s.get(t,u)&&c[2]<=n;)c[2]++,u++;if(c[2]>n)return NaN;const h=c[0]+c[1]+c[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(c)?Ii.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n){const i=e[0]+e[1]+e[2],s=Ii.centerFromEnd(e,n),a=this.crossCheckVertical(t,s,2*e[1],i);if(!isNaN(a)){const c=(e[0]+e[1]+e[2])/3;for(const h of this.possibleCenters)if(h.aboutEquals(c,a,s))return h.combineEstimate(a,s,c);const u=new ds(s,a,c);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class gs extends D{constructor(e,t,n,i){super(e,t);this.estimatedModuleSize=n,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=this.count+1,s=(this.count*this.getX()+t)/i,a=(this.count*this.getY()+e)/i,c=(this.count*this.estimatedModuleSize+n)/i;return new gs(s,a,c,i)}}class Mc{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class bt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(_e.TRY_HARDER)!==void 0,n=e!=null&&e.get(_e.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth();let c=Math.floor(3*s/(4*bt.MAX_MODULES));(c<bt.MIN_SKIP||t)&&(c=bt.MIN_SKIP);let u=!1;const h=new Int32Array(5);for(let p=c-1;p<s&&!u;p+=c){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;let A=0;for(let E=0;E<a;E++)if(i.get(E,p))(A&1)==1&&A++,h[A]++;else if((A&1)==0)if(A===4)if(bt.foundPatternCross(h)){if(this.handlePossibleCenter(h,p,E,n)===!0)if(c=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const _=this.findRowSkip();_>h[2]&&(p+=_-h[2]-c,E=a-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,A=3;continue}A=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,A=3;else h[++A]++;else h[A]++;bt.foundPatternCross(h)&&this.handlePossibleCenter(h,p,a,n)===!0&&(c=h[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const g=this.selectBestPatterns();return D.orderBestPatterns(g),new Mc(g)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let s=0;s<5;s++){const a=e[s];if(a===0)return!1;t+=a}if(t<7)return!1;const n=t/7,i=n/2;return Math.abs(n-e[0])<i&&Math.abs(n-e[1])<i&&Math.abs(3*n-e[2])<3*i&&Math.abs(n-e[3])<i&&Math.abs(n-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,i){const s=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;e>=a&&t>=a&&c.get(t-a,e-a);)s[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!c.get(t-a,e-a)&&s[1]<=n;)s[1]++,a++;if(e<a||t<a||s[1]>n)return!1;for(;e>=a&&t>=a&&c.get(t-a,e-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;const u=c.getHeight(),h=c.getWidth();for(a=1;e+a<u&&t+a<h&&c.get(t+a,e+a);)s[2]++,a++;if(e+a>=u||t+a>=h)return!1;for(;e+a<u&&t+a<h&&!c.get(t+a,e+a)&&s[3]<n;)s[3]++,a++;if(e+a>=u||t+a>=h||s[3]>=n)return!1;for(;e+a<u&&t+a<h&&c.get(t+a,e+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;const g=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(g-i)<2*i&&bt.foundPatternCross(s)}crossCheckVertical(e,t,n,i){const s=this.image,a=s.getHeight(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(t,u);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(t,u);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(t,u)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(t,u)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-i)>=2*i?NaN:bt.foundPatternCross(c)?bt.centerFromEnd(c,u):NaN}crossCheckHorizontal(e,t,n,i){const s=this.image,a=s.getWidth(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&s.get(u,t);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,t)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&s.get(u,t)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<a&&s.get(u,t);)c[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(u,t)&&c[3]<n;)c[3]++,u++;if(u===a||c[3]>=n)return NaN;for(;u<a&&s.get(u,t)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const h=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(h-i)>=i?NaN:bt.foundPatternCross(c)?bt.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n,i){const s=e[0]+e[1]+e[2]+e[3]+e[4];let a=bt.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(a),e[2],s);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),e[2],s)))){const u=s/7;let h=!1;const g=this.possibleCenters;for(let p=0,A=g.length;p<A;p++){const E=g[p];if(E.aboutEquals(u,c,a)){g[p]=E.combineEstimate(c,a,u),h=!0;break}}if(!h){const p=new gs(a,c,u);g.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=bt.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=bt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const i=t/n;let s=0;for(const a of this.possibleCenters)s+=Math.abs(a.getEstimatedModuleSize()-i);return s<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new L;const t=this.possibleCenters;let n;if(e>3){let i=0,s=0;for(const u of this.possibleCenters){const h=u.getEstimatedModuleSize();i+=h,s+=h*h}n=i/e;let a=Math.sqrt(s/e-n*n);t.sort((u,h)=>{const g=Math.abs(h.getEstimatedModuleSize()-n),p=Math.abs(u.getEstimatedModuleSize()-n);return g<p?-1:g>p?1:0});const c=Math.max(.2*n,a);for(let u=0;u<t.length&&t.length>3;u++){const h=t[u];Math.abs(h.getEstimatedModuleSize()-n)>c&&(t.splice(u,1),u--)}}if(t.length>3){let i=0;for(const s of t)i+=s.getEstimatedModuleSize();n=i/t.length,t.sort((s,a)=>{if(a.getCount()===s.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-n),u=Math.abs(s.getEstimatedModuleSize()-n);return c<u?1:c>u?-1:0}else return a.getCount()-s.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}bt.CENTER_QUORUM=2,bt.MIN_SKIP=3,bt.MAX_MODULES=57;class Gr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(_e.NEED_RESULT_POINT_CALLBACK);const n=new bt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(t,n,i);if(s<1)throw new L("No pattern found in proccess finder.");const a=Gr.computeDimension(t,n,i,s),c=ce.getProvisionalVersionForDimension(a),u=c.getDimensionForVersion()-7;let h=null;if(c.getAlignmentPatternCenters().length>0){const E=n.getX()-t.getX()+i.getX(),S=n.getY()-t.getY()+i.getY(),_=1-3/u,R=Math.floor(t.getX()+_*(E-t.getX())),v=Math.floor(t.getY()+_*(S-t.getY()));for(let j=4;j<=16;j<<=1)try{h=this.findAlignmentInRegion(s,R,v,j);break}catch(Z){if(!(Z instanceof L))throw Z}}const g=Gr.createTransform(t,n,i,h,a),p=Gr.sampleGrid(this.image,g,a);let A;return h===null?A=[i,t,n]:A=[i,t,n,h],new q(p,A)}static createTransform(e,t,n,i,s){const a=s-3.5;let c,u,h,g;return i!==null?(c=i.getX(),u=i.getY(),h=a-3,g=h):(c=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),h=a,g=a),ne.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,h,g,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),c,u,n.getX(),n.getY())}static sampleGrid(e,t,n){return Ce.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,i){const s=H.round(D.distance(e,t)/i),a=H.round(D.distance(e,n)/i);let c=Math.floor((s+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new L("Dimensions could be not found.")}return c}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,i){let s=this.sizeOfBlackWhiteBlackRun(e,t,n,i),a=1,c=e-(n-e);c<0?(a=e/(e-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let u=Math.floor(t-(i-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),c=Math.floor(e+(c-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,t,c,u),s-1}sizeOfBlackWhiteBlackRun(e,t,n,i){const s=Math.abs(i-t)>Math.abs(n-e);if(s){let E=e;e=t,t=E,E=n,n=i,i=E}const a=Math.abs(n-e),c=Math.abs(i-t);let u=-a/2;const h=e<n?1:-1,g=t<i?1:-1;let p=0;const A=n+h;for(let E=e,S=t;E!==A;E+=h){const _=s?S:E,R=s?E:S;if(p===1===this.image.get(_,R)){if(p===2)return H.distance(E,S,e,t);p++}if(u+=c,u>0){if(S===i)break;S+=g,u-=a}}return p===2?H.distance(n+h,i,e,t):NaN}findAlignmentInRegion(e,t,n,i){const s=Math.floor(i*e),a=Math.max(0,t-s),c=Math.min(this.image.getWidth()-1,t+s);if(c-a<e*3)throw new L("Alignment top exceeds estimated module size.");const u=Math.max(0,n-s),h=Math.min(this.image.getHeight()-1,n+s);if(h-u<e*3)throw new L("Alignment bottom exceeds estimated module size.");return new Ii(this.image,a,u,c-a,h-u,e,this.resultPointCallback).find()}}class kn{constructor(){this.decoder=new Rc}getDecoder(){return this.decoder}decode(e,t){let n,i;if(t!=null&&t.get(_e.PURE_BARCODE)!==void 0){const u=kn.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(u,t),i=kn.NO_POINTS}else{const u=new Gr(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(u.getBits(),t),i=u.getPoints()}n.getOther()instanceof Vo&&n.getOther().applyMirroredCorrection(i);const s=new lt(n.getText(),n.getRawBytes(),void 0,i,fe.QR_CODE,void 0),a=n.getByteSegments();a!==null&&s.putMetadata(je.BYTE_SEGMENTS,a);const c=n.getECLevel();return c!==null&&s.putMetadata(je.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(je.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new L;const i=this.moduleSize(t,e);let s=t[1],a=n[1],c=t[0],u=n[0];if(c>=u||s>=a)throw new L;if(a-s!=u-c&&(u=c+(a-s),u>=e.getWidth()))throw new L;const h=Math.round((u-c+1)/i),g=Math.round((a-s+1)/i);if(h<=0||g<=0)throw new L;if(g!==h)throw new L;const p=Math.floor(i/2);s+=p,c+=p;const A=c+Math.floor((h-1)*i)-u;if(A>0){if(A>p)throw new L;c-=A}const E=s+Math.floor((g-1)*i)-a;if(E>0){if(E>p)throw new L;s-=E}const S=new it(h,g);for(let _=0;_<g;_++){const R=s+Math.floor(_*i);for(let v=0;v<h;v++)e.get(c+Math.floor(v*i),R)&&S.set(v,_)}return S}static moduleSize(e,t){const n=t.getHeight(),i=t.getWidth();let s=e[0],a=e[1],c=!0,u=0;for(;s<i&&a<n;){if(c!==t.get(s,a)){if(++u==5)break;c=!c}s++,a++}if(s===i||a===n)throw new L;return(s-e[0])/7}}kn.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(e){return H.sum(e)}static toIntArray(e){if(e==null||!e.length)return we.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const i of e)t[n++]=i;return t}static getCodeword(e){const t=le.binarySearch(we.SYMBOL_TABLE,e&262143);return t<0?-1:(we.CODEWORD_TABLE[t]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Dc{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(e,t,n){let i=e.getBlackMatrix(),s=ye.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=ye.detect(n,i)),new Dc(i,s)}static detect(e,t){const n=new Array;let i=0,s=0,a=!1;for(;i<t.getHeight();){const c=ye.findVertices(t,i,s);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,s=0;for(const u of n)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=ye.ROW_STEP;continue}if(a=!0,n.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),i=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY()))}return n}static findVertices(e,t,n){const i=e.getHeight(),s=e.getWidth(),a=new Array(8);return ye.copyToResult(a,ye.findRowsWithPattern(e,i,s,t,n,ye.START_PATTERN),ye.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),ye.copyToResult(a,ye.findRowsWithPattern(e,i,s,t,n,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let i=0;i<n.length;i++)e[n[i]]=t[i]}static findRowsWithPattern(e,t,n,i,s,a){const c=new Array(4);let u=!1;const h=new Int32Array(a.length);for(;i<t;i+=ye.ROW_STEP){let p=ye.findGuardPattern(e,s,i,n,!1,a,h);if(p!=null){for(;i>0;){const A=ye.findGuardPattern(e,s,--i,n,!1,a,h);if(A!=null)p=A;else{i++;break}}c[0]=new D(p[0],i),c[1]=new D(p[1],i),u=!0;break}}let g=i+1;if(u){let p=0,A=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;g<t;g++){const E=ye.findGuardPattern(e,A[0],g,n,!1,a,h);if(E!=null&&Math.abs(A[0]-E[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(A[1]-E[1])<ye.MAX_PATTERN_DRIFT)A=E,p=0;else{if(p>ye.SKIPPED_ROW_COUNT_MAX)break;p++}}g-=p+1,c[2]=new D(A[0],g),c[3]=new D(A[1],g)}return g-i<ye.BARCODE_MIN_HEIGHT&&le.fill(c,null),c}static findGuardPattern(e,t,n,i,s,a,c){le.fillWithin(c,0,c.length,0);let u=t,h=0;for(;e.get(u,n)&&u>0&&h++<ye.MAX_PIXEL_DRIFT;)u--;let g=u,p=0,A=a.length;for(let E=s;g<i;g++)if(e.get(g,n)!==E)c[p]++;else{if(p===A-1){if(ye.patternMatchVariance(c,a,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([u,g]);u+=c[0]+c[1],J.arraycopy(c,2,c,0,p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,E=!E}return p===A-1&&ye.patternMatchVariance(c,a,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([u,g-1]):null}static patternMatchVariance(e,t,n){let i=e.length,s=0,a=0;for(let h=0;h<i;h++)s+=e[h],a+=t[h];if(s<a)return 1/0;let c=s/a;n*=c;let u=0;for(let h=0;h<i;h++){let g=e[h],p=t[h]*c,A=g>p?g-p:p-g;if(A>n)return 1/0;u+=A}return u/s}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class It{constructor(e,t){if(t.length===0)throw new N;this.field=e;let n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),J.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let s of this.coefficients)i=this.field.add(i,s);return i}let t=this.coefficients[0],n=this.coefficients.length;for(let i=1;i<n;i++)t=this.field.add(this.field.multiply(e,t),this.coefficients[i]);return t}add(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let a=t;t=n,n=a}let i=new Int32Array(n.length),s=n.length-t.length;J.arraycopy(n,0,i,0,s);for(let a=s;a<n.length;a++)i[a]=this.field.add(t[a-s],n[a]);return new It(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof It?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new It(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1);for(let c=0;c<n;c++){let u=t[c];for(let h=0;h<s;h++)a[c+h]=this.field.add(a[c+h],this.field.multiply(u,i[h]))}return new It(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new It(this.field,t)}multiplyScalar(e){if(e===0)return new It(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new It(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new N;if(t===0)return new It(this.field,new Int32Array([0]));let n=this.coefficients.length,i=new Int32Array(n+e);for(let s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new It(this.field,i)}toString(){let e=new be;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Bc{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new N;return this.logTable[e]}inverse(e){if(e===0)throw new vn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class xs extends Bc{constructor(e,t){super();this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let i=0;i<e;i++)this.expTable[i]=n,n=n*t%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new It(this,new Int32Array([0])),this.one=new It(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new N;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new It(this,n)}}xs.PDF417_GF=new xs(we.NUMBER_OF_CODEWORDS,3);class Ho{constructor(){this.field=xs.PDF417_GF}decode(e,t,n){let i=new It(this.field,e),s=new Int32Array(t),a=!1;for(let S=t;S>0;S--){let _=i.evaluateAt(this.field.exp(S));s[t-S]=_,_!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(n!=null)for(const S of n){let _=this.field.exp(e.length-1-S),R=new It(this.field,new Int32Array([this.field.subtract(0,_),1]));c=c.multiply(R)}let u=new It(this.field,s),h=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),g=h[0],p=h[1],A=this.findErrorLocations(g),E=this.findErrorMagnitudes(p,g,A);for(let S=0;S<A.length;S++){let _=e.length-1-this.field.log(A[S]);if(_<0)throw U.getChecksumInstance();e[_]=this.field.subtract(e[_],E[S])}return A.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let A=e;e=t,t=A}let i=e,s=t,a=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(n/2);){let A=i,E=a;if(i=s,a=c,i.isZero())throw U.getChecksumInstance();s=A;let S=this.field.getZero(),_=i.getCoefficient(i.getDegree()),R=this.field.inverse(_);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){let v=s.getDegree()-i.getDegree(),j=this.field.multiply(s.getCoefficient(s.getDegree()),R);S=S.add(this.field.buildMonomial(v,j)),s=s.subtract(i.multiplyByMonomial(v,j))}c=S.multiply(a).subtract(E).negative()}let u=c.getCoefficient(0);if(u===0)throw U.getChecksumInstance();let h=this.field.inverse(u),g=c.multiply(h),p=s.multiply(h);return[g,p]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),i=0;for(let s=1;s<this.field.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==t)throw U.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let i=t.getDegree(),s=new Int32Array(i);for(let h=1;h<=i;h++)s[i-h]=this.field.multiply(h,t.getCoefficient(h));let a=new It(this.field,s),c=n.length,u=new Int32Array(c);for(let h=0;h<c;h++){let g=this.field.inverse(n[h]),p=this.field.subtract(0,e.evaluateAt(g)),A=this.field.inverse(a.evaluateAt(g));u[h]=this.field.multiply(p,A)}return u}}class qn{constructor(e,t,n,i,s){e instanceof qn?this.constructor_2(e):this.constructor_1(e,t,n,i,s)}constructor_1(e,t,n,i,s){const a=t==null||n==null,c=i==null||s==null;if(a&&c)throw new L;a?(t=new D(0,i.getY()),n=new D(0,s.getY())):c&&(i=new D(e.getWidth()-1,t.getY()),s=new D(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new qn(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let i=this.topLeft,s=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(e>0){let u=n?this.topLeft:this.topRight,h=Math.trunc(u.getY()-e);h<0&&(h=0);let g=new D(u.getX(),h);n?i=g:a=g}if(t>0){let u=n?this.bottomLeft:this.bottomRight,h=Math.trunc(u.getY()+t);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);let g=new D(u.getX(),h);n?s=g:c=g}return new qn(this.image,i,s,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class vc{constructor(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yr{constructor(){this.buffer=""}static form(e,t){let n=-1;function i(a,c,u,h,g,p){if(a==="%%")return"%";if(t[++n]===void 0)return;a=h?parseInt(h.substr(1)):void 0;let A=g?parseInt(g.substr(1)):void 0,E;switch(p){case"s":E=t[n];break;case"c":E=t[n][0];break;case"f":E=parseFloat(t[n]).toFixed(a);break;case"p":E=parseFloat(t[n]).toPrecision(a);break;case"e":E=parseFloat(t[n]).toExponential(a);break;case"x":E=parseInt(t[n]).toString(A||16);break;case"d":E=parseFloat(parseInt(t[n],A||10).toPrecision(a)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(A);let S=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";for(;E.length<S;)E=c!==void 0?E+_:_+E;return E}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)}format(e,...t){this.buffer+=Yr.form(e,t)}toString(){return this.buffer}}class zr{constructor(e){this.boundingBox=new qn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<zr.MAX_NEARBY_DISTANCE;n++){let i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yr;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}zr.MAX_NEARBY_DISTANCE=5;class jr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,i]of this.values.entries()){const s={getKey:()=>n,getValue:()=>i};s.getValue()>e?(e=s.getValue(),t=[],t.push(s.getKey())):s.getValue()===e&&t.push(s.getKey())}return we.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Wo extends zr{constructor(e,t){super(e);this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,h=1,g=0;for(let p=a;p<c;p++){if(t[p]==null)continue;let A=t[p],E=A.getRowNumber()-u;if(E===0)g++;else if(E===1)h=Math.max(h,g),g=1,u=A.getRowNumber();else if(E<0||A.getRowNumber()>=e.getRowCount()||E>p)t[p]=null;else{let S;h>2?S=(h-2)*E:S=E;let _=S>=p;for(let R=1;R<=S&&!_;R++)_=t[p-R]!=null;_?t[p]=null:(u=A.getRowNumber(),g=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let i=n.getRowNumber();if(i>=t.length)continue;t[i]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),i=this._isLeft?t.getBottomLeft():t.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1;for(let h=s;h<a;h++){if(c[h]==null)continue;let g=c[h];g.setRowNumberAsRowIndicatorColumn();let p=g.getRowNumber()-u;p===0||(p===1?u=g.getRowNumber():g.getRowNumber()>=e.getRowCount()?c[h]=null:u=g.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new jr,n=new jr,i=new jr,s=new jr;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let u=c.getValue()%30,h=c.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:n.setValue(u*3+1);break;case 1:s.setValue(u/3),i.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||n.getValue().length===0||i.getValue().length===0||s.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+i.getValue()[0]<we.MIN_ROWS_IN_BARCODE||n.getValue()[0]+i.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let a=new vc(t.getValue()[0],n.getValue()[0],i.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let i=e[n];if(e[n]==null)continue;let s=i.getValue()%30,a=i.getRowNumber();if(a>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(s/3)!==t.getErrorCorrectionLevel()||s%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:s+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Zr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=we.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),s=0;for(let a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=Zr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),s=0;for(let a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[n];c!=null&&(s=Zr.adjustRowNumberIfValid(i,s,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){let i=n[t],s=this.detectionResultColumns[e-1].getCodewords(),a=s;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=s[t],c[3]=a[t],t>0&&(c[0]=n[t-1],c[4]=s[t-1],c[5]=a[t-1]),t>1&&(c[8]=n[t-2],c[10]=s[t-2],c[11]=a[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=s[t+1],c[7]=a[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=s[t+2],c[13]=a[t+2]);for(let u of c)if(Zr.adjustRowNumber(i,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Yr;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}let s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){t.format("    |   ");continue}t.format(" %3d|%3d",s.getRowNumber(),s.getValue())}t.format("%n")}return t.toString()}}class Kr{constructor(e,t,n,i){this.rowNumber=Kr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Kr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Kr.BARCODE_ROW_UNKNOWN=-1;class Xt{static initialize(){for(let e=0;e<we.SYMBOL_TABLE.length;e++){let t=we.SYMBOL_TABLE[e],n=t&1;for(let i=0;i<we.BARS_IN_MODULE;i++){let s=0;for(;(t&1)===n;)s+=1,t>>=1;n=t&1,Xt.RATIOS_TABLE[e]||(Xt.RATIOS_TABLE[e]=new Array(we.BARS_IN_MODULE)),Xt.RATIOS_TABLE[e][we.BARS_IN_MODULE-i-1]=Math.fround(s/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Xt.getDecodedCodewordValue(Xt.sampleBitCounts(e));return t!==-1?t:Xt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=H.sum(e),n=new Int32Array(we.BARS_IN_MODULE),i=0,s=0;for(let a=0;a<we.MODULES_IN_CODEWORD;a++){let c=t/(2*we.MODULES_IN_CODEWORD)+a*t/we.MODULES_IN_CODEWORD;s+e[i]<=c&&(s+=e[i],i++),n[i]++}return n}static getDecodedCodewordValue(e){let t=Xt.getBitValue(e);return we.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n];i++)t=t<<1|(n%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=H.sum(e),n=new Array(we.BARS_IN_MODULE);if(t>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);let i=$.MAX_VALUE,s=-1;this.bSymbolTableReady||Xt.initialize();for(let a=0;a<Xt.RATIOS_TABLE.length;a++){let c=0,u=Xt.RATIOS_TABLE[a];for(let h=0;h<we.BARS_IN_MODULE;h++){let g=Math.fround(u[h]-n[h]);if(c+=Math.fround(g*g),c>=i)break}c<i&&(i=c,s=we.SYMBOL_TABLE[a])}return s}}Xt.bSymbolTableReady=!1,Xt.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(w=>new Array(we.BARS_IN_MODULE));class Xo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Go{static parseLong(e,t=void 0){return parseInt(e,t)}}class Yo extends I{}Yo.kind="NullPointerException";class Pc{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new Yo;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Oe;if(n===0)return;for(let i=0;i<n;i++)this.write(e[t+i])}flush(){}close(){}}class Lc extends I{}class Fc extends Pc{constructor(e=32){super();if(this.count=0,e<0)throw new N("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Lc;n=ge.MAX_VALUE}this.buf=le.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new Oe;this.ensureCapacity(this.count+n),J.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return le.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ze;(function(w){w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ze||(Ze={}));function zo(){if(typeof window!="undefined")return window.BigInt||null;if(typeof ci!="undefined")return ci.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let yi;function Un(w){if(typeof yi=="undefined"&&(yi=zo()),yi===null)throw new Error("BigInt is not supported!");return yi(w)}function kc(){let w=[];w[0]=Un(1);let e=Un(900);w[1]=e;for(let t=2;t<16;t++)w[t]=w[t-1]*e;return w}class B{static decode(e,t){let n=new be(""),i=X.ISO8859_1;n.enableDecoding(i);let s=1,a=e[s++],c=new Xo;for(;s<e[0];){switch(a){case B.TEXT_COMPACTION_MODE_LATCH:s=B.textCompaction(e,s,n);break;case B.BYTE_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH_6:s=B.byteCompaction(a,e,i,s,n);break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case B.NUMERIC_COMPACTION_MODE_LATCH:s=B.numericCompaction(e,s,n);break;case B.ECI_CHARSET:X.getCharacterSetECIByValue(e[s++]);break;case B.ECI_GENERAL_PURPOSE:s+=2;break;case B.ECI_USER_DEFINED:s++;break;case B.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=B.decodeMacroBlock(e,s,c);break;case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case B.MACRO_PDF417_TERMINATOR:throw new K;default:s--,s=B.textCompaction(e,s,n);break}if(s<e.length)a=e[s++];else throw K.getFormatInstance()}if(n.length()===0)throw K.getFormatInstance();let u=new xn(null,n.toString(),null,t);return u.setOther(c),u}static decodeMacroBlock(e,t,n){if(t+B.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw K.getFormatInstance();let i=new Int32Array(B.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<B.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)i[c]=e[t];n.setSegmentIndex(ge.parseInt(B.decodeBase900toBase10(i,B.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new be;t=B.textCompaction(e,t,s),n.setFileId(s.toString());let a=-1;for(e[t]===B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case B.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new be;t=B.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case B.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new be;t=B.textCompaction(e,t+1,u),n.setSender(u.toString());break;case B.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let h=new be;t=B.textCompaction(e,t+1,h),n.setAddressee(h.toString());break;case B.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let g=new be;t=B.numericCompaction(e,t+1,g),n.setSegmentCount(ge.parseInt(g.toString()));break;case B.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let p=new be;t=B.numericCompaction(e,t+1,p),n.setTimestamp(Go.parseLong(p.toString()));break;case B.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new be;t=B.numericCompaction(e,t+1,A),n.setChecksum(ge.parseInt(A.toString()));break;case B.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let E=new be;t=B.numericCompaction(e,t+1,E),n.setFileSize(Go.parseLong(E.toString()));break;default:throw K.getFormatInstance()}break;case B.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw K.getFormatInstance()}if(a!==-1){let c=t-a;n.isLastSegment()&&c--,n.setOptionalData(le.copyOfRange(e,a,a+c))}return t}static textCompaction(e,t,n){let i=new Int32Array((e[0]-t)*2),s=new Int32Array((e[0]-t)*2),a=0,c=!1;for(;t<e[0]&&!c;){let u=e[t++];if(u<B.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case B.TEXT_COMPACTION_MODE_LATCH:i[a++]=B.TEXT_COMPACTION_MODE_LATCH;break;case B.BYTE_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH_6:case B.NUMERIC_COMPACTION_MODE_LATCH:case B.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case B.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],s[a]=u,a++;break}}return B.decodeTextCompaction(i,s,a,n),t}static decodeTextCompaction(e,t,n,i){let s=Ze.ALPHA,a=Ze.ALPHA,c=0;for(;c<n;){let u=e[c],h="";switch(s){case Ze.ALPHA:if(u<26)h=String.fromCharCode(65+u);else switch(u){case 26:h=" ";break;case B.LL:s=Ze.LOWER;break;case B.ML:s=Ze.MIXED;break;case B.PS:a=s,s=Ze.PUNCT_SHIFT;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break;case Ze.LOWER:if(u<26)h=String.fromCharCode(97+u);else switch(u){case 26:h=" ";break;case B.AS:a=s,s=Ze.ALPHA_SHIFT;break;case B.ML:s=Ze.MIXED;break;case B.PS:a=s,s=Ze.PUNCT_SHIFT;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break;case Ze.MIXED:if(u<B.PL)h=B.MIXED_CHARS[u];else switch(u){case B.PL:s=Ze.PUNCT;break;case 26:h=" ";break;case B.LL:s=Ze.LOWER;break;case B.AL:s=Ze.ALPHA;break;case B.PS:a=s,s=Ze.PUNCT_SHIFT;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break;case Ze.PUNCT:if(u<B.PAL)h=B.PUNCT_CHARS[u];else switch(u){case B.PAL:s=Ze.ALPHA;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break;case Ze.ALPHA_SHIFT:if(s=a,u<26)h=String.fromCharCode(65+u);else switch(u){case 26:h=" ";break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break;case Ze.PUNCT_SHIFT:if(s=a,u<B.PAL)h=B.PUNCT_CHARS[u];else switch(u){case B.PAL:s=Ze.ALPHA;break;case B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case B.TEXT_COMPACTION_MODE_LATCH:s=Ze.ALPHA;break}break}h!==""&&i.append(h),c++}}static byteCompaction(e,t,n,i,s){let a=new Fc,c=0,u=0,h=!1;switch(e){case B.BYTE_COMPACTION_MODE_LATCH:let g=new Int32Array(6),p=t[i++];for(;i<t[0]&&!h;)switch(g[c++]=p,u=900*u+p,p=t[i++],p){case B.TEXT_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH:case B.NUMERIC_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH_6:case B.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case B.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(c%5==0&&c>0){for(let A=0;A<6;++A)a.write(Number(Un(u)>>Un(8*(5-A))));u=0,c=0}break}i===t[0]&&p<B.TEXT_COMPACTION_MODE_LATCH&&(g[c++]=p);for(let A=0;A<c;A++)a.write(g[A]);break;case B.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){let A=t[i++];if(A<B.TEXT_COMPACTION_MODE_LATCH)c++,u=900*u+A;else switch(A){case B.TEXT_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH:case B.NUMERIC_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH_6:case B.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case B.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(c%5==0&&c>0){for(let E=0;E<6;++E)a.write(Number(Un(u)>>Un(8*(5-E))));u=0,c=0}}break}return s.append(et.decode(a.toByteArray(),n)),i}static numericCompaction(e,t,n){let i=0,s=!1,a=new Int32Array(B.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!s;){let c=e[t++];if(t===e[0]&&(s=!0),c<B.TEXT_COMPACTION_MODE_LATCH)a[i]=c,i++;else switch(c){case B.TEXT_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH:case B.BYTE_COMPACTION_MODE_LATCH_6:case B.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case B.MACRO_PDF417_TERMINATOR:t--,s=!0;break}(i%B.MAX_NUMERIC_CODEWORDS==0||c===B.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(B.decodeBase900toBase10(a,i)),i=0)}return t}static decodeBase900toBase10(e,t){let n=Un(0);for(let s=0;s<t;s++)n+=B.EXP900[t-s-1]*Un(e[s]);let i=n.toString();if(i.charAt(0)!=="1")throw new K;return i.substring(1)}}B.TEXT_COMPACTION_MODE_LATCH=900,B.BYTE_COMPACTION_MODE_LATCH=901,B.NUMERIC_COMPACTION_MODE_LATCH=902,B.BYTE_COMPACTION_MODE_LATCH_6=924,B.ECI_USER_DEFINED=925,B.ECI_GENERAL_PURPOSE=926,B.ECI_CHARSET=927,B.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,B.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,B.MACRO_PDF417_TERMINATOR=922,B.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,B.MAX_NUMERIC_CODEWORDS=15,B.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,B.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,B.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,B.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,B.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,B.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,B.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,B.PL=25,B.LL=27,B.AS=27,B.ML=28,B.AL=28,B.PS=29,B.PAL=29,B.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,B.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",B.EXP900=zo()?kc():[],B.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Te{constructor(){}static decode(e,t,n,i,s,a,c){let u=new qn(e,t,n,i,s),h=null,g=null,p;for(let S=!0;;S=!1){if(t!=null&&(h=Te.getRowIndicatorColumn(e,u,t,!0,a,c)),i!=null&&(g=Te.getRowIndicatorColumn(e,u,i,!1,a,c)),p=Te.merge(h,g),p==null)throw L.getNotFoundInstance();let _=p.getBoundingBox();if(S&&_!=null&&(_.getMinY()<u.getMinY()||_.getMaxY()>u.getMaxY()))u=_;else break}p.setBoundingBox(u);let A=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,h),p.setDetectionResultColumn(A,g);let E=h!=null;for(let S=1;S<=A;S++){let _=E?S:A-S;if(p.getDetectionResultColumn(_)!==void 0)continue;let R;_===0||_===A?R=new Wo(u,_===0):R=new zr(u),p.setDetectionResultColumn(_,R);let v=-1,j=v;for(let Z=u.getMinY();Z<=u.getMaxY();Z++){if(v=Te.getStartColumn(p,_,Z,E),v<0||v>u.getMaxX()){if(j===-1)continue;v=j}let Y=Te.detectCodeword(e,u.getMinX(),u.getMaxX(),E,v,Z,a,c);Y!=null&&(R.setCodeword(Z,Y),j=v,a=Math.min(a,Y.getWidth()),c=Math.max(c,Y.getWidth()))}}return Te.createDecoderResult(p)}static merge(e,t){if(e==null&&t==null)return null;let n=Te.getBarcodeMetadata(e,t);if(n==null)return null;let i=qn.merge(Te.adjustBoundingBox(e),Te.adjustBoundingBox(t));return new Zr(n,i)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=Te.getMax(t),i=0;for(let c of t)if(i+=n-c,c>0)break;let s=e.getCodewords();for(let c=0;i>0&&s[c]==null;c++)i--;let a=0;for(let c=t.length-1;c>=0&&(a+=n-t[c],!(t[c]>0));c--);for(let c=s.length-1;a>0&&s[c]==null;c--)a--;return e.getBoundingBox().addMissingRows(i,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,i,s,a){let c=new Wo(t,i);for(let u=0;u<2;u++){let h=u===0?1:-1,g=Math.trunc(Math.trunc(n.getX()));for(let p=Math.trunc(Math.trunc(n.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=h){let A=Te.detectCodeword(e,0,e.getWidth(),i,g,p,s,a);A!=null&&(c.setCodeword(p,A),i?g=A.getStartX():g=A.getEndX())}}return c}static adjustCodewordCount(e,t){let n=t[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Te.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>we.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)}static createDecoderResult(e){let t=Te.createBarcodeMatrix(e);Te.adjustCodewordCount(e,t);let n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let h=0;h<e.getBarcodeColumnCount();h++){let g=t[u][h+1].getValue(),p=u*e.getBarcodeColumnCount()+h;g.length===0?n.push(p):g.length===1?i[p]=g[0]:(a.push(p),s.push(g))}let c=new Array(s.length);for(let u=0;u<c.length;u++)c[u]=s[u];return Te.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,we.toIntArray(n),we.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(e,t,n,i,s){let a=new Int32Array(i.length),c=100;for(;c-- >0;){for(let u=0;u<a.length;u++)t[i[u]]=s[u][a[u]];try{return Te.decodeCodewords(t,e,n)}catch(u){if(!(u instanceof U))throw u}if(a.length===0)throw U.getChecksumInstance();for(let u=0;u<a.length;u++)if(a[u]<s[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++)t[i][s]=new jr;let n=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let s of i.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=0){if(a>=t.length)continue;t[a][n].setValue(s.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,i){let s=i?1:-1,a=null;if(Te.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodeword(n)),a!=null)return i?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),a!=null)return i?a.getStartX():a.getEndX();if(Te.isValidBarcodeColumn(e,t-s)&&(a=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),a!=null)return i?a.getEndX():a.getStartX();let c=0;for(;Te.isValidBarcodeColumn(e,t-s);){t-=s;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+s*c*(u.getEndX()-u.getStartX());c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,i,s,a,c,u){s=Te.adjustCodewordStartColumn(e,t,n,i,s,a);let h=Te.getModuleBitCount(e,t,n,i,s,a);if(h==null)return null;let g,p=H.sum(h);if(i)g=s+p;else{for(let S=0;S<h.length/2;S++){let _=h[S];h[S]=h[h.length-1-S],h[h.length-1-S]=_}g=s,s=g-p}if(!Te.checkCodewordSkew(p,c,u))return null;let A=Xt.getDecodedValue(h),E=we.getCodeword(A);return E===-1?null:new Kr(s,g,Te.getCodewordBucketNumber(A),E)}static getModuleBitCount(e,t,n,i,s,a){let c=s,u=new Int32Array(8),h=0,g=i?1:-1,p=i;for(;(i?c<n:c>=t)&&h<u.length;)e.get(c,a)===p?(u[h]++,c+=g):(h++,p=!p);return h===u.length||c===(i?n:t)&&h===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,i,s,a){let c=s,u=i?-1:1;for(let h=0;h<2;h++){for(;(i?c>=t:c<n)&&i===e.get(c,a);){if(Math.abs(s-c)>Te.CODEWORD_SKEW_SIZE)return s;c+=u}u=-u,i=!i}return c}static checkCodewordSkew(e,t,n){return t-Te.CODEWORD_SKEW_SIZE<=e&&e<=n+Te.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw K.getFormatInstance();let i=1<<t+1,s=Te.correctErrors(e,n,i);Te.verifyCodewordCount(e,i);let a=B.decode(e,""+t);return a.setErrorsCorrected(s),a.setErasures(n.length),a}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+Te.MAX_ERRORS||n<0||n>Te.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return Te.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw K.getFormatInstance();let n=e[0];if(n>e.length)throw K.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw K.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,i=t.length-1;for(;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Te.getCodewordBucketNumber(Te.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Yr;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let i=0;i<e[n].length;i++){let s=e[n][i];s.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}t.format("%n")}return t.toString()}}Te.CODEWORD_SKEW_SIZE=2,Te.MAX_ERRORS=3,Te.MAX_EC_CODEWORDS=512,Te.errorCorrection=new Ho;class yt{decode(e,t=null){let n=yt.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw L.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return yt.decode(e,t,!0)}catch(n){throw n instanceof K||n instanceof U?L.getNotFoundInstance():n}}static decode(e,t,n){const i=new Array,s=ye.detectMultiple(e,t,n);for(const a of s.getPoints()){const c=Te.decode(s.getBits(),a[4],a[5],a[6],a[7],yt.getMinCodewordWidth(a),yt.getMaxCodewordWidth(a)),u=new lt(c.getText(),c.getRawBytes(),void 0,a,fe.PDF_417);u.putMetadata(je.ERROR_CORRECTION_LEVEL,c.getECLevel());const h=c.getOther();h!=null&&u.putMetadata(je.PDF417_EXTRA_METADATA,h),i.push(u)}return i.map(a=>a)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?ge.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(yt.getMaxWidth(e[0],e[4]),yt.getMaxWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(yt.getMaxWidth(e[1],e[5]),yt.getMaxWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(yt.getMinWidth(e[0],e[4]),yt.getMinWidth(e[6],e[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(yt.getMinWidth(e[1],e[5]),yt.getMinWidth(e[7],e[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ti extends I{}Ti.kind="ReaderException";class jo{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=e!=null&&e.get(_e.TRY_HARDER)!==void 0,n=e==null?null:e.get(_e.POSSIBLE_FORMATS),i=new Array;if(n!=null){const s=n.some(a=>a===fe.UPC_A||a===fe.UPC_E||a===fe.EAN_13||a===fe.EAN_8||a===fe.CODABAR||a===fe.CODE_39||a===fe.CODE_93||a===fe.CODE_128||a===fe.ITF||a===fe.RSS_14||a===fe.RSS_EXPANDED);s&&!t&&i.push(new pr(e,this.verbose)),n.includes(fe.QR_CODE)&&i.push(new kn),n.includes(fe.DATA_MATRIX)&&i.push(new Fn),n.includes(fe.AZTEC)&&i.push(new Xe),n.includes(fe.PDF_417)&&i.push(new yt),s&&t&&i.push(new pr(e,this.verbose))}i.length===0&&(t||i.push(new pr(e,this.verbose)),i.push(new kn),i.push(new Fn),i.push(new Xe),i.push(new yt),t&&i.push(new pr(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ti("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof Ti)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class Uc extends Vt{constructor(e=null,t=500){const n=new jo;n.setHints(e);super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Vc extends Vt{constructor(e=500){super(new yt,e)}}class Hc extends Vt{constructor(e=500){super(new kn,e)}}var ws;(function(w){w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION"})(ws||(ws={}));var mt=ws;class ps{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new wt(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const i=this.field;for(let s=t.length;s<=e;s++){const a=n.multiply(new wt(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));t.push(a),n=a}}return t[e]}encode(e,t){if(t===0)throw new N("No error correction bytes");const n=e.length-t;if(n<=0)throw new N("No data bytes provided");const i=this.buildGenerator(t),s=new Int32Array(n);J.arraycopy(e,0,s,0,n);let a=new wt(this.field,s);a=a.multiplyByMonomial(t,1);const u=a.divide(i)[1].getCoefficients(),h=t-u.length;for(let g=0;g<h;g++)e[n+g]=0;J.arraycopy(u,0,e,n+h,u.length)}}class dt{constructor(){}static applyMaskPenaltyRule1(e){return dt.applyMaskPenaltyRule1Internal(e,!0)+dt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let a=0;a<s-1;a++){const c=n[a];for(let u=0;u<i-1;u++){const h=c[u];h===c[u+1]&&h===n[a+1][u]&&h===n[a+1][u+1]&&t++}}return dt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let a=0;a<s;a++)for(let c=0;c<i;c++){const u=n[a];c+6<i&&u[c]===1&&u[c+1]===0&&u[c+2]===1&&u[c+3]===1&&u[c+4]===1&&u[c+5]===0&&u[c+6]===1&&(dt.isWhiteHorizontal(u,c-4,c)||dt.isWhiteHorizontal(u,c+7,c+11))&&t++,a+6<s&&n[a][c]===1&&n[a+1][c]===0&&n[a+2][c]===1&&n[a+3][c]===1&&n[a+4][c]===1&&n[a+5][c]===0&&n[a+6][c]===1&&(dt.isWhiteVertical(n,c,a-4,a)||dt.isWhiteVertical(n,c,a+7,a+11))&&t++}return t*dt.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let i=t;i<n;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let s=n;s<i;s++)if(e[s][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),i=e.getWidth(),s=e.getHeight();for(let u=0;u<s;u++){const h=n[u];for(let g=0;g<i;g++)h[g]===1&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*dt.N4}static getDataMaskBit(e,t,n){let i,s;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:s=n*t,i=(s&1)+s%3;break;case 6:s=n*t,i=(s&1)+s%3&1;break;case 7:s=n*t,i=s%3+(n+t&1)&1;break;default:throw new N("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const i=t?e.getHeight():e.getWidth(),s=t?e.getWidth():e.getHeight(),a=e.getArray();for(let c=0;c<i;c++){let u=0,h=-1;for(let g=0;g<s;g++){const p=t?a[c][g]:a[g][c];p===h?u++:(u>=5&&(n+=dt.N1+(u-5)),u=1,h=p)}u>=5&&(n+=dt.N1+(u-5))}return n}}dt.N1=3,dt.N2=3,dt.N3=40,dt.N4=10;class Si{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)le.fill(t,e)}equals(e){if(!(e instanceof Si))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,i=this.height;n<i;++n){const s=this.bytes[n],a=t.bytes[n];for(let c=0,u=this.width;c<u;++c)if(s[c]!==a[c])return!1}return!0}toString(){const e=new be;for(let t=0,n=this.height;t<n;++t){const i=this.bytes[t];for(let s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Qn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new be;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Qn.NUM_MASK_PATTERNS}}Qn.NUM_MASK_PATTERNS=8;class Qe extends I{}Qe.kind="WriterException";class xe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,i,s){xe.clearMatrix(s),xe.embedBasicPatterns(n,s),xe.embedTypeInfo(t,i,s),xe.maybeEmbedVersionInfo(n,s),xe.embedDataBits(e,i,s)}static embedBasicPatterns(e,t){xe.embedPositionDetectionPatternsAndSeparators(t),xe.embedDarkDotAtLeftBottomCorner(t),xe.maybeEmbedPositionAdjustmentPatterns(e,t),xe.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const i=new me;xe.makeTypeInfoBits(e,t,i);for(let s=0,a=i.getSize();s<a;++s){const c=i.get(i.getSize()-1-s),u=xe.TYPE_INFO_COORDINATES[s],h=u[0],g=u[1];if(n.setBoolean(h,g,c),s<8){const p=n.getWidth()-s-1,A=8;n.setBoolean(p,A,c)}else{const p=8,A=n.getHeight()-7+(s-8);n.setBoolean(p,A,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new me;xe.makeVersionInfoBits(e,n);let i=6*3-1;for(let s=0;s<6;++s)for(let a=0;a<3;++a){const c=n.get(i);i--,t.setBoolean(s,t.getHeight()-11+a,c),t.setBoolean(t.getHeight()-11+a,s,c)}}static embedDataBits(e,t,n){let i=0,s=-1,a=n.getWidth()-1,c=n.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<n.getHeight();){for(let u=0;u<2;++u){const h=a-u;if(!xe.isEmpty(n.get(h,c)))continue;let g;i<e.getSize()?(g=e.get(i),++i):g=!1,t!==255&&dt.getDataMaskBit(t,h,c)&&(g=!g),n.setBoolean(h,c,g)}c+=s}s=-s,c+=s,a-=2}if(i!==e.getSize())throw new Qe("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-ge.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new N("0 polynomial");const n=xe.findMSBSet(t);for(e<<=n-1;xe.findMSBSet(e)>=n;)e^=t<<xe.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Qn.isValidMaskPattern(t))throw new Qe("Invalid mask pattern");const i=e.getBits()<<3|t;n.appendBits(i,5);const s=xe.calculateBCHCode(i,xe.TYPE_INFO_POLY);n.appendBits(s,10);const a=new me;if(a.appendBits(xe.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Qe("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=xe.calculateBCHCode(e.getVersionNumber(),xe.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Qe("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;xe.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),xe.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Qe;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let i=0;i<8;++i){if(!xe.isEmpty(n.get(e+i,t)))throw new Qe;n.setNumber(e+i,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let i=0;i<7;++i){if(!xe.isEmpty(n.get(e,t+i)))throw new Qe;n.setNumber(e,t+i,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let i=0;i<5;++i){const s=xe.POSITION_ADJUSTMENT_PATTERN[i];for(let a=0;a<5;++a)n.setNumber(e+a,t+i,s[a])}}static embedPositionDetectionPattern(e,t,n){for(let i=0;i<7;++i){const s=xe.POSITION_DETECTION_PATTERN[i];for(let a=0;a<7;++a)n.setNumber(e+a,t+i,s[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=xe.POSITION_DETECTION_PATTERN[0].length;xe.embedPositionDetectionPattern(0,0,e),xe.embedPositionDetectionPattern(e.getWidth()-t,0,e),xe.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;xe.embedHorizontalSeparationPattern(0,n-1,e),xe.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),xe.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const i=7;xe.embedVerticalSeparationPattern(i,0,e),xe.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),xe.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,i=xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let s=0,a=i.length;s!==a;s++){const c=i[s];if(c>=0)for(let u=0;u!==a;u++){const h=i[u];h>=0&&xe.isEmpty(t.get(h,c))&&xe.embedPositionAdjustmentPattern(h-2,c-2,t)}}}}xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xe.VERSION_INFO_POLY=7973,xe.TYPE_INFO_POLY=1335,xe.TYPE_INFO_MASK_PATTERN=21522;class Wc{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ot{constructor(){}static calculateMaskPenalty(e){return dt.applyMaskPenaltyRule1(e)+dt.applyMaskPenaltyRule2(e)+dt.applyMaskPenaltyRule3(e)+dt.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let i=ot.DEFAULT_BYTE_MODE_ENCODING;const s=n!==null&&n.get(mt.CHARACTER_SET)!==void 0;s&&(i=n.get(mt.CHARACTER_SET).toString());const a=this.chooseMode(e,i),c=new me;if(a===he.BYTE&&(s||ot.DEFAULT_BYTE_MODE_ENCODING!==i)){const Z=X.getCharacterSetECIByName(i);Z!==void 0&&this.appendECI(Z,c)}this.appendModeInfo(a,c);const u=new me;this.appendBytes(e,a,u,i);let h;if(n!==null&&n.get(mt.QR_VERSION)!==void 0){const Z=Number.parseInt(n.get(mt.QR_VERSION).toString(),10);h=ce.getVersionForNumber(Z);const Y=this.calculateBitsNeeded(a,c,u,h);if(!this.willFit(Y,h,t))throw new Qe("Data too big for requested version")}else h=this.recommendVersion(t,a,c,u);const g=new me;g.appendBitArray(c);const p=a===he.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(p,h,a,g),g.appendBitArray(u);const A=h.getECBlocksForLevel(t),E=h.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(E,g);const S=this.interleaveWithECBytes(g,h.getTotalCodewords(),E,A.getNumBlocks()),_=new Qn;_.setECLevel(t),_.setMode(a),_.setVersion(h);const R=h.getDimensionForVersion(),v=new Si(R,R),j=this.chooseMaskPattern(S,t,h,v);return _.setMaskPattern(j),xe.buildMatrix(S,t,h,j,v),_.setMatrix(v),_}static recommendVersion(e,t,n,i){const s=this.calculateBitsNeeded(t,n,i,ce.getVersionForNumber(1)),a=this.chooseVersion(s,e),c=this.calculateBitsNeeded(t,n,i,a);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()}static getAlphanumericCode(e){return e<ot.ALPHANUMERIC_TABLE.length?ot.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(X.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return he.KANJI;let n=!1,i=!1;for(let s=0,a=e.length;s<a;++s){const c=e.charAt(s);if(ot.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return he.BYTE}return i?he.ALPHANUMERIC:n?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=et.encode(e,X.SJIS)}catch{return!1}const n=t.length;if(n%2!=0)return!1;for(let i=0;i<n;i+=2){const s=t[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,t,n,i){let s=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<Qn.NUM_MASK_PATTERNS;c++){xe.buildMatrix(e,t,n,c,i);let u=this.calculateMaskPenalty(i);u<s&&(s=u,a=c)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){const i=ce.getVersionForNumber(n);if(ot.willFit(e,i,t))return i}throw new Qe("Data too big")}static willFit(e,t,n){const i=t.getTotalCodewords(),a=t.getECBlocksForLevel(n).getTotalECCodewords(),c=i-a,u=(e+7)/8;return c>=u}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new Qe("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);const i=t.getSize()&7;if(i>0)for(let a=i;a<8;a++)t.appendBit(!1);const s=e-t.getSizeInBytes();for(let a=0;a<s;++a)t.appendBits((a&1)==0?236:17,8);if(t.getSize()!==n)throw new Qe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,i,s,a){if(i>=n)throw new Qe("Block ID too large");const c=e%n,u=n-c,h=Math.floor(e/n),g=h+1,p=Math.floor(t/n),A=p+1,E=h-p,S=g-A;if(E!==S)throw new Qe("EC bytes mismatch");if(n!==u+c)throw new Qe("RS blocks mismatch");if(e!==(p+E)*u+(A+S)*c)throw new Qe("Total bytes mismatch");i<u?(s[0]=p,a[0]=E):(s[0]=A,a[0]=S)}static interleaveWithECBytes(e,t,n,i){if(e.getSizeInBytes()!==n)throw new Qe("Number of bits and data bytes does not match");let s=0,a=0,c=0;const u=new Array;for(let g=0;g<i;++g){const p=new Int32Array(1),A=new Int32Array(1);ot.getNumDataBytesAndNumECBytesForBlockID(t,n,i,g,p,A);const E=p[0],S=new Uint8Array(E);e.toBytes(8*s,S,0,E);const _=ot.generateECBytes(S,A[0]);u.push(new Wc(S,_)),a=Math.max(a,E),c=Math.max(c,_.length),s+=p[0]}if(n!==s)throw new Qe("Data bytes does not match offset");const h=new me;for(let g=0;g<a;++g)for(const p of u){const A=p.getDataBytes();g<A.length&&h.appendBits(A[g],8)}for(let g=0;g<c;++g)for(const p of u){const A=p.getErrorCorrectionBytes();g<A.length&&h.appendBits(A[g],8)}if(t!==h.getSizeInBytes())throw new Qe("Interleaving error: "+t+" and "+h.getSizeInBytes()+" differ.");return h}static generateECBytes(e,t){const n=e.length,i=new Int32Array(n+t);for(let a=0;a<n;a++)i[a]=e[a]&255;new ps(De.QR_CODE_FIELD_256).encode(i,t);const s=new Uint8Array(t);for(let a=0;a<t;a++)s[a]=i[n+a];return s}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,i){const s=n.getCharacterCountBits(t);if(e>=1<<s)throw new Qe(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)}static appendBytes(e,t,n,i){switch(t){case he.NUMERIC:ot.appendNumericBytes(e,n);break;case he.ALPHANUMERIC:ot.appendAlphanumericBytes(e,n);break;case he.BYTE:ot.append8BitBytes(e,n,i);break;case he.KANJI:ot.appendKanjiBytes(e,n);break;default:throw new Qe("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=ot.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const s=ot.getDigit(e.charAt(i));if(i+2<n){const a=ot.getDigit(e.charAt(i+1)),c=ot.getDigit(e.charAt(i+2));t.appendBits(s*100+a*10+c,10),i+=3}else if(i+1<n){const a=ot.getDigit(e.charAt(i+1));t.appendBits(s*10+a,7),i+=2}else t.appendBits(s,4),i++}}static appendAlphanumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const s=ot.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new Qe;if(i+1<n){const a=ot.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new Qe;t.appendBits(s*45+a,11),i+=2}else t.appendBits(s,6),i++}}static append8BitBytes(e,t,n){let i;try{i=et.encode(e,n)}catch(s){throw new Qe(s)}for(let s=0,a=i.length;s!==a;s++){const c=i[s];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let n;try{n=et.encode(e,X.SJIS)}catch(s){throw new Qe(s)}const i=n.length;for(let s=0;s<i;s+=2){const a=n[s]&255,c=n[s+1]&255,u=a<<8&4294967295|c;let h=-1;if(u>=33088&&u<=40956?h=u-33088:u>=57408&&u<=60351&&(h=u-49472),h===-1)throw new Qe("Invalid byte sequence");const g=(h>>8)*192+(h&255);t.appendBits(g,13)}}static appendECI(e,t){t.appendBits(he.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ot.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Jn{write(e,t,n,i=null){if(e.length===0)throw new N("Found empty contents");if(t<0||n<0)throw new N("Requested dimensions are too small: "+t+"x"+n);let s=tt.L,a=Jn.QUIET_ZONE_SIZE;i!==null&&(i.get(mt.ERROR_CORRECTION)!==void 0&&(s=tt.fromString(i.get(mt.ERROR_CORRECTION).toString())),i.get(mt.MARGIN)!==void 0&&(a=Number.parseInt(i.get(mt.MARGIN).toString(),10)));const c=ot.encode(e,s,i);return this.renderResult(c,t,n,a)}writeToDom(e,t,n,i,s=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(t,n,i,s);e&&e.appendChild(a)}renderResult(e,t,n,i){const s=e.getMatrix();if(s===null)throw new O;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,h=c+i*2,g=Math.max(t,u),p=Math.max(n,h),A=Math.min(Math.floor(g/u),Math.floor(p/h)),E=Math.floor((g-a*A)/2),S=Math.floor((p-c*A)/2),_=this.createSVGElement(g,p);for(let R=0,v=S;R<c;R++,v+=A)for(let j=0,Z=E;j<a;j++,Z+=A)if(s.get(j,R)===1){const Y=this.createSvgRectElement(Z,v,A,A);_.appendChild(Y)}return _}createSVGElement(e,t){const n=document.createElementNS(Jn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,i){const s=document.createElementNS(Jn.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",t.toString()),s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Jn.QUIET_ZONE_SIZE=4,Jn.SVG_NS="http://www.w3.org/2000/svg";class mr{encode(e,t,n,i,s){if(e.length===0)throw new N("Found empty contents");if(t!==fe.QR_CODE)throw new N("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new N(`Requested dimensions are too small: ${n}x${i}`);let a=tt.L,c=mr.QUIET_ZONE_SIZE;s!==null&&(s.get(mt.ERROR_CORRECTION)!==void 0&&(a=tt.fromString(s.get(mt.ERROR_CORRECTION).toString())),s.get(mt.MARGIN)!==void 0&&(c=Number.parseInt(s.get(mt.MARGIN).toString(),10)));const u=ot.encode(e,a,s);return mr.renderResult(u,n,i,c)}static renderResult(e,t,n,i){const s=e.getMatrix();if(s===null)throw new O;const a=s.getWidth(),c=s.getHeight(),u=a+i*2,h=c+i*2,g=Math.max(t,u),p=Math.max(n,h),A=Math.min(Math.floor(g/u),Math.floor(p/h)),E=Math.floor((g-a*A)/2),S=Math.floor((p-c*A)/2),_=new it(g,p);for(let R=0,v=S;R<c;R++,v+=A)for(let j=0,Z=E;j<a;j++,Z+=A)s.get(j,R)===1&&_.setRegion(Z,v,A,A);return _}}mr.QUIET_ZONE_SIZE=4;class Xc{encode(e,t,n,i,s){let a;switch(t){case fe.QR_CODE:a=new mr;break;default:throw new N("No encoder available for format "+t)}return a.encode(e,t,n,i,s)}}class mn extends ze{constructor(e,t,n,i,s,a,c,u){super(a,c);if(this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=i,this.top=s,i+a>t||s+c>n)throw new N("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(a,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.yuvData,s,i,0,n),i;for(let a=0;a<t;a++){const c=a*e;J.arraycopy(this.yuvData,s,i,c,e),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new mn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,i,!1)}renderThumbnail(){const e=this.getWidth()/mn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/mn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),i=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const c=a*e;for(let u=0;u<e;u++){const h=i[s+u*mn.THUMBNAIL_SCALE_FACTOR]&255;n[c+u]=4278190080|h*65793}s+=this.dataWidth*mn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/mn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let i=0,s=this.top*this.dataWidth+this.left;i<t;i++,s+=this.dataWidth){const a=s+e/2;for(let c=s,u=s+e-1;c<a;c++,u--){const h=n[c];n[c]=n[u],n[u]=h}}}invert(){return new Pe(this)}}mn.THUMBNAIL_SCALE_FACTOR=2;class As extends ze{constructor(e,t,n,i,s,a,c){super(t,n);if(this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=c,e.BYTES_PER_ELEMENT===4){const u=t*n,h=new Uint8ClampedArray(u);for(let g=0;g<u;g++){const p=e[g],A=p>>16&255,E=p>>7&510,S=p&255;h[g]=(A+E+S)/4&255}this.luminances=h}else this.luminances=e;if(i===void 0&&(this.dataWidth=t),s===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,i=new Uint8ClampedArray(n);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.luminances,s,i,0,n),i;for(let a=0;a<t;a++){const c=a*e;J.arraycopy(this.luminances,s,i,c,e),s+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new As(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Pe(this)}}class Zo extends X{static forName(e){return this.getCharacterSetECIByName(e)}}class ms{}ms.ISO_8859_1=X.ISO8859_1;class Ko{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class qo{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Gc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Cr extends Gc{constructor(e,t,n){super(e);this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Cr(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Cr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ge.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Cs extends Cr{constructor(e,t,n){super(e,0,0);this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Cs(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yc(w,e,t){return new Cs(w,e,t)}function qr(w,e,t){return new Cr(w,e,t)}const zc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vn=0,_i=1,rn=2,Qo=3,Cn=4,jc=new Cr(null,0,0),Es=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Zc(w){for(let e of w)le.fill(e,-1);return w[Vn][Cn]=0,w[_i][Cn]=0,w[_i][Vn]=28,w[Qo][Cn]=0,w[rn][Cn]=0,w[rn][Vn]=15,w}const Jo=Zc(le.createInt32Array(6,6));class En{constructor(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,i=this.token;if(e!==this.mode){let a=Es[this.mode][e];i=qr(i,a&65535,a>>16),n+=a>>16}let s=e===rn?4:5;return i=qr(i,t,s),new En(i,e,0,n+s)}shiftAndAppend(e,t){let n=this.token,i=this.mode===rn?4:5;return n=qr(n,Jo[this.mode][e],i),n=qr(n,t,5),new En(n,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,i=this.bitCount;if(this.mode===Cn||this.mode===rn){let c=Es[n][Vn];t=qr(t,c&65535,c>>16),i+=c>>16,n=Vn}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new En(t,n,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Yc(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new En(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Es[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=En.calculateBinaryShiftCost(e)-En.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())t.unshift(i);let n=new me;for(const i of t)i.appendTo(n,e);return n}toString(){return se.format("%s bits=%d bytes=%d",zc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}En.INITIAL_STATE=new En(jc,Vn,0,0);function Kc(w){const e=se.getCharCode(" "),t=se.getCharCode("."),n=se.getCharCode(",");w[Vn][e]=1;const i=se.getCharCode("Z"),s=se.getCharCode("A");for(let A=s;A<=i;A++)w[Vn][A]=A-s+2;w[_i][e]=1;const a=se.getCharCode("z"),c=se.getCharCode("a");for(let A=c;A<=a;A++)w[_i][A]=A-c+2;w[rn][e]=1;const u=se.getCharCode("9"),h=se.getCharCode("0");for(let A=h;A<=u;A++)w[rn][A]=A-h+2;w[rn][n]=12,w[rn][t]=13;const g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","","","","","","@","\\","^","_","`","|","~","\x7F"];for(let A=0;A<g.length;A++)w[Qo][se.getCharCode(g[A])]=A;const p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<p.length;A++)se.getCharCode(p[A])>0&&(w[Cn][se.getCharCode(p[A])]=A);return w}const bs=Kc(le.createInt32Array(5,256));class Qr{constructor(e){this.text=e}encode(){const e=se.getCharCode(" "),t=se.getCharCode(`
`);let n=qo.singletonList(En.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let a,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case se.getCharCode("\r"):a=c===t?2:0;break;case se.getCharCode("."):a=c===e?3:0;break;case se.getCharCode(","):a=c===e?4:0;break;case se.getCharCode(":"):a=c===e?5:0;break;default:a=0}a>0?(n=Qr.updateStateListForPair(n,s,a),s++):n=this.updateStateListForChar(n,s)}return qo.min(n,(s,a)=>s.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let i of e)this.updateStateForChar(i,t,n);return Qr.simplifyStates(n)}updateStateForChar(e,t,n){let i=this.text[t]&255,s=bs[e.getMode()][i]>0,a=null;for(let c=0;c<=Cn;c++){let u=bs[c][i];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!s||c===e.getMode()||c===rn){const h=a.latchAndAppend(c,u);n.push(h)}if(!s&&Jo[e.getMode()][c]>=0){const h=a.shiftAndAppend(c,u);n.push(h)}}}if(e.getBinaryShiftByteCount()>0||bs[e.getMode()][i]===0){let c=e.addBinaryShiftChar(t);n.push(c)}}static updateStateListForPair(e,t,n){const i=[];for(let s of e)this.updateStateForPair(s,t,n,i);return this.simplifyStates(i)}static updateStateForPair(e,t,n,i){let s=e.endBinaryShift(t);if(i.push(s.latchAndAppend(Cn,n)),e.getMode()!==Cn&&i.push(s.shiftAndAppend(Cn,n)),n===3||n===4){let a=s.latchAndAppend(rn,16-n).latchAndAppend(rn,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(a)}}static simplifyStates(e){let t=[];for(const n of e){let i=!0;for(const s of t){if(s.isBetterThanOrEqualTo(n)){i=!1;break}n.isBetterThanOrEqualTo(s)&&(t=t.filter(a=>a!==s))}i&&t.push(n)}return t}}class Fe{constructor(){}static encodeBytes(e){return Fe.encode(e,Fe.DEFAULT_EC_PERCENT,Fe.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let i=new Qr(e).encode(),s=ge.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+s,c,u,h,g,p;if(n!==Fe.DEFAULT_AZTEC_LAYERS){if(c=n<0,u=Math.abs(n),u>(c?Fe.MAX_NB_BITS_COMPACT:Fe.MAX_NB_BITS))throw new N(se.format("Illegal value %s for layers",n));h=Fe.totalBitsInLayer(u,c),g=Fe.WORD_SIZE[u];let Y=h-h%g;if(p=Fe.stuffBits(i,g),p.getSize()+s>Y)throw new N("Data to large for user specified layer");if(c&&p.getSize()>g*64)throw new N("Data to large for user specified layer")}else{g=0,p=null;for(let Y=0;;Y++){if(Y>Fe.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(c=Y<=3,u=c?Y+1:Y,h=Fe.totalBitsInLayer(u,c),a>h)continue;(p==null||g!==Fe.WORD_SIZE[u])&&(g=Fe.WORD_SIZE[u],p=Fe.stuffBits(i,g));let Me=h-h%g;if(!(c&&p.getSize()>g*64)&&p.getSize()+s<=Me)break}}let A=Fe.generateCheckWords(p,h,g),E=p.getSize()/g,S=Fe.generateModeMessage(c,u,E),_=(c?11:14)+u*4,R=new Int32Array(_),v;if(c){v=_;for(let Y=0;Y<R.length;Y++)R[Y]=Y}else{v=_+1+2*ge.truncDivision(ge.truncDivision(_,2)-1,15);let Y=ge.truncDivision(_,2),Me=ge.truncDivision(v,2);for(let Ee=0;Ee<Y;Ee++){let Gt=Ee+ge.truncDivision(Ee,15);R[Y-Ee-1]=Me-Gt-1,R[Y+Ee]=Me+Gt+1}}let j=new it(v);for(let Y=0,Me=0;Y<u;Y++){let Ee=(u-Y)*4+(c?9:12);for(let Gt=0;Gt<Ee;Gt++){let fn=Gt*2;for(let Yt=0;Yt<2;Yt++)A.get(Me+fn+Yt)&&j.set(R[Y*2+Yt],R[Y*2+Gt]),A.get(Me+Ee*2+fn+Yt)&&j.set(R[Y*2+Gt],R[_-1-Y*2-Yt]),A.get(Me+Ee*4+fn+Yt)&&j.set(R[_-1-Y*2-Yt],R[_-1-Y*2-Gt]),A.get(Me+Ee*6+fn+Yt)&&j.set(R[_-1-Y*2-Gt],R[Y*2+Yt])}Me+=Ee*8}if(Fe.drawModeMessage(j,c,v,S),c)Fe.drawBullsEye(j,ge.truncDivision(v,2),5);else{Fe.drawBullsEye(j,ge.truncDivision(v,2),7);for(let Y=0,Me=0;Y<ge.truncDivision(_,2)-1;Y+=15,Me+=16)for(let Ee=ge.truncDivision(v,2)&1;Ee<v;Ee+=2)j.set(ge.truncDivision(v,2)-Me,Ee),j.set(ge.truncDivision(v,2)+Me,Ee),j.set(Ee,ge.truncDivision(v,2)-Me),j.set(Ee,ge.truncDivision(v,2)+Me)}let Z=new Ko;return Z.setCompact(c),Z.setSize(v),Z.setLayers(u),Z.setCodeWords(E),Z.setMatrix(j),Z}static drawBullsEye(e,t,n){for(let i=0;i<n;i+=2)for(let s=t-i;s<=t+i;s++)e.set(s,t-i),e.set(s,t+i),e.set(t-i,s),e.set(t+i,s);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let i=new me;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=Fe.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=Fe.generateCheckWords(i,40,4)),i}static drawModeMessage(e,t,n,i){let s=ge.truncDivision(n,2);if(t)for(let a=0;a<7;a++){let c=s-3+a;i.get(a)&&e.set(c,s-5),i.get(a+7)&&e.set(s+5,c),i.get(20-a)&&e.set(c,s+5),i.get(27-a)&&e.set(s-5,c)}else for(let a=0;a<10;a++){let c=s-5+a+ge.truncDivision(a,5);i.get(a)&&e.set(c,s-7),i.get(a+10)&&e.set(s+7,c),i.get(29-a)&&e.set(c,s+7),i.get(39-a)&&e.set(s-7,c)}}static generateCheckWords(e,t,n){let i=e.getSize()/n,s=new ps(Fe.getGF(n)),a=ge.truncDivision(t,n),c=Fe.bitsToWords(e,n,a);s.encode(c,a-i);let u=t%n,h=new me;h.appendBits(0,u);for(const g of Array.from(c))h.appendBits(g,n);return h}static bitsToWords(e,t,n){let i=new Int32Array(n),s,a;for(s=0,a=e.getSize()/t;s<a;s++){let c=0;for(let u=0;u<t;u++)c|=e.get(s*t+u)?1<<t-u-1:0;i[s]=c}return i}static getGF(e){switch(e){case 4:return De.AZTEC_PARAM;case 6:return De.AZTEC_DATA_6;case 8:return De.AZTEC_DATA_8;case 10:return De.AZTEC_DATA_10;case 12:return De.AZTEC_DATA_12;default:throw new N("Unsupported word size "+e)}}static stuffBits(e,t){let n=new me,i=e.getSize(),s=(1<<t)-2;for(let a=0;a<i;a+=t){let c=0;for(let u=0;u<t;u++)(a+u>=i||e.get(a+u))&&(c|=1<<t-1-u);(c&s)===s?(n.appendBits(c&s,t),a--):(c&s)==0?(n.appendBits(c|1,t),a--):n.appendBits(c,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Fe.DEFAULT_EC_PERCENT=33,Fe.DEFAULT_AZTEC_LAYERS=0,Fe.MAX_NB_BITS=32,Fe.MAX_NB_BITS_COMPACT=4,Fe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oi{encode(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)}encodeWithHints(e,t,n,i,s){let a=ms.ISO_8859_1,c=Fe.DEFAULT_EC_PERCENT,u=Fe.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(mt.CHARACTER_SET)&&(a=Zo.forName(s.get(mt.CHARACTER_SET).toString())),s.has(mt.ERROR_CORRECTION)&&(c=ge.parseInt(s.get(mt.ERROR_CORRECTION).toString())),s.has(mt.AZTEC_LAYERS)&&(u=ge.parseInt(s.get(mt.AZTEC_LAYERS).toString()))),Oi.encodeLayers(e,t,n,i,a,c,u)}static encodeLayers(e,t,n,i,s,a,c){if(t!==fe.AZTEC)throw new N("Can only encode AZTEC, but got "+t);let u=Fe.encode(se.getBytes(e,s),a,c);return Oi.renderResult(u,n,i)}static renderResult(e,t,n){let i=e.getMatrix();if(i==null)throw new O;let s=i.getWidth(),a=i.getHeight(),c=Math.max(t,s),u=Math.max(n,a),h=Math.min(c/s,u/a),g=(c-s*h)/2,p=(u-a*h)/2,A=new it(c,u);for(let E=0,S=p;E<a;E++,S+=h)for(let _=0,R=g;_<s;_++,R+=h)i.get(_,E)&&A.setRegion(R,S,h,h);return A}}l.ArgumentException=y,l.ArithmeticException=vn,l.AztecCode=Ko,l.AztecCodeReader=Xe,l.AztecCodeWriter=Oi,l.AztecDecoder=P,l.AztecDetector=We,l.AztecDetectorResult=z,l.AztecEncoder=Fe,l.AztecHighLevelEncoder=Qr,l.AztecPoint=Ie,l.BarcodeFormat=fe,l.Binarizer=oe,l.BinaryBitmap=G,l.BitArray=me,l.BitMatrix=it,l.BitSource=fs,l.BrowserAztecCodeReader=Kt,l.BrowserBarcodeReader=Sc,l.BrowserCodeReader=Vt,l.BrowserDatamatrixCodeReader=Oc,l.BrowserMultiFormatReader=Uc,l.BrowserPDF417Reader=Vc,l.BrowserQRCodeReader=Hc,l.BrowserQRCodeSvgWriter=Jn,l.CharacterSetECI=X,l.ChecksumException=U,l.Code128Reader=Q,l.Code39Reader=st,l.DataMatrixDecodedBitStreamParser=Ln,l.DataMatrixReader=Fn,l.DecodeHintType=_e,l.DecoderResult=xn,l.DefaultGridSampler=pe,l.DetectorResult=q,l.EAN13Reader=jn,l.EncodeHintType=mt,l.Exception=I,l.FormatException=K,l.GenericGF=De,l.GenericGFPoly=wt,l.GlobalHistogramBinarizer=ft,l.GridSampler=re,l.GridSamplerInstance=Ce,l.HTMLCanvasElementLuminanceSource=Ct,l.HybridBinarizer=ue,l.ITFReader=Ge,l.IllegalArgumentException=N,l.IllegalStateException=O,l.InvertedLuminanceSource=Pe,l.LuminanceSource=ze,l.MathUtils=H,l.MultiFormatOneDReader=pr,l.MultiFormatReader=jo,l.MultiFormatWriter=Xc,l.NotFoundException=L,l.OneDReader=qe,l.PDF417DecodedBitStreamParser=B,l.PDF417DecoderErrorCorrection=Ho,l.PDF417Reader=yt,l.PDF417ResultMetadata=Xo,l.PerspectiveTransform=ne,l.PlanarYUVLuminanceSource=mn,l.QRCodeByteMatrix=Si,l.QRCodeDataMask=tn,l.QRCodeDecodedBitStreamParser=ut,l.QRCodeDecoderErrorCorrectionLevel=tt,l.QRCodeDecoderFormatInformation=Rt,l.QRCodeEncoder=ot,l.QRCodeEncoderQRCode=Qn,l.QRCodeMaskUtil=dt,l.QRCodeMatrixUtil=xe,l.QRCodeMode=he,l.QRCodeReader=kn,l.QRCodeVersion=ce,l.QRCodeWriter=mr,l.RGBLuminanceSource=As,l.RSS14Reader=ht,l.RSSExpandedReader=W,l.ReaderException=Ti,l.ReedSolomonDecoder=F,l.ReedSolomonEncoder=ps,l.ReedSolomonException=T,l.Result=lt,l.ResultMetadataType=je,l.ResultPoint=D,l.StringUtils=se,l.UnsupportedOperationException=$e,l.VideoInputDevice=fr,l.WhiteRectangleDetector=ie,l.WriterException=Qe,l.ZXingArrays=le,l.ZXingCharset=Zo,l.ZXingInteger=ge,l.ZXingStandardCharsets=ms,l.ZXingStringBuilder=be,l.ZXingStringEncoding=et,l.ZXingSystem=J,Object.defineProperty(l,"__esModule",{value:!0})})})(rt,rt.exports);var vu=Bu(rt.exports),Pu=Object.freeze(Jc({__proto__:null,[Symbol.toStringTag]:"Module",default:vu},[rt.exports])),Lu=function(){function r(o,l,f){if(this.formatMap=new Map([[te.QR_CODE,rt.exports.BarcodeFormat.QR_CODE],[te.AZTEC,rt.exports.BarcodeFormat.AZTEC],[te.CODABAR,rt.exports.BarcodeFormat.CODABAR],[te.CODE_39,rt.exports.BarcodeFormat.CODE_39],[te.CODE_93,rt.exports.BarcodeFormat.CODE_93],[te.CODE_128,rt.exports.BarcodeFormat.CODE_128],[te.DATA_MATRIX,rt.exports.BarcodeFormat.DATA_MATRIX],[te.MAXICODE,rt.exports.BarcodeFormat.MAXICODE],[te.ITF,rt.exports.BarcodeFormat.ITF],[te.EAN_13,rt.exports.BarcodeFormat.EAN_13],[te.EAN_8,rt.exports.BarcodeFormat.EAN_8],[te.PDF_417,rt.exports.BarcodeFormat.PDF_417],[te.RSS_14,rt.exports.BarcodeFormat.RSS_14],[te.RSS_EXPANDED,rt.exports.BarcodeFormat.RSS_EXPANDED],[te.UPC_A,rt.exports.BarcodeFormat.UPC_A],[te.UPC_E,rt.exports.BarcodeFormat.UPC_E],[te.UPC_EAN_EXTENSION,rt.exports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Pu)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=f;var d=this.createZXingFormats(o),x=new Map;x.set(rt.exports.DecodeHintType.POSSIBLE_FORMATS,d),this.hints=x}return r.prototype.decodeAsync=function(o){var l=this;return new Promise(function(f,d){try{f(l.decode(o))}catch(x){d(x)}})},r.prototype.decode=function(o){var l=new rt.exports.MultiFormatReader(this.verbose,this.hints),f=new rt.exports.HTMLCanvasElementLuminanceSource(o),d=new rt.exports.BinaryBitmap(new rt.exports.HybridBinarizer(f)),x=l.decode(d);return{text:x.text,format:Sl.create(this.toHtml5QrcodeSupportedFormats(x.format))}},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have "+o;return this.reverseFormatMap.get(o)},r.prototype.createZXingFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var x=d[f];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.logError(x+" is not supported byZXingHtml5QrcodeShim")}return l},r}(),Fu=globalThis&&globalThis.__awaiter||function(r,o,l,f){function d(x){return x instanceof l?x:new l(function(m){m(x)})}return new(l||(l=Promise))(function(x,m){function b(N){try{y(f.next(N))}catch(G){m(G)}}function I(N){try{y(f.throw(N))}catch(G){m(G)}}function y(N){N.done?x(N.value):d(N.value).then(b,I)}y((f=f.apply(r,o||[])).next())})},ku=globalThis&&globalThis.__generator||function(r,o){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},f,d,x,m;return m={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function b(y){return function(N){return I([y,N])}}function I(y){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,d&&(x=y[0]&2?d.return:y[0]?d.throw||((x=d.return)&&x.call(d),0):d.next)&&!(x=x.call(d,y[1])).done)return x;switch(d=0,x&&(y=[y[0]&2,x.value]),y[0]){case 0:case 1:x=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,d=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!x||y[1]>x[0]&&y[1]<x[3])){l.label=y[1];break}if(y[0]===6&&l.label<x[1]){l.label=x[1],x=y;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(y);break}x[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(r,l)}catch(N){y=[6,N],d=0}finally{f=x=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Nl=function(){function r(o,l,f){if(this.formatMap=new Map([[te.QR_CODE,"qr_code"],[te.AZTEC,"aztec"],[te.CODABAR,"codabar"],[te.CODE_39,"code_39"],[te.CODE_93,"code_93"],[te.CODE_128,"code_128"],[te.DATA_MATRIX,"data_matrix"],[te.ITF,"itf"],[te.EAN_13,"ean_13"],[te.EAN_8,"ean_8"],[te.PDF_417,"pdf417"],[te.UPC_A,"upc_a"],[te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=f;var d=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o!="undefined"},r.prototype.decodeAsync=function(o){return Fu(this,void 0,void 0,function(){var l,f;return ku(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=d.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(l),[2,{text:f.rawValue,format:Sl.create(this.toHtml5QrcodeSupportedFormats(f.format))}]}})})},r.prototype.selectLargestBarcode=function(o){for(var l=null,f=0,d=0,x=o;d<x.length;d++){var m=x[d],b=m.boundingBox.width*m.boundingBox.height;b>f&&(f=b,l=m)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],f=0,d=o;f<d.length;f++){var x=d[f];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.warn(x+" is not supported byBarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have "+o;return this.reverseFormatMap.get(o)},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,f,d){o.set(l,f)}),o},r}(),Uu=function(){function r(o,l,f,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=l,d.useBarCodeDetectorIfSupported===!0&&Nl.isSupported()?this.decoder=new Nl(o,l,f):this.decoder=new Lu(o,l,f)}return r.prototype.decodeAsync=function(o){var l=this,f=performance.now();return this.decoder.decodeAsync(o).finally(function(){if(l.verbose){var d=performance.now()-f;l.executionResults.push(d),l.executions++,l.possiblyFlushPerformanceReport()}})},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,f=this.executionResults;l<f.length;l++){var d=f[l];o+=d}var x=o/this.executionResults.length;console.log(x+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},r}(),Vu=function(){function r(){}return r.createExperimentalFeaturesConfig=function(o){return o?(o.useBarCodeDetectorIfSupported!==!0&&(o.useBarCodeDetectorIfSupported=!1),o):{useBarCodeDetectorIfSupported:!1}},r}(),gt;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(gt||(gt={}));var Hu=function(){function r(){this.state=gt.NOT_STARTED,this.onGoingTransactionNewState=gt.UNKNOWN}return r.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},r.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===gt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gt.UNKNOWN,this.directTransition(o)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===gt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gt.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gt.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},r.prototype.validateTransition=function(o){switch(this.state){case gt.UNKNOWN:throw"Transition from unknown is not allowed";case gt.NOT_STARTED:this.failIfNewStateIs(o,[gt.PAUSED]);break;case gt.SCANNING:break;case gt.PAUSED:break}},r.prototype.failIfNewStateIs=function(o,l){for(var f=0,d=l;f<d.length;f++){var x=d[f];if(o===x)throw"Cannot transition from "+this.state+" to "+o}},r}(),Wu=function(){function r(o){this.stateManager=o}return r.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},r.prototype.directTransition=function(o){this.stateManager.directTransition(o)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===gt.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==gt.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gt.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===gt.PAUSED},r}(),Xu=function(){function r(){}return r.create=function(){return new Wu(new Hu)},r}(),Gu=globalThis&&globalThis.__extends||function(){var r=function(o,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(f[x]=d[x])},r(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(o,l);function f(){this.constructor=o}o.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),$t=function(r){Gu(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_CLASSNAME="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(Ru),Yu=function(){function r(o,l){this.logger=l,this.fps=$t.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=$t.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ol.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!po(this.qrbox)},r.create=function(o,l){return new r(o,l)},r}(),kd=function(){function r(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id="+o+" not found";this.elementId=o,this.verbose=!1;var f;typeof l=="boolean"?this.verbose=l===!0:l&&(this.verbose=l.verbose===!0,f=l.experimentalFeatures),this.logger=new Du(this.verbose),this.qrcode=new Uu(this.getSupportedFormats(l),this.verbose,this.logger,Vu.createExperimentalFeaturesConfig(f)),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=Xu.create()}return r.prototype.start=function(o,l,f,d){if(!o)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";d||(d=this.verbose?this.logger.log:function(){});var x=Yu.create(l,this.logger);this.clearElement();var m=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var b=m,I=x.isShadedBoxEnabled(),y=document.getElementById(this.elementId),N=y.clientWidth?y.clientWidth:$t.DEFAULT_WIDTH;y.style.position="relative",this.shouldScan=!0,this.element=y,I&&this.validateQrboxSize(x,N);var G=this,U=this.stateManagerProxy.startTransition(gt.SCANNING);return new Promise(function(oe,J){var Oe=b?x.videoConstraints:G.createVideoConstraints(o);if(!Oe){U.cancel(),J("videoConstraints should be defined");return}navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:Oe}).then(function(de){G.onMediaStreamReceived(de,x,b,N,f,d).then(function(le){U.execute(),G.isScanning=!0,oe(null)}).catch(function(le){U.cancel(),J(le)})}).catch(function(de){U.cancel(),J(li.errorGettingUserMedia(de))}):(U.cancel(),J(li.cameraStreamingNotSupported()))})},r.prototype.pause=function(){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gt.PAUSED),this.showPausedState()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";this.stateManagerProxy.directTransition(gt.SCANNING),this.hidePausedState()},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(gt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(!!o.element)for(;o.element.getElementsByClassName($t.SHADED_REGION_CLASSNAME).length;){var d=o.element.getElementsByClassName($t.SHADED_REGION_CLASSNAME)[0];o.element.removeChild(d)}};return new Promise(function(d,x){var m=function(){o.localMediaStream=null,o.element&&(o.element.removeChild(o.videoElement),o.element.removeChild(o.canvasElement)),f(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),l.execute(),o.hidePausedState(),o.isScanning=!1,d()};o.localMediaStream||m();var b=o.localMediaStream.getVideoTracks().length,I=0;o.localMediaStream.getVideoTracks().forEach(function(y){o.localMediaStream.removeTrack(y),y.stop(),++I,I>=b&&m()})})},r.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(f){return f.decodedText})},r.prototype.scanFileV2=function(o,l){var f=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(po(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,x){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(o);var m=new Image;m.onload=function(){var b=m.width,I=m.height,y=document.getElementById(f.elementId),N=y.clientWidth?y.clientWidth:$t.DEFAULT_WIDTH,G=Math.max(y.clientHeight?y.clientHeight:I,$t.FILE_SCAN_MIN_HEIGHT),U=f.computeCanvasDrawConfig(b,I,N,G);if(l){var oe=f.createCanvasElement(N,G,"qr-canvas-visible");oe.style.display="inline-block",y.appendChild(oe);var J=oe.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=N,J.canvas.height=G,J.drawImage(m,0,0,b,I,U.x,U.y,U.width,U.height)}var Oe=f.createCanvasElement(U.width,U.height);y.appendChild(Oe);var de=Oe.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=U.width,de.canvas.height=U.height,de.drawImage(m,0,0,b,I,0,0,U.width,U.height);try{f.qrcode.decodeAsync(Oe).then(function(le){d(_l.createFromQrcodeResult(le))}).catch(x)}catch(le){x("QR code parse error, error = "+le)}},m.onerror=x,m.onabort=x,m.onstalled=x,m.onsuspend=x,m.src=URL.createObjectURL(o)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var o=MediaStreamTrack;if(MediaStreamTrack&&o.getSources)return r.getCamerasFromMediaStreamTrack();var l=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},f=li.unableToQuerySupportedDevices();return l()||(f=li.insecureContextCameraQueryError()),Promise.reject(f)},r.prototype.getRunningTrackCapabilities=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var o=this.localMediaStream.getVideoTracks()[0];return o.getCapabilities()},r.prototype.applyVideoConstraints=function(o){var l=this;if(o){if(!Ol.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(this.localMediaStream===null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";return new Promise(function(f,d){if("aspectRatio"in o){d("Chaning 'aspectRatio' in run-time is not yet supported.");return}var x=l.localMediaStream.getVideoTracks()[0];x.applyConstraints(o).then(function(m){f(m)}).catch(function(m){d(m)})})},r.getCamerasFromMediaDevices=function(){return new Promise(function(o,l){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(f){var d=function(x){for(var m=x.getVideoTracks(),b=0,I=m;b<I.length;b++){var y=I[b];y.enabled=!1,y.stop(),x.removeTrack(y)}};navigator.mediaDevices.enumerateDevices().then(function(x){for(var m=[],b=0,I=x;b<I.length;b++){var y=I[b];y.kind==="videoinput"&&m.push({id:y.deviceId,label:y.label})}d(f),o(m)}).catch(function(x){l(x.name+" : "+x.message)})}).catch(function(f){l(f.name+" : "+f.message)})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var f=function(x){for(var m=[],b=0,I=x;b<I.length;b++){var y=I[b];y.kind==="video"&&m.push({id:y.id,label:y.label})}o(m)},d=MediaStreamTrack;d.getSources(f)})},r.prototype.getSupportedFormats=function(o){var l=[te.QR_CODE,te.AZTEC,te.CODABAR,te.CODE_39,te.CODE_93,te.CODE_128,te.DATA_MATRIX,te.MAXICODE,te.ITF,te.EAN_13,te.EAN_8,te.PDF_417,te.RSS_14,te.RSS_EXPANDED,te.UPC_A,te.UPC_E,te.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],d=0,x=o.formatsToSupport;d<x.length;d++){var m=x[d];Nu(m)?f.push(m):this.logger.warn("Invalid format: "+m+" passed in config, ignoring.")}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},r.prototype.validateQrboxSize=function(o,l){var f=o.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(f),x=function(b){if(b<$t.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+(" "+$t.MIN_QR_BOX_SIZE+"px.")},m=function(b){if(b>l)throw"'config.qrbox' dimensions values should not be greater than the width of the HTML element."};x(d.width),x(d.height),m(d.width)},r.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'."},r.prototype.toQrdimensions=function(o){return typeof o=="number"?{width:o,height:o}:o},r.prototype.setupUi=function(o,l,f){var d=f.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(d);x.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=f.isShadedBoxEnabled()&&x.height<=l,b={x:0,y:0,width:o,height:l},I=m?this.getShadedRegionBounds(o,l,x):b,y=this.createCanvasElement(I.width,I.height),N=y.getContext("2d");N.canvas.width=I.width,N.canvas.height=I.height,this.element.append(y),m&&this.possiblyInsertShadingElement(this.element,o,l,x),this.createScannerPausedUiElement(this.element),this.qrRegion=I,this.context=N,this.canvasElement=y},r.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText="Scanner paused",l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="yellow",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(o,l){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return o(d.text,_l.createFromQrcodeResult(d)),f.possiblyUpdateShaders(!0),!0}).catch(function(d){f.possiblyUpdateShaders(!1);var x=li.codeParseError(d);return l(x,Mu.createFrom(x)),!1})},r.prototype.foreverScan=function(o,l,f){var d=this;if(!!this.shouldScan&&!!this.localMediaStream){var x=this.videoElement,m=x.videoWidth/x.clientWidth,b=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var I=this.qrRegion.width*m,y=this.qrRegion.height*b,N=this.qrRegion.x*m,G=this.qrRegion.y*b;this.context.drawImage(x,N,G,I,y,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(o,l,f)},d.getTimeoutFps(o.fps))};this.scanContext(l,f).then(function(oe){!oe&&o.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(l,f).finally(function(){U()})):U()}).catch(function(oe){d.logger.logError("Error happend while scanning context",oe),U()})}},r.prototype.onMediaStreamReceived=function(o,l,f,d,x,m){var b=this,I=this;return new Promise(function(y,N){var G=function(){var J=b.createVideoElement(d);I.element.append(J),J.onabort=N,J.onerror=N,J.onplaying=function(){var Oe=J.clientWidth,de=J.clientHeight;I.setupUi(Oe,de,l),I.foreverScan(l,x,m),y(null)},J.srcObject=o,J.play(),I.videoElement=J};if(I.localMediaStream=o,f||!l.aspectRatio)G();else{var U={aspectRatio:l.aspectRatio},oe=o.getVideoTracks()[0];oe.applyConstraints(U).then(function(J){return G()}).catch(function(J){I.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",J]),G()})}})},r.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",f="deviceId",d={user:!0,environment:!0},x="exact",m=function(J){if(J in d)return!0;throw"config has invalid 'facingMode' value = "+("'"+J+"'")},b=Object.keys(o);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+(" if passed as an object, found "+b.length+" keys");var I=Object.keys(o)[0];if(I!==l&&I!==f)throw"Only '"+l+"' and '"+f+"'  are supported for 'cameraIdOrConfig'";if(I===l){var y=o.facingMode;if(typeof y=="string"){if(m(y))return{facingMode:y}}else if(typeof y=="object")if(x in y){if(m(y[""+x]))return{facingMode:{exact:y[""+x]}}}else throw"'facingMode' should be string or object with"+(" "+x+" as key.");else{var N=typeof y;throw"Invalid type of 'facingMode' = "+N}}else{var G=o.deviceId;if(typeof G=="string")return{deviceId:G};if(typeof G=="object"){if(x in G)return{deviceId:{exact:G[""+x]}};throw"'deviceId' should be string or object with"+(" "+x+" as key.")}else{var U=typeof G;throw"Invalid type of 'deviceId' = "+U}}}var oe=typeof o;throw"Invalid type of 'cameraIdOrConfig' = "+oe},r.prototype.computeCanvasDrawConfig=function(o,l,f,d){if(o<=f&&l<=d){var x=(f-o)/2,m=(d-l)/2;return{x,y:m,width:o,height:l}}else{var b=o,I=l;return o>f&&(l=f/o*l,o=f),l>d&&(o=d/l*o,l=d),this.logger.log("Image downsampled from "+(b+"X"+I)+(" to "+o+"X"+l+".")),this.computeCanvasDrawConfig(o,l,f,d)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},r.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width=o+"px",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?$t.BORDER_SHADER_MATCH_COLOR:$t.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(o,l,f){var d=o,x=l,m=document.createElement("canvas");return m.style.width=d+"px",m.style.height=x+"px",m.style.display="none",m.id=po(f)?"qr-canvas":f,m},r.prototype.getShadedRegionBounds=function(o,l,f){if(f.width>o||f.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-f.width)/2,y:(l-f.height)/2,width:f.width,height:f.height}},r.prototype.possiblyInsertShadingElement=function(o,l,f,d){if(!(l-d.width<1||f-d.height<1)){var x=document.createElement("div");x.style.position="absolute";var m=(l-d.width)/2,b=(f-d.height)/2;if(x.style.borderLeft=m+"px solid #0000007a",x.style.borderRight=m+"px solid #0000007a",x.style.borderTop=b+"px solid #0000007a",x.style.borderBottom=b+"px solid #0000007a",x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id=""+$t.SHADED_REGION_CLASSNAME,l-d.width<11||f-d.height<11)this.hasBorderShaders=!1;else{var I=5,y=40;this.insertShaderBorders(x,y,I,-I,0,!0),this.insertShaderBorders(x,y,I,-I,0,!1),this.insertShaderBorders(x,y,I,d.height+I,0,!0),this.insertShaderBorders(x,y,I,d.height+I,0,!1),this.insertShaderBorders(x,I,y+I,-I,-I,!0),this.insertShaderBorders(x,I,y+I,d.height+I-y,-I,!0),this.insertShaderBorders(x,I,y+I,-I,-I,!1),this.insertShaderBorders(x,I,y+I,d.height+I-y,-I,!1),this.hasBorderShaders=!0}o.append(x)}},r.prototype.insertShaderBorders=function(o,l,f,d,x,m){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=$t.BORDER_SHADER_DEFAULT_COLOR,b.style.width=l+"px",b.style.height=f+"px",b.style.top=d+"px",m?b.style.left=x+"px":b.style.right=x+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),o.appendChild(b)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(o){return 1e3/o},r}(),Rl;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Rl||(Rl={}));const Pr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ml="SweetAlert2:",zu=r=>{const o=[];for(let l=0;l<r.length;l++)o.indexOf(r[l])===-1&&o.push(r[l]);return o},Dl=r=>r.charAt(0).toUpperCase()+r.slice(1),an=r=>Array.prototype.slice.call(r),jt=r=>{console.warn(`${Ml} ${typeof r=="object"?r.join(" "):r}`)},Lr=r=>{console.error(`${Ml} ${r}`)},Bl=[],ju=r=>{Bl.includes(r)||(Bl.push(r),jt(r))},Zu=(r,o)=>{ju(`"${r}" is deprecated and will be removed in the next major release. Please use "${o}" instead.`)},Ao=r=>typeof r=="function"?r():r,mo=r=>r&&typeof r.toPromise=="function",ui=r=>mo(r)?r.toPromise():Promise.resolve(r),Co=r=>r&&Promise.resolve(r)===r,Ku=r=>typeof r=="object"&&r.jquery,vl=r=>r instanceof Element||Ku(r),qu=r=>{const o={};return typeof r[0]=="object"&&!vl(r[0])?Object.assign(o,r[0]):["title","html","icon"].forEach((l,f)=>{const d=r[f];typeof d=="string"||vl(d)?o[l]=d:d!==void 0&&Lr(`Unexpected type of ${l}! Expected "string" or "Element", got ${typeof d}`)}),o},Qu="swal2-",Pl=r=>{const o={};for(const l in r)o[r[l]]=Qu+r[l];return o},k=Pl(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),fi=Pl(["success","warning","info","question","error"]),Bt=()=>document.body.querySelector(`.${k.container}`),hi=r=>{const o=Bt();return o?o.querySelector(r):null},ln=r=>hi(`.${r}`),Ke=()=>ln(k.popup),di=()=>ln(k.icon),Ll=()=>ln(k.title),$i=()=>ln(k["html-container"]),Fl=()=>ln(k.image),kl=()=>ln(k["progress-steps"]),es=()=>ln(k["validation-message"]),dn=()=>hi(`.${k.actions} .${k.confirm}`),zn=()=>hi(`.${k.actions} .${k.deny}`),Ju=()=>ln(k["input-label"]),Fr=()=>hi(`.${k.loader}`),lr=()=>hi(`.${k.actions} .${k.cancel}`),ts=()=>ln(k.actions),Ul=()=>ln(k.footer),ns=()=>ln(k["timer-progress-bar"]),Eo=()=>ln(k.close),$u=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,bo=()=>{const r=an(Ke().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((l,f)=>(l=parseInt(l.getAttribute("tabindex")),f=parseInt(f.getAttribute("tabindex")),l>f?1:l<f?-1:0)),o=an(Ke().querySelectorAll($u)).filter(l=>l.getAttribute("tabindex")!=="-1");return zu(r.concat(o)).filter(l=>cn(l))},Io=()=>!gi()&&!document.body.classList.contains(k["no-backdrop"]),gi=()=>document.body.classList.contains(k["toast-shown"]),ef=()=>Ke().hasAttribute("data-loading"),kr={previousBodyPadding:null},vt=(r,o)=>{if(r.textContent="",o){const f=new DOMParser().parseFromString(o,"text/html");an(f.querySelector("head").childNodes).forEach(d=>{r.appendChild(d)}),an(f.querySelector("body").childNodes).forEach(d=>{r.appendChild(d)})}},xi=(r,o)=>{if(!o)return!1;const l=o.split(/\s+/);for(let f=0;f<l.length;f++)if(!r.classList.contains(l[f]))return!1;return!0},tf=(r,o)=>{an(r.classList).forEach(l=>{!Object.values(k).includes(l)&&!Object.values(fi).includes(l)&&!Object.values(o.showClass).includes(l)&&r.classList.remove(l)})},gn=(r,o,l)=>{if(tf(r,o),o.customClass&&o.customClass[l]){if(typeof o.customClass[l]!="string"&&!o.customClass[l].forEach)return jt(`Invalid type of customClass.${l}! Expected string or iterable object, got "${typeof o.customClass[l]}"`);Le(r,o.customClass[l])}},yo=(r,o)=>{if(!o)return null;switch(o){case"select":case"textarea":case"file":return On(r,k[o]);case"checkbox":return r.querySelector(`.${k.checkbox} input`);case"radio":return r.querySelector(`.${k.radio} input:checked`)||r.querySelector(`.${k.radio} input:first-child`);case"range":return r.querySelector(`.${k.range} input`);default:return On(r,k.input)}},Vl=r=>{if(r.focus(),r.type!=="file"){const o=r.value;r.value="",r.value=o}},Hl=(r,o,l)=>{!r||!o||(typeof o=="string"&&(o=o.split(/\s+/).filter(Boolean)),o.forEach(f=>{r.forEach?r.forEach(d=>{l?d.classList.add(f):d.classList.remove(f)}):l?r.classList.add(f):r.classList.remove(f)}))},Le=(r,o)=>{Hl(r,o,!0)},_n=(r,o)=>{Hl(r,o,!1)},On=(r,o)=>{for(let l=0;l<r.childNodes.length;l++)if(xi(r.childNodes[l],o))return r.childNodes[l]},wi=(r,o,l)=>{l===`${parseInt(l)}`&&(l=parseInt(l)),l||parseInt(l)===0?r.style[o]=typeof l=="number"?`${l}px`:l:r.style.removeProperty(o)},_t=(r,o="flex")=>{r.style.display=o},Pt=r=>{r.style.display="none"},Wl=(r,o,l,f)=>{const d=r.querySelector(o);d&&(d.style[l]=f)},rs=(r,o,l)=>{o?_t(r,l):Pt(r)},cn=r=>!!(r&&(r.offsetWidth||r.offsetHeight||r.getClientRects().length)),nf=()=>!cn(dn())&&!cn(zn())&&!cn(lr()),Xl=r=>r.scrollHeight>r.clientHeight,Gl=r=>{const o=window.getComputedStyle(r),l=parseFloat(o.getPropertyValue("animation-duration")||"0"),f=parseFloat(o.getPropertyValue("transition-duration")||"0");return l>0||f>0},To=(r,o=!1)=>{const l=ns();cn(l)&&(o&&(l.style.transition="none",l.style.width="100%"),setTimeout(()=>{l.style.transition=`width ${r/1e3}s linear`,l.style.width="0%"},10))},rf=()=>{const r=ns(),o=parseInt(window.getComputedStyle(r).width);r.style.removeProperty("transition"),r.style.width="100%";const l=parseInt(window.getComputedStyle(r).width),f=parseInt(o/l*100);r.style.removeProperty("transition"),r.style.width=`${f}%`},Yl=()=>typeof window=="undefined"||typeof document=="undefined",sf=`
 <div aria-labelledby="${k.title}" aria-describedby="${k["html-container"]}" class="${k.popup}" tabindex="-1">
   <button type="button" class="${k.close}"></button>
   <ul class="${k["progress-steps"]}"></ul>
   <div class="${k.icon}"></div>
   <img class="${k.image}" />
   <h2 class="${k.title}" id="${k.title}"></h2>
   <div class="${k["html-container"]}" id="${k["html-container"]}"></div>
   <input class="${k.input}" />
   <input type="file" class="${k.file}" />
   <div class="${k.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${k.select}"></select>
   <div class="${k.radio}"></div>
   <label for="${k.checkbox}" class="${k.checkbox}">
     <input type="checkbox" />
     <span class="${k.label}"></span>
   </label>
   <textarea class="${k.textarea}"></textarea>
   <div class="${k["validation-message"]}" id="${k["validation-message"]}"></div>
   <div class="${k.actions}">
     <div class="${k.loader}"></div>
     <button type="button" class="${k.confirm}"></button>
     <button type="button" class="${k.deny}"></button>
     <button type="button" class="${k.cancel}"></button>
   </div>
   <div class="${k.footer}"></div>
   <div class="${k["timer-progress-bar-container"]}">
     <div class="${k["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),of=()=>{const r=Bt();return r?(r.remove(),_n([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0):!1},cr=()=>{Wr.isVisible()&&Wr.resetValidationMessage()},af=()=>{const r=Ke(),o=On(r,k.input),l=On(r,k.file),f=r.querySelector(`.${k.range} input`),d=r.querySelector(`.${k.range} output`),x=On(r,k.select),m=r.querySelector(`.${k.checkbox} input`),b=On(r,k.textarea);o.oninput=cr,l.onchange=cr,x.onchange=cr,m.onchange=cr,b.oninput=cr,f.oninput=()=>{cr(),d.value=f.value},f.onchange=()=>{cr(),f.nextSibling.value=f.value}},lf=r=>typeof r=="string"?document.querySelector(r):r,cf=r=>{const o=Ke();o.setAttribute("role",r.toast?"alert":"dialog"),o.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||o.setAttribute("aria-modal","true")},uf=r=>{window.getComputedStyle(r).direction==="rtl"&&Le(Bt(),k.rtl)},ff=r=>{const o=of();if(Yl()){Lr("SweetAlert2 requires document to initialize");return}const l=document.createElement("div");l.className=k.container,o&&Le(l,k["no-transition"]),vt(l,sf);const f=lf(r.target);f.appendChild(l),cf(r),uf(f),af()},So=(r,o)=>{r instanceof HTMLElement?o.appendChild(r):typeof r=="object"?hf(r,o):r&&vt(o,r)},hf=(r,o)=>{r.jquery?df(o,r):vt(o,r.toString())},df=(r,o)=>{if(r.textContent="",0 in o)for(let l=0;l in o;l++)r.appendChild(o[l].cloneNode(!0));else r.appendChild(o.cloneNode(!0))},pi=(()=>{if(Yl())return!1;const r=document.createElement("div"),o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)&&typeof r.style[l]!="undefined")return o[l];return!1})(),gf=()=>{const r=document.createElement("div");r.className=k["scrollbar-measure"],document.body.appendChild(r);const o=r.getBoundingClientRect().width-r.clientWidth;return document.body.removeChild(r),o},xf=(r,o)=>{const l=ts(),f=Fr(),d=dn(),x=zn(),m=lr();!o.showConfirmButton&&!o.showDenyButton&&!o.showCancelButton?Pt(l):_t(l),gn(l,o,"actions"),_o(d,"confirm",o),_o(x,"deny",o),_o(m,"cancel",o),wf(d,x,m,o),o.reverseButtons&&(l.insertBefore(m,f),l.insertBefore(x,f),l.insertBefore(d,f)),vt(f,o.loaderHtml),gn(f,o,"loader")};function wf(r,o,l,f){if(!f.buttonsStyling)return _n([r,o,l],k.styled);Le([r,o,l],k.styled),f.confirmButtonColor&&(r.style.backgroundColor=f.confirmButtonColor,Le(r,k["default-outline"])),f.denyButtonColor&&(o.style.backgroundColor=f.denyButtonColor,Le(o,k["default-outline"])),f.cancelButtonColor&&(l.style.backgroundColor=f.cancelButtonColor,Le(l,k["default-outline"]))}function _o(r,o,l){rs(r,l[`show${Dl(o)}Button`],"inline-block"),vt(r,l[`${o}ButtonText`]),r.setAttribute("aria-label",l[`${o}ButtonAriaLabel`]),r.className=k[o],gn(r,l,`${o}Button`),Le(r,l[`${o}ButtonClass`])}function pf(r,o){typeof o=="string"?r.style.background=o:o||Le([document.documentElement,document.body],k["no-backdrop"])}function Af(r,o){o in k?Le(r,k[o]):(jt('The "position" parameter is not valid, defaulting to "center"'),Le(r,k.center))}function mf(r,o){if(o&&typeof o=="string"){const l=`grow-${o}`;l in k&&Le(r,k[l])}}const Cf=(r,o)=>{const l=Bt();!l||(pf(l,o.backdrop),Af(l,o.position),mf(l,o.grow),gn(l,o,"container"))};var Se={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ef=["input","file","range","select","radio","checkbox","textarea"],bf=(r,o)=>{const l=Ke(),f=Se.innerParams.get(r),d=!f||o.input!==f.input;Ef.forEach(x=>{const m=k[x],b=On(l,m);Tf(x,o.inputAttributes),b.className=m,d&&Pt(b)}),o.input&&(d&&If(o),Sf(o))},If=r=>{if(!Zt[r.input])return Lr(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${r.input}"`);const o=zl(r.input),l=Zt[r.input](o,r);_t(l),setTimeout(()=>{Vl(l)})},yf=r=>{for(let o=0;o<r.attributes.length;o++){const l=r.attributes[o].name;["type","value","style"].includes(l)||r.removeAttribute(l)}},Tf=(r,o)=>{const l=yo(Ke(),r);if(!!l){yf(l);for(const f in o)l.setAttribute(f,o[f])}},Sf=r=>{const o=zl(r.input);r.customClass&&Le(o,r.customClass.input)},Oo=(r,o)=>{(!r.placeholder||o.inputPlaceholder)&&(r.placeholder=o.inputPlaceholder)},Ai=(r,o,l)=>{if(l.inputLabel){r.id=k.input;const f=document.createElement("label"),d=k["input-label"];f.setAttribute("for",r.id),f.className=d,Le(f,l.customClass.inputLabel),f.innerText=l.inputLabel,o.insertAdjacentElement("beforebegin",f)}},zl=r=>{const o=k[r]?k[r]:k.input;return On(Ke(),o)},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=(r,o)=>(typeof o.inputValue=="string"||typeof o.inputValue=="number"?r.value=o.inputValue:Co(o.inputValue)||jt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof o.inputValue}"`),Ai(r,r,o),Oo(r,o),r.type=o.input,r);Zt.file=(r,o)=>(Ai(r,r,o),Oo(r,o),r);Zt.range=(r,o)=>{const l=r.querySelector("input"),f=r.querySelector("output");return l.value=o.inputValue,l.type=o.input,f.value=o.inputValue,Ai(l,r,o),r};Zt.select=(r,o)=>{if(r.textContent="",o.inputPlaceholder){const l=document.createElement("option");vt(l,o.inputPlaceholder),l.value="",l.disabled=!0,l.selected=!0,r.appendChild(l)}return Ai(r,r,o),r};Zt.radio=r=>(r.textContent="",r);Zt.checkbox=(r,o)=>{const l=yo(Ke(),"checkbox");l.value=1,l.id=k.checkbox,l.checked=Boolean(o.inputValue);const f=r.querySelector("span");return vt(f,o.inputPlaceholder),r};Zt.textarea=(r,o)=>{r.value=o.inputValue,Oo(r,o),Ai(r,r,o);const l=f=>parseInt(window.getComputedStyle(f).marginLeft)+parseInt(window.getComputedStyle(f).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const f=parseInt(window.getComputedStyle(Ke()).width),d=()=>{const x=r.offsetWidth+l(r);x>f?Ke().style.width=`${x}px`:Ke().style.width=null};new MutationObserver(d).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const _f=(r,o)=>{const l=$i();gn(l,o,"htmlContainer"),o.html?(So(o.html,l),_t(l,"block")):o.text?(l.textContent=o.text,_t(l,"block")):Pt(l),bf(r,o)},Of=(r,o)=>{const l=Ul();rs(l,o.footer),o.footer&&So(o.footer,l),gn(l,o,"footer")},Nf=(r,o)=>{const l=Eo();vt(l,o.closeButtonHtml),gn(l,o,"closeButton"),rs(l,o.showCloseButton),l.setAttribute("aria-label",o.closeButtonAriaLabel)},Rf=(r,o)=>{const l=Se.innerParams.get(r),f=di();if(l&&o.icon===l.icon){Zl(f,o),jl(f,o);return}if(!o.icon&&!o.iconHtml)return Pt(f);if(o.icon&&Object.keys(fi).indexOf(o.icon)===-1)return Lr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${o.icon}"`),Pt(f);_t(f),Zl(f,o),jl(f,o),Le(f,o.showClass.icon)},jl=(r,o)=>{for(const l in fi)o.icon!==l&&_n(r,fi[l]);Le(r,fi[o.icon]),Df(r,o),Mf(),gn(r,o,"icon")},Mf=()=>{const r=Ke(),o=window.getComputedStyle(r).getPropertyValue("background-color"),l=r.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let f=0;f<l.length;f++)l[f].style.backgroundColor=o},Zl=(r,o)=>{r.textContent="",o.iconHtml?vt(r,Kl(o.iconHtml)):o.icon==="success"?vt(r,`
      <div class="swal2-success-circular-line-left"></div>
      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
      <div class="swal2-success-circular-line-right"></div>
    `):o.icon==="error"?vt(r,`
      <span class="swal2-x-mark">
        <span class="swal2-x-mark-line-left"></span>
        <span class="swal2-x-mark-line-right"></span>
      </span>
    `):vt(r,Kl({question:"?",warning:"!",info:"i"}[o.icon]))},Df=(r,o)=>{if(!!o.iconColor){r.style.color=o.iconColor,r.style.borderColor=o.iconColor;for(const l of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Wl(r,l,"backgroundColor",o.iconColor);Wl(r,".swal2-success-ring","borderColor",o.iconColor)}},Kl=r=>`<div class="${k["icon-content"]}">${r}</div>`,Bf=(r,o)=>{const l=Fl();if(!o.imageUrl)return Pt(l);_t(l,""),l.setAttribute("src",o.imageUrl),l.setAttribute("alt",o.imageAlt),wi(l,"width",o.imageWidth),wi(l,"height",o.imageHeight),l.className=k.image,gn(l,o,"image")},vf=r=>{const o=document.createElement("li");return Le(o,k["progress-step"]),vt(o,r),o},Pf=r=>{const o=document.createElement("li");return Le(o,k["progress-step-line"]),r.progressStepsDistance&&(o.style.width=r.progressStepsDistance),o},Lf=(r,o)=>{const l=kl();if(!o.progressSteps||o.progressSteps.length===0)return Pt(l);_t(l),l.textContent="",o.currentProgressStep>=o.progressSteps.length&&jt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.progressSteps.forEach((f,d)=>{const x=vf(f);if(l.appendChild(x),d===o.currentProgressStep&&Le(x,k["active-progress-step"]),d!==o.progressSteps.length-1){const m=Pf(o);l.appendChild(m)}})},Ff=(r,o)=>{const l=Ll();rs(l,o.title||o.titleText,"block"),o.title&&So(o.title,l),o.titleText&&(l.innerText=o.titleText),gn(l,o,"title")},kf=(r,o)=>{const l=Bt(),f=Ke();o.toast?(wi(l,"width",o.width),f.style.width="100%",f.insertBefore(Fr(),di())):wi(f,"width",o.width),wi(f,"padding",o.padding),o.background&&(f.style.background=o.background),Pt(es()),Uf(f,o)},Uf=(r,o)=>{r.className=`${k.popup} ${cn(r)?o.showClass.popup:""}`,o.toast?(Le([document.documentElement,document.body],k["toast-shown"]),Le(r,k.toast)):Le(r,k.modal),gn(r,o,"popup"),typeof o.customClass=="string"&&Le(r,o.customClass),o.icon&&Le(r,k[`icon-${o.icon}`])},ql=(r,o)=>{kf(r,o),Cf(r,o),Lf(r,o),Rf(r,o),Bf(r,o),Ff(r,o),Nf(r,o),_f(r,o),xf(r,o),Of(r,o),typeof o.didRender=="function"&&o.didRender(Ke())},Vf=()=>cn(Ke()),Ql=()=>dn()&&dn().click(),Hf=()=>zn()&&zn().click(),Wf=()=>lr()&&lr().click();function Xf(...r){const o=this;return new o(...r)}function Gf(r){class o extends this{_main(f,d){return super._main(f,Object.assign({},r,d))}}return o}const Ur=r=>{let o=Ke();o||Wr.fire(),o=Ke();const l=Fr();gi()?Pt(di()):Yf(o,r),_t(l),o.setAttribute("data-loading",!0),o.setAttribute("aria-busy",!0),o.focus()},Yf=(r,o)=>{const l=ts(),f=Fr();!o&&cn(dn())&&(o=dn()),_t(l),o&&(Pt(o),f.setAttribute("data-button-to-replace",o.className)),f.parentNode.insertBefore(f,o),Le([r,l],k.loading)},zf=100,Ae={},jf=()=>{Ae.previousActiveElement&&Ae.previousActiveElement.focus?(Ae.previousActiveElement.focus(),Ae.previousActiveElement=null):document.body&&document.body.focus()},Zf=r=>new Promise(o=>{if(!r)return o();const l=window.scrollX,f=window.scrollY;Ae.restoreFocusTimeout=setTimeout(()=>{jf(),o()},zf),window.scrollTo(l,f)}),Kf=()=>Ae.timeout&&Ae.timeout.getTimerLeft(),Jl=()=>{if(Ae.timeout)return rf(),Ae.timeout.stop()},$l=()=>{if(Ae.timeout){const r=Ae.timeout.start();return To(r),r}},qf=()=>{const r=Ae.timeout;return r&&(r.running?Jl():$l())},Qf=r=>{if(Ae.timeout){const o=Ae.timeout.increase(r);return To(o,!0),o}},Jf=()=>Ae.timeout&&Ae.timeout.isRunning();let ec=!1;const No={};function $f(r="data-swal-template"){No[r]=this,ec||(document.body.addEventListener("click",eh),ec=!0)}const eh=r=>{for(let o=r.target;o&&o!==document;o=o.parentNode)for(const l in No){const f=o.getAttribute(l);if(f){No[l].fire({template:f});return}}},Vr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},th=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],nh={},rh=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tc=r=>Object.prototype.hasOwnProperty.call(Vr,r),ih=r=>th.indexOf(r)!==-1,Ro=r=>nh[r],sh=r=>{tc(r)||jt(`Unknown parameter "${r}"`)},oh=r=>{rh.includes(r)&&jt(`The parameter "${r}" is incompatible with toasts`)},ah=r=>{Ro(r)&&Zu(r,Ro(r))},lh=r=>{!r.backdrop&&r.allowOutsideClick&&jt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const o in r)sh(o),r.toast&&oh(o),ah(o)};var ch=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isValidParameter:tc,isUpdatableParameter:ih,isDeprecatedParameter:Ro,argsToParams:qu,getContainer:Bt,getPopup:Ke,getTitle:Ll,getHtmlContainer:$i,getImage:Fl,getIcon:di,getInputLabel:Ju,getCloseButton:Eo,getActions:ts,getConfirmButton:dn,getDenyButton:zn,getCancelButton:lr,getLoader:Fr,getFooter:Ul,getTimerProgressBar:ns,getFocusableElements:bo,getValidationMessage:es,isLoading:ef,isVisible:Vf,clickConfirm:Ql,clickDeny:Hf,clickCancel:Wf,fire:Xf,mixin:Gf,showLoading:Ur,enableLoading:Ur,getTimerLeft:Kf,stopTimer:Jl,resumeTimer:$l,toggleTimer:qf,increaseTimer:Qf,isTimerRunning:Jf,bindClickHandler:$f});function nc(){const r=Se.innerParams.get(this);if(!r)return;const o=Se.domCache.get(this);Pt(o.loader),gi()?r.icon&&_t(di()):uh(o),_n([o.popup,o.actions],k.loading),o.popup.removeAttribute("aria-busy"),o.popup.removeAttribute("data-loading"),o.confirmButton.disabled=!1,o.denyButton.disabled=!1,o.cancelButton.disabled=!1}const uh=r=>{const o=r.popup.getElementsByClassName(r.loader.getAttribute("data-button-to-replace"));o.length?_t(o[0],"inline-block"):nf()&&Pt(r.actions)};function fh(r){const o=Se.innerParams.get(r||this),l=Se.domCache.get(r||this);return l?yo(l.popup,o.input):null}const hh=()=>{kr.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(kr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${kr.previousBodyPadding+gf()}px`)},dh=()=>{kr.previousBodyPadding!==null&&(document.body.style.paddingRight=`${kr.previousBodyPadding}px`,kr.previousBodyPadding=null)},gh=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!xi(document.body,k.iosfix)){const o=document.body.scrollTop;document.body.style.top=`${o*-1}px`,Le(document.body,k.iosfix),wh(),xh()}},xh=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const o=44;Ke().scrollHeight>window.innerHeight-o&&(Bt().style.paddingBottom=`${o}px`)}},wh=()=>{const r=Bt();let o;r.ontouchstart=l=>{o=ph(l)},r.ontouchmove=l=>{o&&(l.preventDefault(),l.stopPropagation())}},ph=r=>{const o=r.target,l=Bt();return Ah(r)||mh(r)?!1:o===l||!Xl(l)&&o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!(Xl($i())&&$i().contains(o))},Ah=r=>r.touches&&r.touches.length&&r.touches[0].touchType==="stylus",mh=r=>r.touches&&r.touches.length>1,Ch=()=>{if(xi(document.body,k.iosfix)){const r=parseInt(document.body.style.top,10);_n(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=r*-1}},Eh=()=>{an(document.body.children).forEach(o=>{o===Bt()||o.contains(Bt())||(o.hasAttribute("aria-hidden")&&o.setAttribute("data-previous-aria-hidden",o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))})},rc=()=>{an(document.body.children).forEach(o=>{o.hasAttribute("data-previous-aria-hidden")?(o.setAttribute("aria-hidden",o.getAttribute("data-previous-aria-hidden")),o.removeAttribute("data-previous-aria-hidden")):o.removeAttribute("aria-hidden")})};var mi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function ic(r,o,l,f){gi()?oc(r,f):(Zf(l).then(()=>oc(r,f)),Ae.keydownTarget.removeEventListener("keydown",Ae.keydownHandler,{capture:Ae.keydownListenerCapture}),Ae.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(o.setAttribute("style","display:none !important"),o.removeAttribute("class"),o.innerHTML=""):o.remove(),Io()&&(dh(),Ch(),rc()),bh()}function bh(){_n([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function is(r){r=Sh(r);const o=mi.swalPromiseResolve.get(this),l=yh(this);this.isAwaitingPromise()?r.isDismissed||(sc(this),o(r)):l&&o(r)}function Ih(){return!!Se.awaitingPromise.get(this)}const yh=r=>{const o=Ke();if(!o)return!1;const l=Se.innerParams.get(r);if(!l||xi(o,l.hideClass.popup))return!1;_n(o,l.showClass.popup),Le(o,l.hideClass.popup);const f=Bt();return _n(f,l.showClass.backdrop),Le(f,l.hideClass.backdrop),_h(r,o,l),!0};function Th(r){const o=mi.swalPromiseReject.get(this);sc(this),o&&o(r)}const sc=r=>{r.isAwaitingPromise()&&(Se.awaitingPromise.delete(r),Se.innerParams.get(r)||r._destroy())},Sh=r=>typeof r=="undefined"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},r),_h=(r,o,l)=>{const f=Bt(),d=pi&&Gl(o);typeof l.willClose=="function"&&l.willClose(o),d?Oh(r,o,f,l.returnFocus,l.didClose):ic(r,f,l.returnFocus,l.didClose)},Oh=(r,o,l,f,d)=>{Ae.swalCloseEventFinishedCallback=ic.bind(null,r,l,f,d),o.addEventListener(pi,function(x){x.target===o&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback)})},oc=(r,o)=>{setTimeout(()=>{typeof o=="function"&&o.bind(r.params)(),r._destroy()})};function ac(r,o,l){const f=Se.domCache.get(r);o.forEach(d=>{f[d].disabled=l})}function lc(r,o){if(!r)return!1;if(r.type==="radio"){const f=r.parentNode.parentNode.querySelectorAll("input");for(let d=0;d<f.length;d++)f[d].disabled=o}else r.disabled=o}function Nh(){ac(this,["confirmButton","denyButton","cancelButton"],!1)}function Rh(){ac(this,["confirmButton","denyButton","cancelButton"],!0)}function Mh(){return lc(this.getInput(),!1)}function Dh(){return lc(this.getInput(),!0)}function Bh(r){const o=Se.domCache.get(this),l=Se.innerParams.get(this);vt(o.validationMessage,r),o.validationMessage.className=k["validation-message"],l.customClass&&l.customClass.validationMessage&&Le(o.validationMessage,l.customClass.validationMessage),_t(o.validationMessage);const f=this.getInput();f&&(f.setAttribute("aria-invalid",!0),f.setAttribute("aria-describedby",k["validation-message"]),Vl(f),Le(f,k.inputerror))}function vh(){const r=Se.domCache.get(this);r.validationMessage&&Pt(r.validationMessage);const o=this.getInput();o&&(o.removeAttribute("aria-invalid"),o.removeAttribute("aria-describedby"),_n(o,k.inputerror))}function Ph(){return Se.domCache.get(this).progressSteps}class Lh{constructor(o,l){this.callback=o,this.remaining=l,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(o){const l=this.running;return l&&this.stop(),this.remaining+=o,l&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var cc={email:(r,o)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(r)?Promise.resolve():Promise.resolve(o||"Invalid email address"),url:(r,o)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(r)?Promise.resolve():Promise.resolve(o||"Invalid URL")};function Fh(r){r.inputValidator||Object.keys(cc).forEach(o=>{r.input===o&&(r.inputValidator=cc[o])})}function kh(r){(!r.target||typeof r.target=="string"&&!document.querySelector(r.target)||typeof r.target!="string"&&!r.target.appendChild)&&(jt('Target parameter is not valid, defaulting to "body"'),r.target="body")}function Uh(r){Fh(r),r.showLoaderOnConfirm&&!r.preConfirm&&jt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),kh(r),typeof r.title=="string"&&(r.title=r.title.split(`
`).join("<br />")),ff(r)}const uc=["swal-title","swal-html","swal-footer"],Vh=r=>{const o=typeof r.template=="string"?document.querySelector(r.template):r.template;if(!o)return{};const l=o.content;return jh(l),Object.assign(Hh(l),Wh(l),Xh(l),Gh(l),Yh(l),zh(l,uc))},Hh=r=>{const o={};return an(r.querySelectorAll("swal-param")).forEach(l=>{ur(l,["name","value"]);const f=l.getAttribute("name");let d=l.getAttribute("value");typeof Vr[f]=="boolean"&&d==="false"&&(d=!1),typeof Vr[f]=="object"&&(d=JSON.parse(d)),o[f]=d}),o},Wh=r=>{const o={};return an(r.querySelectorAll("swal-button")).forEach(l=>{ur(l,["type","color","aria-label"]);const f=l.getAttribute("type");o[`${f}ButtonText`]=l.innerHTML,o[`show${Dl(f)}Button`]=!0,l.hasAttribute("color")&&(o[`${f}ButtonColor`]=l.getAttribute("color")),l.hasAttribute("aria-label")&&(o[`${f}ButtonAriaLabel`]=l.getAttribute("aria-label"))}),o},Xh=r=>{const o={},l=r.querySelector("swal-image");return l&&(ur(l,["src","width","height","alt"]),l.hasAttribute("src")&&(o.imageUrl=l.getAttribute("src")),l.hasAttribute("width")&&(o.imageWidth=l.getAttribute("width")),l.hasAttribute("height")&&(o.imageHeight=l.getAttribute("height")),l.hasAttribute("alt")&&(o.imageAlt=l.getAttribute("alt"))),o},Gh=r=>{const o={},l=r.querySelector("swal-icon");return l&&(ur(l,["type","color"]),l.hasAttribute("type")&&(o.icon=l.getAttribute("type")),l.hasAttribute("color")&&(o.iconColor=l.getAttribute("color")),o.iconHtml=l.innerHTML),o},Yh=r=>{const o={},l=r.querySelector("swal-input");l&&(ur(l,["type","label","placeholder","value"]),o.input=l.getAttribute("type")||"text",l.hasAttribute("label")&&(o.inputLabel=l.getAttribute("label")),l.hasAttribute("placeholder")&&(o.inputPlaceholder=l.getAttribute("placeholder")),l.hasAttribute("value")&&(o.inputValue=l.getAttribute("value")));const f=r.querySelectorAll("swal-input-option");return f.length&&(o.inputOptions={},an(f).forEach(d=>{ur(d,["value"]);const x=d.getAttribute("value"),m=d.innerHTML;o.inputOptions[x]=m})),o},zh=(r,o)=>{const l={};for(const f in o){const d=o[f],x=r.querySelector(d);x&&(ur(x,[]),l[d.replace(/^swal-/,"")]=x.innerHTML.trim())}return l},jh=r=>{const o=uc.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);an(r.children).forEach(l=>{const f=l.tagName.toLowerCase();o.indexOf(f)===-1&&jt(`Unrecognized element <${f}>`)})},ur=(r,o)=>{an(r.attributes).forEach(l=>{o.indexOf(l.name)===-1&&jt([`Unrecognized attribute "${l.name}" on <${r.tagName.toLowerCase()}>.`,`${o.length?`Allowed attributes are: ${o.join(", ")}`:"To set the value, use HTML within the element."}`])})},fc=10,Zh=r=>{const o=Bt(),l=Ke();typeof r.willOpen=="function"&&r.willOpen(l);const d=window.getComputedStyle(document.body).overflowY;Qh(o,l,r),setTimeout(()=>{Kh(o,l)},fc),Io()&&(qh(o,r.scrollbarPadding,d),Eh()),!gi()&&!Ae.previousActiveElement&&(Ae.previousActiveElement=document.activeElement),typeof r.didOpen=="function"&&setTimeout(()=>r.didOpen(l)),_n(o,k["no-transition"])},hc=r=>{const o=Ke();if(r.target!==o)return;const l=Bt();o.removeEventListener(pi,hc),l.style.overflowY="auto"},Kh=(r,o)=>{pi&&Gl(o)?(r.style.overflowY="hidden",o.addEventListener(pi,hc)):r.style.overflowY="auto"},qh=(r,o,l)=>{gh(),o&&l!=="hidden"&&hh(),setTimeout(()=>{r.scrollTop=0})},Qh=(r,o,l)=>{Le(r,l.showClass.backdrop),o.style.setProperty("opacity","0","important"),_t(o,"grid"),setTimeout(()=>{Le(o,l.showClass.popup),o.style.removeProperty("opacity")},fc),Le([document.documentElement,document.body],k.shown),l.heightAuto&&l.backdrop&&!l.toast&&Le([document.documentElement,document.body],k["height-auto"])},Jh=(r,o)=>{o.input==="select"||o.input==="radio"?rd(r,o):["text","email","number","tel","textarea"].includes(o.input)&&(mo(o.inputValue)||Co(o.inputValue))&&(Ur(dn()),id(r,o))},$h=(r,o)=>{const l=r.getInput();if(!l)return null;switch(o.input){case"checkbox":return ed(l);case"radio":return td(l);case"file":return nd(l);default:return o.inputAutoTrim?l.value.trim():l.value}},ed=r=>r.checked?1:0,td=r=>r.checked?r.value:null,nd=r=>r.files.length?r.getAttribute("multiple")!==null?r.files:r.files[0]:null,rd=(r,o)=>{const l=Ke(),f=d=>sd[o.input](l,Mo(d),o);mo(o.inputOptions)||Co(o.inputOptions)?(Ur(dn()),ui(o.inputOptions).then(d=>{r.hideLoading(),f(d)})):typeof o.inputOptions=="object"?f(o.inputOptions):Lr(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof o.inputOptions}`)},id=(r,o)=>{const l=r.getInput();Pt(l),ui(o.inputValue).then(f=>{l.value=o.input==="number"?parseFloat(f)||0:`${f}`,_t(l),l.focus(),r.hideLoading()}).catch(f=>{Lr(`Error in inputValue promise: ${f}`),l.value="",_t(l),l.focus(),r.hideLoading()})},sd={select:(r,o,l)=>{const f=On(r,k.select),d=(x,m,b)=>{const I=document.createElement("option");I.value=b,vt(I,m),I.selected=dc(b,l.inputValue),x.appendChild(I)};o.forEach(x=>{const m=x[0],b=x[1];if(Array.isArray(b)){const I=document.createElement("optgroup");I.label=m,I.disabled=!1,f.appendChild(I),b.forEach(y=>d(I,y[1],y[0]))}else d(f,b,m)}),f.focus()},radio:(r,o,l)=>{const f=On(r,k.radio);o.forEach(x=>{const m=x[0],b=x[1],I=document.createElement("input"),y=document.createElement("label");I.type="radio",I.name=k.radio,I.value=m,dc(m,l.inputValue)&&(I.checked=!0);const N=document.createElement("span");vt(N,b),N.className=k.label,y.appendChild(I),y.appendChild(N),f.appendChild(y)});const d=f.querySelectorAll("input");d.length&&d[0].focus()}},Mo=r=>{const o=[];return typeof Map!="undefined"&&r instanceof Map?r.forEach((l,f)=>{let d=l;typeof d=="object"&&(d=Mo(d)),o.push([f,d])}):Object.keys(r).forEach(l=>{let f=r[l];typeof f=="object"&&(f=Mo(f)),o.push([l,f])}),o},dc=(r,o)=>o&&o.toString()===r.toString(),od=r=>{const o=Se.innerParams.get(r);r.disableButtons(),o.input?gc(r,"confirm"):Bo(r,!0)},ad=r=>{const o=Se.innerParams.get(r);r.disableButtons(),o.returnInputValueOnDeny?gc(r,"deny"):Do(r,!1)},ld=(r,o)=>{r.disableButtons(),o(Pr.cancel)},gc=(r,o)=>{const l=Se.innerParams.get(r),f=$h(r,l);l.inputValidator?cd(r,f,o):r.getInput().checkValidity()?o==="deny"?Do(r,f):Bo(r,f):(r.enableButtons(),r.showValidationMessage(l.validationMessage))},cd=(r,o,l)=>{const f=Se.innerParams.get(r);r.disableInput(),Promise.resolve().then(()=>ui(f.inputValidator(o,f.validationMessage))).then(x=>{r.enableButtons(),r.enableInput(),x?r.showValidationMessage(x):l==="deny"?Do(r,o):Bo(r,o)})},Do=(r,o)=>{const l=Se.innerParams.get(r||globalThis);l.showLoaderOnDeny&&Ur(zn()),l.preDeny?(Se.awaitingPromise.set(r||globalThis,!0),Promise.resolve().then(()=>ui(l.preDeny(o,l.validationMessage))).then(d=>{d===!1?r.hideLoading():r.closePopup({isDenied:!0,value:typeof d=="undefined"?o:d})}).catch(d=>wc(r||globalThis,d))):r.closePopup({isDenied:!0,value:o})},xc=(r,o)=>{r.closePopup({isConfirmed:!0,value:o})},wc=(r,o)=>{r.rejectPromise(o)},Bo=(r,o)=>{const l=Se.innerParams.get(r||globalThis);l.showLoaderOnConfirm&&Ur(),l.preConfirm?(r.resetValidationMessage(),Se.awaitingPromise.set(r||globalThis,!0),Promise.resolve().then(()=>ui(l.preConfirm(o,l.validationMessage))).then(d=>{cn(es())||d===!1?r.hideLoading():xc(r,typeof d=="undefined"?o:d)}).catch(d=>wc(r||globalThis,d))):xc(r,o)},ud=(r,o,l,f)=>{o.keydownTarget&&o.keydownHandlerAdded&&(o.keydownTarget.removeEventListener("keydown",o.keydownHandler,{capture:o.keydownListenerCapture}),o.keydownHandlerAdded=!1),l.toast||(o.keydownHandler=d=>hd(r,d,f),o.keydownTarget=l.keydownListenerCapture?window:Ke(),o.keydownListenerCapture=l.keydownListenerCapture,o.keydownTarget.addEventListener("keydown",o.keydownHandler,{capture:o.keydownListenerCapture}),o.keydownHandlerAdded=!0)},vo=(r,o,l)=>{const f=bo();if(f.length)return o=o+l,o===f.length?o=0:o===-1&&(o=f.length-1),f[o].focus();Ke().focus()},pc=["ArrowRight","ArrowDown"],fd=["ArrowLeft","ArrowUp"],hd=(r,o,l)=>{const f=Se.innerParams.get(r);!f||(f.stopKeydownPropagation&&o.stopPropagation(),o.key==="Enter"?dd(r,o,f):o.key==="Tab"?gd(o,f):[...pc,...fd].includes(o.key)?xd(o.key):o.key==="Escape"&&wd(o,f,l))},dd=(r,o,l)=>{if(!o.isComposing&&o.target&&r.getInput()&&o.target.outerHTML===r.getInput().outerHTML){if(["textarea","file"].includes(l.input))return;Ql(),o.preventDefault()}},gd=(r,o)=>{const l=r.target,f=bo();let d=-1;for(let x=0;x<f.length;x++)if(l===f[x]){d=x;break}r.shiftKey?vo(o,d,-1):vo(o,d,1),r.stopPropagation(),r.preventDefault()},xd=r=>{const o=dn(),l=zn(),f=lr();if(![o,l,f].includes(document.activeElement))return;const d=pc.includes(r)?"nextElementSibling":"previousElementSibling",x=document.activeElement[d];x&&x.focus()},wd=(r,o,l)=>{Ao(o.allowEscapeKey)&&(r.preventDefault(),l(Pr.esc))},pd=(r,o,l)=>{Se.innerParams.get(r).toast?Ad(r,o,l):(md(o),Cd(o),Ed(r,o,l))},Ad=(r,o,l)=>{o.popup.onclick=()=>{const f=Se.innerParams.get(r);f.showConfirmButton||f.showDenyButton||f.showCancelButton||f.showCloseButton||f.timer||f.input||l(Pr.close)}};let ss=!1;const md=r=>{r.popup.onmousedown=()=>{r.container.onmouseup=function(o){r.container.onmouseup=void 0,o.target===r.container&&(ss=!0)}}},Cd=r=>{r.container.onmousedown=()=>{r.popup.onmouseup=function(o){r.popup.onmouseup=void 0,(o.target===r.popup||r.popup.contains(o.target))&&(ss=!0)}}},Ed=(r,o,l)=>{o.container.onclick=f=>{const d=Se.innerParams.get(r);if(ss){ss=!1;return}f.target===o.container&&Ao(d.allowOutsideClick)&&l(Pr.backdrop)}};function bd(r,o={}){lh(Object.assign({},o,r)),Ae.currentInstance&&(Ae.currentInstance._destroy(),Io()&&rc()),Ae.currentInstance=this;const l=Id(r,o);Uh(l),Object.freeze(l),Ae.timeout&&(Ae.timeout.stop(),delete Ae.timeout),clearTimeout(Ae.restoreFocusTimeout);const f=Td(this);return ql(this,l),Se.innerParams.set(this,l),yd(this,f,l)}const Id=(r,o)=>{const l=Vh(r),f=Object.assign({},Vr,o,l,r);return f.showClass=Object.assign({},Vr.showClass,f.showClass),f.hideClass=Object.assign({},Vr.hideClass,f.hideClass),f},yd=(r,o,l)=>new Promise((f,d)=>{const x=m=>{r.closePopup({isDismissed:!0,dismiss:m})};mi.swalPromiseResolve.set(r,f),mi.swalPromiseReject.set(r,d),o.confirmButton.onclick=()=>od(r),o.denyButton.onclick=()=>ad(r),o.cancelButton.onclick=()=>ld(r,x),o.closeButton.onclick=()=>x(Pr.close),pd(r,o,x),ud(r,Ae,l,x),Jh(r,l),Zh(l),Sd(Ae,l,x),_d(o,l),setTimeout(()=>{o.container.scrollTop=0})}),Td=r=>{const o={popup:Ke(),container:Bt(),actions:ts(),confirmButton:dn(),denyButton:zn(),cancelButton:lr(),loader:Fr(),closeButton:Eo(),validationMessage:es(),progressSteps:kl()};return Se.domCache.set(r,o),o},Sd=(r,o,l)=>{const f=ns();Pt(f),o.timer&&(r.timeout=new Lh(()=>{l("timer"),delete r.timeout},o.timer),o.timerProgressBar&&(_t(f),setTimeout(()=>{r.timeout&&r.timeout.running&&To(o.timer)})))},_d=(r,o)=>{if(!o.toast){if(!Ao(o.allowEnterKey))return Nd();Od(r,o)||vo(o,-1,1)}},Od=(r,o)=>o.focusDeny&&cn(r.denyButton)?(r.denyButton.focus(),!0):o.focusCancel&&cn(r.cancelButton)?(r.cancelButton.focus(),!0):o.focusConfirm&&cn(r.confirmButton)?(r.confirmButton.focus(),!0):!1,Nd=()=>{document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};function Rd(r){const o=Ke(),l=Se.innerParams.get(this);if(!o||xi(o,l.hideClass.popup))return jt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const f={};Object.keys(r).forEach(x=>{Wr.isUpdatableParameter(x)?f[x]=r[x]:jt(`Invalid parameter to update: "${x}". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js

If you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md`)});const d=Object.assign({},l,f);ql(this,d),Se.innerParams.set(this,d),Object.defineProperties(this,{params:{value:Object.assign({},this.params,r),writable:!1,enumerable:!0}})}function Md(){const r=Se.domCache.get(this),o=Se.innerParams.get(this);if(!o){Ac(this);return}r.popup&&Ae.swalCloseEventFinishedCallback&&(Ae.swalCloseEventFinishedCallback(),delete Ae.swalCloseEventFinishedCallback),Ae.deferDisposalTimer&&(clearTimeout(Ae.deferDisposalTimer),delete Ae.deferDisposalTimer),typeof o.didDestroy=="function"&&o.didDestroy(),Dd(this)}const Dd=r=>{Ac(r),delete r.params,delete Ae.keydownHandler,delete Ae.keydownTarget,delete Ae.currentInstance},Ac=r=>{r.isAwaitingPromise()?(Po(Se,r),Se.awaitingPromise.set(r,!0)):(Po(mi,r),Po(Se,r))},Po=(r,o)=>{for(const l in r)r[l].delete(o)};var mc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",hideLoading:nc,disableLoading:nc,getInput:fh,close:is,isAwaitingPromise:Ih,rejectPromise:Th,closePopup:is,closeModal:is,closeToast:is,enableButtons:Nh,disableButtons:Rh,enableInput:Mh,disableInput:Dh,showValidationMessage:Bh,resetValidationMessage:vh,getProgressSteps:Ph,_main:bd,update:Rd,_destroy:Md});let Lo;class Hr{constructor(...o){if(typeof window=="undefined")return;Lo=this;const l=Object.freeze(this.constructor.argsToParams(o));Object.defineProperties(this,{params:{value:l,writable:!1,enumerable:!0,configurable:!0}});const f=this._main(this.params);Se.promise.set(this,f)}then(o){return Se.promise.get(this).then(o)}finally(o){return Se.promise.get(this).finally(o)}}Object.assign(Hr.prototype,mc);Object.assign(Hr,ch);Object.keys(mc).forEach(r=>{Hr[r]=function(...o){if(Lo)return Lo[r](...o)}});Hr.DismissReason=Pr;Hr.version="11.1.9";const Wr=Hr;Wr.default=Wr;export{yn as F,kd as H,Wr as S,tl as a,Ld as b,Pd as c,vd as d,F0 as e,Fd as f,P0 as o,Bd as r};
