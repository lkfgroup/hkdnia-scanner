import{d as l,r as m,o as c,c as d,a as u,b as v,F as y,H as f,S as _,e as h,f as b}from"./vendor.7f85bd3b.js";const g=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};g();const w=u("div",{id:"scanner"},null,-1),x={key:0,class:"min-h-screen flex justify-center items-center"},N=l({props:{qrbox:{default:250},fps:{default:10}},setup(a){const s=a,o=m(!1),n=async()=>{var t;const e=await((t=(await f.getCameras()).pop())==null?void 0:t.id);if(o.value=!!e,e){const r=new f("scanner");await r.start(e,s,(p,C)=>{const i=p.split("|");_.fire({html:`<div>Name: ${i[6]} </div><div>HKID: ${i[5]}</div><div>First dose: ${i[7]}</div>`,willOpen:()=>r.pause(),didDestroy:()=>r.resume()})},()=>{})}};return(e,t)=>(c(),d(y,null,[w,o.value?v("",!0):(c(),d("div",x,[u("button",{type:"button",onClick:n},"Request Camera Permissions")]))],64))}}),k=l({setup(a){return(s,o)=>(c(),h(N,{qrbox:250,fps:10}))}});b(k).mount("#app");
